(function(J){var p="16.06";var c="javascript_native_web";var M=false,H=false,W="/i",f=500,z=1000,Q=[],u=[],L=[],d={},k=null,j=true,R,B=0,v=null,i=0,O=0,K=0,Y=60,X=20,n=0,A=true,a,F=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,T=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver|bingbot|Google Web Preview|Mediapartners-Google|AdsBot-Google|Baiduspider|Ezooms|YahooSeeker|AltaVista|AVSearch|Mercator|Scooter|InfoSeek|Ultraseek|Lycos|Wget|YandexBot|Yandex|YaDirectFetcher|SiteBot|Exabot|AhrefsBot|MJ12bot|TurnitinBot|magpie-crawler|Nutch Crawler|CMS Crawler|rogerbot|Domnutch|ssearch_bot|XoviBot|netseer|digincore|fr-crawler|wesee|AliasIO)/,E=false,l=true,o;J.init=function(aa){if(!M){o=w();M=true;Q=e("cly_queue")||[];d={};u=e("cly_event")||[];aa=aa||{};f=aa.interval||J.interval||f;z=aa.queue_size||J.queue_size||z;Y=aa.fail_timeout||J.fail_timeout||Y;X=aa.inactivity_time||J.inactivity_time||X;J.debug=aa.debug||J.debug||false;J.app_key=aa.app_key||J.app_key||null;J.device_id=aa.device_id||J.device_id||U();J.url=q(aa.url||J.url||"https://cloud.count.ly");J.app_version=aa.app_version||J.app_version||"0.0";J.country_code=aa.country_code||J.country_code||null;J.city=aa.city||J.city||null;J.ip_address=aa.ip_address||J.ip_address||null;J.ignore_bots=aa.ignore_bots||J.ignore_bots||true;J.q=J.q||[];J.cid=aa.cid||J.cid||"";s("Countly initialized");if(T.test(navigator.userAgent)){E=true}if(J.q.constructor!==Array){J.q=[]}h();e("cly_id",J.device_id);if(location.search){var ac=location.search.substring(1).split("&");for(var ab=0;ab<ac.length;ab++){var Z=ac[ab].split("=");if(Z[0]=="cly_id"){e("cly_cmp_id",Z[1])}else{if(Z[0]=="cly_uid"){e("cly_cmp_uid",Z[1])}}}}}};J.begin_session=function(aa){if(!H){s("Session started");R=w();H=true;j=(aa)?false:true;var Z={};Z.begin_session=1;Z.metrics=JSON.stringify(r());b(Z)}};J.session_duration=function(Z){if(H){s("Session extended",Z);b({session_duration:Z})}};J.end_session=function(Z){if(H){Z=Z||w()-R;s("Ending session");D();H=false;b({end_session:1,session_duration:Z});h()}};J.change_id=function(Z,ab){if(J.device_id!=Z){var aa=J.device_id;J.device_id=Z;e("cly_id",J.device_id);s("Changing id");if(ab){b({old_device_id:aa})}}};J.add_event=function(ab){if(!ab.key){s("Event must have key property");return}if(!ab.count){ab.count=1}var aa=["key","count","sum","dur","segmentation"];var ac=I(ab,aa);ac.timestamp=w();var Z=new Date();ac.hour=Z.getHours();ac.dow=Z.getDay();u.push(ac);e("cly_event",u);s("Adding event: ",ab)};J.start_event=function(Z){if(d[Z]){s("Timed event with key "+Z+" already started");return}d[Z]=w()};J.end_event=function(Z){if(typeof Z=="string"){Z={key:Z}}if(!Z.key){s("Event must have key property");return}if(!d[Z.key]){s("Timed event with key "+Z.key+" was not started");return}Z.dur=w()-d[Z.key];J.add_event(Z);delete d[Z.key]};J.user_details=function(Z){s("Adding userdetails: ",Z);var aa=["name","username","email","organization","phone","picture","gender","byear","custom"];b({user_details:JSON.stringify(I(Z,aa))})};J.report_conversion=function(Z,aa){Z=Z||e("cly_cmp_id")||"cly_organic";aa=aa||e("cly_cmp_uid");if(Z&&aa){b({campaign_id:Z,campaign_user:aa})}else{if(Z){b({campaign_id:Z})}else{s("No campaign data found")}}};var V={};var N=function(aa,ab,Z){if(!V[aa]){V[aa]={}}if(Z=="$push"||Z=="$pull"||Z=="$addToSet"){if(!V[aa][Z]){V[aa][Z]=[]}V[aa][Z].push(ab)}else{V[aa][Z]=ab}};J.userData={set:function(Z,aa){V[Z]=aa},set_once:function(Z,aa){N(Z,1,"$setOnce")},increment:function(Z){N(Z,1,"$inc")},increment_by:function(Z,aa){N(Z,aa,"$inc")},multiply:function(Z,aa){N(Z,aa,"$mul")},max:function(Z,aa){N(Z,aa,"$max")},min:function(Z,aa){N(Z,aa,"$min")},push:function(Z,aa){N(Z,aa,"$push")},push_unique:function(Z,aa){N(Z,aa,"$addToSet")},pull:function(Z,aa){N(Z,aa,"$pull")},save:function(){b({user_details:JSON.stringify({custom:V})});V={}}};J.track_errors=function(Z){k=Z;window.onerror=function(ab,aa,ai,ac,ad){if(typeof ad!=="undefined"){P(ad,false)}else{ac=ac||(window.event&&window.event.errorCharacter);var ag="";if(typeof ab!=="undefined"){ag+=ab+"\n"}if(typeof aa!=="undefined"){ag+="at "+aa}if(typeof ai!=="undefined"){ag+=":"+ai}if(typeof ac!=="undefined"){ag+=":"+ac}ag+="\n";try{var ah=[];var ae=arguments.callee.caller;while(ae){ah.push(ae.name);ae=ae.caller}ag+=ah.join("\n")}catch(af){}P(ag,false)}}};J.log_error=function(aa,Z){P(aa,true,Z)};J.add_log=function(Z){L.push(Z)};J.stop_time=function(){if(l){l=false;B=w()-R;O=w()-i}};J.start_time=function(){if(!l){l=true;R=w()-B;i=w()-O;O=0}};J.track_sessions=function(){J.begin_session();J.start_time();G(window,"beforeunload",function(){J.end_session()});G(window,"unload",function(){J.end_session()});var aa="hidden";function Z(){if(document[aa]){J.stop_time()}else{J.start_time()}}if(aa in document){document.addEventListener("visibilitychange",Z)}else{if((aa="mozHidden") in document){document.addEventListener("mozvisibilitychange",Z)}else{if((aa="webkitHidden") in document){document.addEventListener("webkitvisibilitychange",Z)}else{if((aa="msHidden") in document){document.addEventListener("msvisibilitychange",Z)}else{if("onfocusin" in document){G(window,"focusin",function(){J.start_time()});G(window,"focusout",function(){J.stop_time()})}else{G(window,"focus",function(){J.start_time()});G(window,"blur",function(){J.stop_time()});G(window,"pageshow",function(){J.start_time()});G(window,"pagehide",function(){J.stop_time()})}}}}}function ab(){if(n>=X){J.start_time()}n=0}G(window,"mousemove",ab);G(window,"click",ab);G(window,"keydown",ab);G(window,"scroll",ab);setInterval(function(){n++;if(n>=X){J.stop_time()}},60000)};J.track_pageview=function(af,ad){D();if(af&&af.constructor===Array){ad=af;af=null}af=af||window.location.pathname;if(ad&&ad.length){for(var ab=0;ab<ad.length;ab++){try{var ac=new RegExp(ad[ab]);if(ac.test(af)){s("Ignored:",af);return}}catch(aa){}}}v=af;i=w();if(!a){r()}var Z={name:af,visit:1,segment:a,domain:window.location.hostname};if(typeof document.referrer!=="undefined"&&document.referrer.length){var ae=F.exec(document.referrer);if(ae&&ae[11]&&ae[11]!=window.location.hostname){Z.start=1}}J.add_event({key:"[CLY]_view",segmentation:Z})};J.track_view=function(aa,Z){J.track_pageview(aa,Z)};J.track_clicks=function(aa){aa=aa||document;var ab=true;function Z(ae){if(ab){ab=false;t(ae);if(typeof ae.pageX!=="undefined"&&typeof ae.pageY!=="undefined"){var ac=m();var ad=S();J.add_event({key:"[CLY]_action",segmentation:{type:"click",x:ae.pageX,y:ae.pageY,width:ad,height:ac,domain:window.location.hostname}})}setTimeout(function(){ab=true},1000)}}G(aa,"mousedown",Z);G(aa,"mouseup",Z);G(aa,"click",Z)};J.track_links=function(Z){Z=Z||document;function aa(){function ad(ag){var af=g(ag);t(ag);J.add_event({key:"linkClick",segmentation:{href:af.href,text:af.innerText,id:af.id,x:ag.pageX,y:ag.pageY}});if(typeof af.href!=="undefined"&&af.target!=="_blank"&&!(ag.metaKey||ag.altKey||ag.ctrlKey||ag.shiftKey)){var ae=af.href.replace(window.location.href.split("#")[0],"");if(ae.indexOf("#")!==0){J.end_session()}}}if(typeof Z.getElementsByTagName!=="undefined"){var ab=Z.getElementsByTagName("a");for(var ac=0;ac<ab.length;ac++){G(ab[ac],"click",ad)}}else{s("Can't track clicks")}}if(document.readyState==="complete"){aa()}else{G(window,"load",aa)}};J.track_forms=function(aa){aa=aa||document;function Z(ad){return ad.name||ad.id||ad.type||ad.nodeName}function ac(ae){var ad=false;G(ae,"submit",function(al){if(!ad){ad=true;var ah={id:ae.id,name:ae.name,action:ae.action,method:ae.method};var ag;if(typeof ae.elements!=="undefined"){for(var ak=0;ak<ae.elements.length;ak++){ag=ae.elements[ak];if(ag&&ag.type!="password"){if(typeof ah["input:"+Z(ag)]==="undefined"){ah["input:"+Z(ag)]=[]}if(ag.nodeName.toLowerCase()=="select"){if(typeof ag.multiple!=="undefined"){var af=[];if(typeof ag.options!=="undefined"){for(var ai=0;ai<ag.options.length;ai++){if(ag.options[ai].selected){af.push(ag.options[ai].value)}}}ah["input:"+Z(ag)].push(af.join(", "))}else{ah["input:"+Z(ag)].push(ag.options[ag.selectedIndex].value)}}else{if(ag.nodeName.toLowerCase()=="input"){if(typeof ag.type!=="undefined"){if(ag.type.toLowerCase()=="checkbox"||ag.type.toLowerCase()=="radio"){if(ag.checked){ah["input:"+Z(ag)].push(ag.value)}}else{ah["input:"+Z(ag)].push(ag.value)}}else{ah["input:"+Z(ag)].push(ag.value)}}else{if(ag.nodeName.toLowerCase()=="textarea"){ah["input:"+Z(ag)].push(ag.value)}else{if(typeof ag.value!=="undefined"){ah["input:"+Z(ag)].push(ag.value)}}}}}}}for(var aj in ah){if(typeof ah[aj].join!="undefined"){ah[aj]=ah[aj].join(", ")}}J.add_event({key:"formSubmit",segmentation:ah});J.end_session()}})}function ab(){if(typeof aa.getElementsByTagName!=="undefined"){var ad=aa.getElementsByTagName("form");for(var ae=0;ae<ad.length;ae++){ac(ad[ae])}}else{s("Can't track forms")}}if(document.readyState==="complete"){ab()}else{G(window,"load",ab)}};J.collect_from_forms=function(aa,Z){aa=aa||document;function ac(ae){var ad=false;G(ae,"submit",function(af){if(!ad){ad=true;var am={};var ag=false;var an;if(typeof ae.elements!=="undefined"){var al={};var ak=aa.getElementsByTagName("LABEL");var aj,ai;for(aj=0;aj<ak.length;aj++){if(ak[aj].htmlFor&&ak[aj].htmlFor!==""){al[ak[aj].htmlFor]=ak[aj].innerText||ak[aj].textContent||ak[aj].innerHTML}}for(aj=0;aj<ae.elements.length;aj++){an=ae.elements[aj];if(an&&an.type!="password"){if(an.className.indexOf("cly_user_ignore")==-1){var ao="";if(an.nodeName.toLowerCase()=="select"){if(typeof an.multiple!=="undefined"){var ap=[];if(typeof an.options!=="undefined"){for(ai=0;ai<an.options.length;ai++){if(an.options[ai].selected){ap.push(an.options[ai].value)}}}ao=ap.join(", ")}else{ao=an.options[an.selectedIndex].value}}else{if(an.nodeName.toLowerCase()=="input"){if(typeof an.type!=="undefined"){if(an.type.toLowerCase()=="checkbox"||an.type.toLowerCase()=="radio"){if(an.checked){ao=an.value}}else{ao=an.value}}else{ao=an.value}}else{if(an.nodeName.toLowerCase()=="textarea"){ao=an.value}else{if(typeof an.value!=="undefined"){ao=an.value}}}}if(an.className&&an.className.indexOf("cly_user_")!=-1){var ah=an.className.split(" ");for(ai=0;ai<ah.length;ai++){if(ah[ai].indexOf("cly_user_")===0){am[ah[ai].replace("cly_user_","")]=ao;ag=true;break}}}else{if((an.type&&an.type.toLowerCase()=="email")||(an.name&&an.name.toLowerCase().indexOf("email")!=-1)||(an.id&&an.id.toLowerCase().indexOf("email")!=-1)||(an.id&&al[an.id]&&al[an.id].toLowerCase().indexOf("email")!=-1)||(/[^@\s]+@[^@\s]+\.[^@\s]+/).test(ao)){if(!am.email){am.email=ao}ag=true}else{if((an.name&&an.name.toLowerCase().indexOf("username")!=-1)||(an.id&&an.id.toLowerCase().indexOf("username")!=-1)||(an.id&&al[an.id]&&al[an.id].toLowerCase().indexOf("username")!=-1)){if(!am.username){am.username=ao}ag=true}else{if((an.name&&(an.name.toLowerCase().indexOf("tel")!=-1||an.name.toLowerCase().indexOf("phone")!=-1||an.name.toLowerCase().indexOf("number")!=-1))||(an.id&&(an.id.toLowerCase().indexOf("tel")!=-1||an.id.toLowerCase().indexOf("phone")!=-1||an.id.toLowerCase().indexOf("number")!=-1))||(an.id&&al[an.id]&&(al[an.id].toLowerCase().indexOf("tel")!=-1||al[an.id].toLowerCase().indexOf("phone")!=-1||al[an.id].toLowerCase().indexOf("number")!=-1))){if(!am.phone){am.phone=ao}ag=true}else{if((an.name&&(an.name.toLowerCase().indexOf("org")!=-1||an.name.toLowerCase().indexOf("company")!=-1))||(an.id&&(an.id.toLowerCase().indexOf("org")!=-1||an.id.toLowerCase().indexOf("company")!=-1))||(an.id&&al[an.id]&&(al[an.id].toLowerCase().indexOf("org")!=-1||al[an.id].toLowerCase().indexOf("company")!=-1))){if(!am.organization){am.organization=ao}ag=true}else{if((an.name&&an.name.toLowerCase().indexOf("name")!=-1)||(an.id&&an.id.toLowerCase().indexOf("name")!=-1)||(an.id&&al[an.id]&&al[an.id].toLowerCase().indexOf("name")!=-1)){if(!am.name){am.name=""}am.name+=ao+" ";ag=true}}}}}}}}}}if(ag){s("Gathered user data",am);if(Z){J.user_details({custom:am})}else{J.user_details(am)}}J.end_session()}})}function ab(){if(typeof aa.getElementsByTagName!=="undefined"){var ad=aa.getElementsByTagName("form");for(var ae=0;ae<ad.length;ae++){ac(ad[ae])}}else{s("Can't track forms")}}if(document.readyState==="complete"){ab()}else{G(window,"load",ab)}};J.collect_from_facebook=function(Z){if(FB&&FB.api){FB.api("/me",function(af){var ad={};if(af.name){ad.name=af.name}if(af.email){ad.email=af.email}if(af.gender=="male"){ad.gender="M"}else{if(af.gender=="female"){ad.gender="F"}}if(af.birthday){var ag=af.birthday.split("/").pop();if(ag&&ag.length==4){ad.byear=ag}}if(af.work&&af.work[0]&&af.work[0].employer&&af.work[0].employer.name){ad.organization=af.work[0].employer.name}if(Z){ad.custom={};for(var ac in Z){var ae=Z[ac].split(".");var ab=af;for(var aa=0;aa<ae.length;aa++){ab=ab[ae[aa]];if(typeof ab==="undefined"){break}}if(typeof ab!=="undefined"){ad.custom[ac]=ab}}}J.user_details(ad)})}};function D(){if(v){if(!a){r()}var Z={name:v,segment:a};J.add_event({key:"[CLY]_view",dur:w()-i,segmentation:Z});v=null}}function b(aa){if(J.ignore_bots&&E){return}if(!J.app_key||!J.device_id){s("app_key or device_id is missing");return}aa.app_key=J.app_key;aa.device_id=J.device_id;aa.sdk_name=c;aa.cid=J.cid;if(J.country_code){aa.country_code=J.country_code}if(J.city){aa.city=J.city}if(J.ip_address!==null){aa.ip_address=J.ip_address}aa.timestamp=w();var Z=new Date();aa.hour=Z.getHours();aa.dow=Z.getDay();if(Q.length>z){Q.shift()}Q.push(aa);e("cly_queue",Q,true)}function h(){if(typeof J.q!=="undefined"&&J.q.length>0){var ad;for(var ab=0;ab<J.q.length;ab++){ad=J.q[ab];s("Processing queued call",ad);if(typeof ad==="function"){ad()}else{if(ad.constructor===Array&&ad.length>0){if(typeof J[ad[0]]!=="undefined"){J[ad[0]].apply(null,ad.slice(1))}else{var Z=ad[0].replace("userData.","");if(typeof J.userData[Z]!=="undefined"){J.userData[Z].apply(null,ad.slice(1))}}}}}J.q=[]}if(H&&j&&l){var ac=w();if(ac-R>60){J.session_duration(ac-R);R=ac}}if(u.length>0){if(u.length<=10){b({events:JSON.stringify(u)});u=[]}else{var aa=u.splice(0,10);b({events:JSON.stringify(aa)})}e("cly_event",u)}if(Q.length>0&&A&&w()>K){A=false;var ae=Q.shift();s("Processing request",ae);y(ae,function(af,ag){s("Request Finished",ag,af);if(af){Q.unshift(ag);K=w()+Y}e("cly_queue",Q,true);A=true})}setTimeout(h,f)}function U(){return e("cly_id")||C()}function C(){var aa=new Date().getTime();var Z="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ac){var ab=(aa+Math.random()*16)%16|0;aa=Math.floor(aa/16);return(ac=="x"?ab:(ab&3|8)).toString(16)});return Z}function r(){var al={};al._app_version=J.app_version;if(screen.width){var aa=(screen.width)?screen.width:"";var ao=(screen.height)?screen.height:"";al._resolution=""+aa+"x"+ao}var an=navigator.appVersion;var aj=navigator.userAgent;var ah=navigator.appName;var ap,ab;var ac=[["Opera Mini","Opera Mini"],["Opera","Opera"],["OPR","Opera"],["MSIE","Internet Explorer"],["IEMobile","IE Mobile"],["Edge","Edge"],["CrKey","Chromecast"],["Chromium","Chromium"],["FxiOS","Firefox"],["Trident","Internet Explorer"],["FBAV/","Facebook app"],["baiduboxapp/","Baidu Box App"],["baidubrowser/","Baidu Browser"],["Dolfin","Dolfin"],["Skyfire","Skyfire"],["bolt","Bolt"],["teashark","TeaShark"],["Blazer","Blazer"],["Tizen","Tizen"],["UCWEB","UCBrowser"],["UC.","UCBrowser"],["DiigoBrowser","DiigoBrowser"],["Puffin","Puffin"],["Mercury","Mercury"],["Obigo","ObigoBrowser"],["NF-Browser","NetFront"],["amaya","Amaya"],["Arora","Arora"],["Avant","Avant"],["BlackBerry","BlackBerry"],["RIM","BlackBerry"],["CFNetwork","CFNetwork"],["Camino","Camino"],["Coast","Coast"],["Dalvik","Dalvik"],["Dillo","Dillo"],["DoCoMo","DoCoMo"],["ELinks","ELinks"],["Espial","Espial TV Browser"],["FlyFlow","FlyFlow"],["GSA","Google App"],["Google Desktop","Google Desktop"],["GooglePlus","Google+ App"],["IBrowse","IBrowse"],["Jasmine","Jasmine"],["Kindle","Kindle"],["Konqueror","Konqueror"],["Links","Links"],["Lotus-Notes","Lotus Notes"],["Lynx","Lynx"],["WAP","WAP Browser"],["MiuiBrowser","Miui Browser"],["Nokia","Nokia"],["OneBrowser","OneBrowser"],["Outlook","Outlook"],["Palm","Palm"],["Pinterest","Pinterest App"],["Playstation","Playstation"],["PlayStation","Playstation"],["PLAYSTATION","Playstation"],["Polaris","Polaris"],["QQ","QQbrowser"],["Qt","Qt"],["QuickTime","QuickTime"],["SEMC-Browser","SEMC Browser"],["SamsungBrowser","Samsung Browser"],["SeaMonkey","SeaMonkey"],["Sleipnir","Sleipnir"],["SmartTV","SmartTV WebBrowser"],["Viera","SmartViera"],["Thunderbird","Thunderbird"],["Vivaldi","Vivaldi"],["wOSBrowser","webOS"],["WebTV","WebTV"],["wp-","WordPress App"],["YaBrowser","Yandex Browser"],["iCab","iCab"],["iTunes","iTunes"],["rekonq","rekonq"],["rekonq","rekonq"],["Chrome","Chrome"],["Firefox","Firefox"],["Android","Android"],["Safari","Safari"],["iPhone","Safari"]];for(var af=0;af<ac.length;af++){if(aj.indexOf(ac[af][0])!=-1){ah=ac[af][1];break}}if(!ah&&(ap=aj.lastIndexOf(" ")+1)<(ab=aj.lastIndexOf("/"))){ah=aj.substring(ap,ab);if(ah.toLowerCase()==ah.toUpperCase()){ah=navigator.appName}}al._browser=ah;var ad="unknown";var ak=[{s:"Xbox",r:/Xbox/},{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows NT 10.0)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Windows Phone",r:/Windows Phone/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OSX",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"SearchBot",r:T}];for(var Z in ak){var ai=ak[Z];if(ai.r.test(aj)){ad=ai.s;break}}var ae="unknown";if(/Windows/.test(ad)&&ad!="Windows Phone"){ae=/Windows (.*)/.exec(ad)[1];ad="Windows"}switch(ad){case"Mac OSX":ae=/Mac OS X (10[\.\_\d]+)/.exec(aj)[1];break;case"Windows Phone":ae=(/Windows Phone ([\.\_\d]+)/.exec(aj)||["","8.0"])[1];break;case"Android":ae=/Android ([\.\_\d]+)/.exec(aj)[1];break;case"iOS":ae=/OS (\d+)_(\d+)_?(\d+)?/.exec(an);ae=ae[1]+"."+ae[2]+"."+(ae[3]|0);break}al._os=ad;a=ad;al._os_version=ae;var am=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage;if(typeof am!=="undefined"){al._locale=am}if(typeof document.referrer!=="undefined"&&document.referrer.length){var ag=F.exec(document.referrer);if(ag&&ag[11]&&ag[11]!=window.location.hostname){al._store=document.referrer}}s("Got metrics",al);return al}function s(){if(J.debug&&typeof console!=="undefined"){if(arguments[1]&&typeof arguments[1]=="object"){arguments[1]=JSON.stringify(arguments[1])}console.log(Array.prototype.slice.call(arguments).join("\n"))}}function w(){return Math.floor(new Date().getTime()/1000)}function P(ab,ai,ad){ad=ad||k;var ah="";if(typeof ab==="object"){if(typeof ab.stack!=="undefined"){ah=ab.stack}else{if(typeof ab.name!=="undefined"){ah+=ab.name+":"}if(typeof ab.message!=="undefined"){ah+=ab.message+"\n"}if(typeof ab.fileName!=="undefined"){ah+="in "+ab.fileName+"\n"}if(typeof ab.lineNumber!=="undefined"){ah+="on "+ab.lineNumber}if(typeof ab.columnNumber!=="undefined"){ah+=":"+ab.columnNumber}}}else{ah=ab+""}ai=(ai)?true:false;var ag=r();var Z={_os:ag._os,_os_version:ag._os_version,_resolution:ag._resolution,_error:ah,_app_version:ag._app_version,_run:w()-o};Z._not_os_specific=true;var ae=navigator.battery||navigator.webkitBattery||navigator.mozBattery||navigator.msBattery;if(ae){Z._bat=Math.floor(ae.level*100)}if(typeof navigator.onLine!=="undefined"){Z._online=(navigator.onLine)?true:false}Z._background=(document.hasFocus())?false:true;if(L.length>0){Z._logs=L.join("\n")}L=[];Z._nonfatal=ai;Z._view=(window.location.pathname||"")+(window.location.search||"")+(window.location.hash||"");Z._browser=ag._browser;if(typeof ad!=="undefined"){Z._custom=ad}try{var aa=document.createElement("canvas");var ac=aa.getContext("experimental-webgl");Z._opengl=ac.getParameter(ac.VERSION)}catch(af){}b({crash:JSON.stringify(Z)})}function y(ab,ac){try{s("Sending XML HTTP request");var aa=window.XMLHttpRequest?new window.XMLHttpRequest():window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;aa.open("GET",J.url+W+"?"+x(ab),true);aa.onreadystatechange=function(){if(this.readyState===4&&this.status>=200&&this.status<300){if(typeof ac==="function"){ac(false,ab)}}else{if(this.readyState===4){s("Failed Server XML HTTP request",this.status);if(typeof ac==="function"){ac(true,ab)}}}};aa.send()}catch(Z){s("Failed XML HTTP request",Z);if(typeof ac==="function"){ac(true,ab)}}}function x(ab){var aa=[];for(var Z in ab){aa.push(Z+"="+encodeURIComponent(ab[Z]))}return aa.join("&")}function q(Z){if(Z.substr(Z.length-1)=="/"){return Z.substr(0,Z.length-1)}return Z}function I(ad,ab){var Z={};var ac;for(var aa=0;aa<ab.length;aa++){ac=ab[aa];if(typeof ad[ac]!=="undefined"){Z[ac]=ad[ac]}}return Z}var G=function(Z,aa,ab){if(typeof Z.addEventListener!=="undefined"){Z.addEventListener(aa,ab,false)}else{Z.attachEvent("on"+aa,ab)}};var g=function(Z){if(!Z){return window.event.srcElement}else{if(typeof Z.target!=="undefined"){return Z.target}else{return Z.srcElement}}};function t(Z){if(typeof Z.pageY=="undefined"&&typeof Z.clientX=="number"&&document.documentElement){Z.pageX=Z.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;Z.pageY=Z.clientY+document.body.scrollTop+document.documentElement.scrollTop}return Z}function m(){var Z=document;return Math.max(Math.max(Z.body.scrollHeight,Z.documentElement.scrollHeight),Math.max(Z.body.offsetHeight,Z.documentElement.offsetHeight),Math.max(Z.body.clientHeight,Z.documentElement.clientHeight))}function S(){var Z=document;return Math.max(Math.max(Z.body.scrollWidth,Z.documentElement.scrollWidth),Math.max(Z.body.offsetWidth,Z.documentElement.offsetWidth),Math.max(Z.body.clientWidth,Z.documentElement.clientWidth))}var e=function e(ab,ae,aa){aa=aa||false;var ac=false,ad;if(typeof localStorage!=="undefined"){ac=true;try{localStorage.setItem("testLocal",true)}catch(ag){ac=false}}if(typeof ae!=="undefined"&&ae!==null){if(typeof ae==="object"){ae=JSON.stringify(ae)}if(ac){localStorage.setItem(ab,ae)}else{if(!aa){Z(ab,ae,30)}}}if(typeof ae==="undefined"){if(ac){ad=localStorage.getItem(ab)}else{if(!aa){ad=af(ab)}}try{ad=JSON.parse(ad)}catch(ag){ad=ad}return ad}if(ae===null){if(ac){localStorage.removeItem(ab)}else{if(!aa){Z(ab,"",-1)}}}function Z(aj,ak,al){var ai=new Date();ai.setTime(ai.getTime()+(al*24*60*60*1000));var ah="; expires="+ai.toGMTString();document.cookie=aj+"="+ak+ah+"; path=/"}function af(ak){var al=ak+"=";var ai=document.cookie.split(";");for(var aj=0,ah=ai.length;aj<ah;aj++){var am=ai[aj];while(am.charAt(0)===" "){am=am.substring(1,am.length)}if(am.indexOf(al)===0){return am.substring(al.length,am.length)}}return null}}}(window.Countly=window.Countly||{}));