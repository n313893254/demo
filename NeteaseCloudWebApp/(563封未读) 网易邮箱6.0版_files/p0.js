function _fEval(a){var b=$.Eval.get(a);return b}!function(){var a=netease.mail.base,b=a.createClass("netease.mail.Global");$.Global=b;var c={config:{packageName:$G.environment.packageName,cacheJsPath:$G.environment.cacheJsPath,appName:$G.environment.appName,isDebug:$G.environment.isDebug,time:new Date($G.environment.now),unnormalids:[2,4,5,6,7,15],nolistids:[4,5,7,15],nounreadids:[4,5]},onReady:function(){}},d=c.config;c.onReady;var e=$.Object;d=d||{},$G=window.$G||{},$G.common=d;var f={_conf:{},set:function(a,b,c){this._conf[a]=c?b:$.Object.isArray(b)?$.Array.union(this._conf[a]||[],b):$.Object.extend(this._conf[a],b)},get:function(a){return this._conf[a]}};e.extend($G,f,!0);var g={call:function(a,b){var c=b.replace(d.packageName+".","").replace(/\./gi,"/").toLowerCase()+".js";return a+c}},h={packageName:null,appName:"js5",isDebug:!1,loaderConf:g,cacheJsPath:null};e.extend(d,h,!0),$.createPackage(d.packageName),$.Component=netease.mail.component.Component,$.Object.extend($G,{config:d}),$.Debug.activate=d.isDebug,$D=$.Debug,$N=function(a){var b=d.packageName;return a?a.indexOf(b)>-1?a:b+"."+a:b},$RN=function(a){var b=d.packageName;return a?a.indexOf(b)>-1?a.substring(b.length+1):a:""},$I=function(a){var b=$N(a);return $.getClass(b)},$.Loader.baseUrl=d.cacheJsPath,$.Loader.loaderConf=d.loaderConf,$.Loader.isDebug=d.isDebug,$L=function(a,b,c,d){return a=$N(a),b||(b=window),c||(c=arguments.callee.caller),d||(d=c.arguments),$.Loader.load(a,b,c,d)},$LP=function(a,b,c,d){var e=$G.mailPattern.currentPattern;return $G.mailPattern[e][a]||($G.mailPattern[e][a]=!0),$L(a,b,c,d)},$E=function(a,b,c){e.isFunction(b)||(c=b,b=a,a=[]),e.isArray(a)||(a=[a]),c||(c=window);for(var d=0,f=a.length;f>d;d++)a[d]=$N(a[d]);$.Loader.exec(a,b,c)},$S=function(a,b){if(2==arguments.length)return Session.set(a,b);var c=Session.get(a);return c},$C=function(a){return $.Component.find("#"+a)}}(),function(a){function b(){var a=this.global;if(a.hasFlash&&a.loaded){for(var b=a.poll,c=null,d=0,e=b.length;e>d;d++)if(c=b[d],!c.used)return c.flash.init(c.id),c;return c=new p,c.init(),b[c.id]=c,c}return null}function c(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);var c=a.shift(),d=a.shift(),e=p.global.poll[c];if(e[d].apply(e,a),"onreadystatechange"==d){var f=a[0];(f==p.COMPLETE||f==p.SECURITYERROR||f==p.IOERROR)&&(e.used=!1)}}function d(){var a=this.global;a.loaded=!0,a.loadedFunc&&setTimeout(a.loadedFunc,0)}function e(a){a||(a={});var b=a.packageName||$G&&$G.common.packageName,c=this.global,d=netease.mail.base.Browser.getInfo(),e=netease.mail.base.Browser.isIE(),f=!1;if(e)try{(new Blob).slice&&(f=!0)}catch(g){}c.hasFlash=d.hasFlash,c.flashVersion=d.flashVersion;var h=a.loadedFunc;if(h){var i=c.loadedFunc;c.loadedFunc=i?function(){i(),h()}:h}if(c.hasFlash&&!c.created){if(c.url=a.url||"/"+($G&&$G.common&&$G.common.appName||"app")+"/h/flashRequest.swf",c.id=a.id||"flashRequest",c.container=a.container||null,!c.container){var j=document.createElement("DIV"),k=j.style;k.height="0px",k.width="0px",k.position="absolute",k.top="0px",k.left="0px",document.body.appendChild(j),c.container=j}var j=c.container,l="",m="callback="+b+".core.FlashRequest.callback&setLoaded="+b+".core.FlashRequest.setLoaded";try{var n=document.getElementById(c.id);n&&n.parentNode.removeChild(n)}catch(o){}l=e?f?'<object id="'+c.id+'" name="'+c.id+'" width="1" height="1" type="application/x-shockwave-flash" data="'+c.url+'"><param name="flashVars" value="'+m+'" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /></object>':'<object id="'+c.id+'" name="'+c.id+'" width="1" height="1" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="movie" value="'+c.url+'" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="FlashVars" value="'+m+'" /></object>':'<embed id="'+c.id+'"  name="'+c.id+'" src="'+c.url+'" flashvars="'+m+'" quality="high" wmode="transparent" allowscriptaccess="always" width="1" height="1" type="application/x-shockwave-flash" />',j.innerHTML=l,c.created=!0,c.flash=document.getElementById(c.id)}else c.loaded||c.flash.init&&this.setLoaded()}function f(){this.flash=this.global.flash,this.getFlashRequest()}function g(){this.id=this.flash.getFlashRequest()}function h(a){this.flash.loadPolicyFile(a)}function i(a){alert(a)}function j(a,b,c){this.used=!0,this.flash.open(this.id,a,b,c||this.global.charset)}function k(a,b){this.flash.setRequestHeader(this.id,a,b)}function l(a){this.flash.send(this.id,a)}function m(){}function n(a){this.used=a}function o(b){var c=this,d=b.url,e=b.body||"",f=b.head||[],g=b.method||Ajax.GET,h=b.charset||p.global.charset,i=b.stateChange,j=b.call;if(c.open(g,d,h),a.Array.each(f,function(a,b){c.setRequestHeader(b.name,b.value)}),c.onreadystatechange=function(a,b){i&&i(a,b),a==p.COMPLETE?j&&j(a,b):(a==p.SECURITYERROR||a==p.IOERROR)&&j(a)},"string"!=typeof e){var k=e,l=[];a.Object.each(k,function(a,b){l.push(a+"="+encodeURIComponent(b))}),e=l.join("&")}c.send(e)}var p=a.createClass($N("core.FlashRequest"));a.Object.extend(p,{OPEN:"open",PROGRESS:"progress",PROGRESSVALUE:"progressValue",HTTPSTATUS:"httpStatus",COMPLETE:"complete",SECURITYERROR:"securityError",IOERROR:"ioError",global:{hasFlash:!1,flashVersion:"",loaded:!1,charset:"utf-8",created:!1,poll:[]},getInstance:b,callback:c,setLoaded:d,create:e}),a.Object.extend(p.prototype,{global:p.global,id:0,used:!1,init:f,getFlashRequest:g,loadPolicyFile:h,showInfo:i,open:j,setRequestHeader:k,send:l,onreadystatechange:m,setUsed:n,request:o})}($,window),function(a,b){function c(a){var b="";if(w.wmsvrUrl&&w.apiUrl||(w.wmsvrUrl="http://"+$G.environment.host+"/"+w.appName+"/s?sid="+$G.user.sid,w.apiUrl=w.wmsvrUrl.replace("/s?","/w?")),a){var c=a.split(":")[0];b="ntes"==c?w.apiUrl:w.wmsvrUrl}return b}function d(){}function e(){}function f(){}function g(){}function h(){}function i(){}function j(b){var c=this,d=v.extend({},b.data);d.stateChange=a.Function.bind(c.stateChange,c,b),d.call=a.Function.bind(c.response,c,b),a.Ajax.request(d)}function k(a,b){var c=a.data.stateChange;c&&c(b)}function l(b,c){var d=c.status,e=b.data;if(e.requestType==a.Ajax.XMLHTTP&&200!=d&&202!=d)w.error("服务器响应错误。[错误码:"+b.data.url+"_"+d+"]");else{var f=e.call;f&&f(c)}}function m(b){function c(){var c=u.getInstance(),e=v.extend({},b.data);e.stateChange=a.Function.bind(d.stateChange,d,b),e.call=a.Function.bind(d.response,d,b),c.request(e)}var d=this;u.global.loaded?c():u.create({loadedFunc:c})}function n(a,b,c){var d=a.data.stateChange;d&&d(b,c)}function o(a,b,c){var d=a.data;if(b==u.SECURITYERROR||b==u.IOERROR){var e=d.error;d.error?e(c):w.error("服务器响应错误。[错误码:"+d.url+"_"+b+"]")}else{var f=d.call;f&&f(c)}}function p(a){var b=this;"undefined"==typeof a.type&&"undefined"==typeof a.data&&(a={type:w.AJAX,data:a}),a.noTips||w.show();try{a.type==w.FLASH?b._flashRequest(a):b._ajaxRequest(a)}catch(c){}}function q(a){var b=this;try{a.type==w.FLASH?b._flashStateChange.apply(b,arguments):b._ajaxStateChange.apply(b,arguments)}catch(c){}}function r(a){var b=this;try{a.type==w.FLASH?b._flashResponse.apply(b,arguments):b._ajaxResponse.apply(b,arguments)}catch(c){}a.noTips||w.hide()}function s(c){function d(a){if(u)try{u(a)}catch(b){}}function e(d){try{var e=$S("network");"undefined"==typeof d.responseBody&&"undefined"==typeof d.responseStream&&""==d.responseText?0!==e&&b.setTimeout(function(){w.check(!1)},3e3):0===e&&b.setTimeout(function(){w.check(!0)},3e3)}catch(i){}var j,m;if(p==w.JSON)try{j=f(d),m=!0}catch(n){if(!y)return c.dataType=w.XML,k.wmsvr(c),void 0}else{try{var o=d.getResponseHeader("Content-Type")}catch(i){}if(a.String.has(o,w.XML))try{j=g(d),m=!0}catch(n){}}try{j.code!=w.S_OK&&(a.Context.error={func:l,code:j.code})}catch(i){}m&&h(j)}function f(b){"string"==typeof b&&(b={responseText:b});var c=b.responseText,d=a.Eval.get(c);return d}function g(b){var c=b.responseXML,d={code:null,messages:[]};if(c&&c.documentElement){var e,f,g,h,i=c.documentElement.childNodes;for(e=0,f=i.length;f>e;e++)if(g=i[e],1==g.nodeType)switch(h=g.nodeName){case"code":d.code=g.firstChild.nodeValue;break;case"messages":var j,k,l=g.childNodes;for(j=0;j<l.length;j++){k={};var m=l[j];1==m.nodeType&&(m.attributes&&(m.attributes.getNamedItem("key")&&(k.key=m.attributes.getNamedItem("key").value),m.attributes.getNamedItem("severity")&&(k.severity=m.attributes.getNamedItem("severity").value)),m.firstChild==m.lastChild?k.summary=m.firstChild.nodeValue:(k.summary=m.firstChild.firstChild.nodeValue,k.detail=m.lastChild.firstChild.nodeValue),d.messages.push(k))}break;default:h="var",g.attributes&&g.attributes.getNamedItem("name")&&(h=g.attributes.getNamedItem("name").value),d[h]=a.Util.dom2Obj(g)}}return d}function h(a){if(z||i(a)){D&&(H[G]=a);var b=c.call;b&&b(a)}}function i(a){var b=a["var"]||{},d=a.code;if(d!=w.S_OK){if(u){var e=u(a);if(e===!0)return!1;if(e)return w.error(e),!1}if(d){var f=d.split("_"),g=f[0],h=f[1];switch(g){case"S":if("PARTIAL"==h){if(b.join&&0==a.failIndex)for(var j=0;j<b.length&&i(b[j]);j++);}else w.error("未知错误!"+d);break;case"W":w.error("未知错误!"+d);break;case"FS":"N00"==h||"FS_N01"==h||"FS_N10"==h||"FS_N11"==h?w.error("操作超时，请重新刷新邮箱。"):w.error("未知错误!"+d);break;case"FR":w.error("未知错误!"+d);break;case"FA":var l=!1;switch(d){case"FA_INVALID_PARAMETER":break;case"FA_INVALID_SESSION":case"FA_SECURITY":w.error("您的请求失效，请重新登录邮箱。"),l=!0;break;case"FA_MAIL_NOT_FOUND":Context.module&&Context.module.isRead&&w.error("邮件不存在。");break;case"FA_OVERFLOW":break;case"FA_UNAUTHORIZED":if("user:authenticate2"==c.func)break;case"FA_NEED_AUTH2":w.lock.call(k,d,F);break;case"FA_NEED_AUTH3":w.mailUnlock.call(k,d,F);break;default:w.error("未知错误!"+d)}l&&w.reload();break;default:w.error("未知错误!"+d)}}else w.error("未知错误!无错误码");return!1}return!0}var j,k=this,l=c.func,m=c.url||w.getWmsvrUrl(l),n=c.param,o=c.type||w.AJAX,p=c.dataType||w.JSON,q=c.sync||!1,r=[],s=c.body,t=c.call,u=c.error,x=c.hideWait,y=c.voidRetry,z=!!c.ignoreError,A=c.log,B=c.cacheFlag||0,C=(1&B)>0,D=(2&B)>0,E=$I("core.Log");l&&(m=a.String.uriAddParam(m,"func="+l)),n&&(m=a.String.uriAddParam(m,n)),p==w.JSON&&r.push({name:"Accept",value:"text/javascript"}),r=c.head||r,s&&(j=c.postOriginalData?s:"var="+encodeURIComponent('<?xml version="1.0"?>'+a.Util.obj2Str(s)));var F={data:{url:m,sync:q,head:r,method:c.method||a.Ajax.POST,body:j,error:d,call:e},type:o,noTips:x};A&&v.each(A,function(a,b){var c={};c[a]=b,E.cache(c)});var G=m+j,H=$S("cacheData");H||(H={},$S("cacheData",H)),C&&H[G]?t&&t(H[G]):(E.append(F),k.request(F)),E.record("wmsvr",c)}function t(){}var u=$I("core.FlashRequest"),v=a.Object,w=a.createClass($N("core.DataAction"));a.DataAction=w,v.extend(w,{FLASH:"flash",AJAX:"ajax",JSON:"json",XML:"xml",S_OK:"S_OK",wmsvrUrl:null,apiUrl:null,appName:$G.config.appName,getWmsvrUrl:c,show:d,hide:e,lock:f,reload:g,check:h,error:i}),v.extend(w.prototype,{_ajaxRequest:j,_ajaxStateChange:k,_ajaxResponse:l,_flashRequest:m,_flashStateChange:n,_flashResponse:o,request:p,stateChange:q,response:r,wmsvr:s,initialize:t})}($,window),function(a,b,c){function d(){var b=this,c=$S("orgUid")||$S("uid"),d=$S("sid");b._baseURL="../contacts/call.do?uid="+c+"&sid="+d+"&from=webmail&cmd=newapi.",b._recentContactURL="../rcmd/rcmd?format=json&uid="+c+"&sid="+d+"&product=webmail&cmd=",b._smartSplitURL=a.Uri.getUrl("smartSplitURL",!0)}function e(b){var d,e=this,f=b.data||{},g=b.ext,h="",i=f.order||e._support.orderParam,j=!!b.url;g&&a.Object.each(g,function(a,b){h+=["&",a,"=",b.toString()].join("")}),i&&!j&&(f.order=i);try{a.Ajax.request({requestType:b.requestType||a.Ajax.XMLHTTP,method:b.method||a.Ajax.POST,url:(b.url||e._baseURL)+k.COMMAND[b.command]+(b.requireNewData?"&returnContacts=true":"")+h,rnd:!1,body:e._formatPostParam(f,j),call:b.paddingFunc?c:a.Function.bind(e._responseHandler,e,b),paddingFunc:b.paddingFunc,paddingParam:b.paddingParam})}catch(l){d="请求发送失败",e._support.showError({content:d,error:b.error})}}function f(c,d){var e,f,g,h,i,j=this;if(200===d.status){var l=d.responseText||"";if(l.length>0)try{try{f=a.Eval.get(l.toString())}catch(m){f=a.JSON.parse(l.toString())}g=f.returns,e=f.code,e>201&&(i=e),f=f.data||{}}catch(m){f=null,i="501"}else i="000"}else 502===d.status&&(j._support.serviceDown=!0),i="001";if(i){if(h=k.ERROR_INFO,"501"==i)return;try{var n=b.Log||a.Log;n.cache({cnt_data_parse:i})}catch(m){}return i=h[i]||h["000"],j._support.showError({content:i,error:c.error,noAlert:!0}),void 0}j._response(c,f,g)}function g(){}function h(a,b){function c(a){return a?a.replace(/%/g,"%25").replace(/&/g,"%26").replace(/\+/g,"%2B"):a}var d=[];if("string"==typeof a)return c(a);a=a||{};for(var e in a){var f=a[e];if("contacts"===e)for(var g=0,h=f.length;h>g;g++)this._support.fixedGroupingCid(f[g]);d.push(e+"="+c(b?f:JSON.stringify(f)))}return d.join("&")}var i=a.Object,j=$I("core.DataAction"),k=a.createClass($N("core.ContactDataAction"));i.mix(k,j,{COMMAND:{getVer:"getContactsVersion",getCon:"getContacts",addCon:"addContacts",removeCon:"removeContacts",updateCon:"updateContacts",updateGrp:"updateGroups",removeGrp:"removeGroups",getRecent:"frequentContact",splitName:"splitname",splitAddr:"splitaddress",batchDeal:"batchDeal"},ERROR_INFO:{"000":"请求失败，未知错误","001":"请求失败，网络错误",400:"请求失败，权限不足",401:"请求失败，参数有误","401_1":"新建联系人失败，超过联系人个数限制","401_2":"新建联系人失败，指定的分组不存在或已被删除",402:"请求失败，操作异常","401_3":"指定的联系人不存在或已被删除",500:"请求失败，cache错误",501:"请求失败，验证错误",502:"联系人个数超过上限",503:"联系人分组个数超过上限",504:"联系人不存在",505:"分组不存在",506:"联系人信息过长",507:"分组名已存在",509:"上传文件为空",510:"上传文件格式错误，不能解析"}},{initialize:d,_request:e,_responseHandler:f,_response:g,_formatPostParam:h})}($,window),function(){function a(){if(this.module&&this.module.container&&"none"!=this.module.container.style.display)return this.module;for(var a=$.fly("#dvContainer").dom.childNodes,b=0;b<a.length;b++){var c=a[b];try{if("none"!=c.style.display&&0==c.id.indexOf("_dvModuleContainer_")){var d=c.id.replace("_dvModuleContainer_","");if(d)return JS.find(d)}}catch(e){}}return this.logError||($.Log.cache({error:"no Conext.module"}),this.logError=!0),null}var b=$.createClass($N("core.Context"));$.Context=b,$.Object.extend(b,{module:null,displayModule:null,defaultModule:"welcome.WelcomeModule",getModule:a})}(),function(a){function b(a){this._events=a}function c(a,b){this._eventObj.listen(a,b)}function d(a,b){this.listen(a,function(){b.apply(this,arguments),h.unlisten(a,arguments.callee)})}function e(a,b){this._eventObj.unlisten(a,b)}function f(b){var c;if(this._events[b]){if(a.Context&&(a.Context.event=b),c=this._eventObj.fire.apply(this._eventObj,arguments),b.indexOf(":")>-1){var d=b.split(":")[0],e=this._eventObj._customEvents[d];if(e){var f=[].slice.call(arguments,1);f.splice(0,0,d),c=this._eventObj.fire.apply(this._eventObj,f)||c}}}else for(var b in this._eventObj._customEvents)if(0==b.indexOf(b+":")){var f=[].slice.call(arguments,1);f.splice(0,0,b),c=c||this._eventObj.fire.apply(this._eventObj,f)}return c}var g=a.CustomEvent,h=a.createClass($N("core.Listener"));a.Listener=h,a.Object.extend(h,{init:b,listen:c,one:d,unlisten:e,fire:f,_eventObj:new g,_events:{}})}($,window),function(a){function b(b){var c=this,d=a.Event,e=b.logConf||[];c.logVoidConf=b.logVoidConf||{};for(var f=0,h=e.length;h>f;f++){var i=e[f],j=c.info[i.type];j||(j=c.info[i.type]=[]);var k=i.start,l=i.end;if(k||l){var m=b.time||new Date;if(k&&k>m)continue;if(l&&m>l)continue}j.push(i)}var n=c.info.click;n&&n.length>0&&d.listen(document,"click",function(){g.record("click",d.getTarget())})}function c(b,c){var d=a.Ajax;try{var e=this.info[b];if(e&&e.length>0)for(var f=0,g=e.length;g>f;f++){var h=e[f].call(c);h&&d.request({requestType:d.IFRAME,url:h})}}catch(i){}}function d(a,b){var c=this;try{var d=c.logCache;d||(d=c.logCache=[]);for(var e in a){var g=a[e],h=!0;if(b)for(var i=0,j=d.length;j>i;i++){var k=d[i];if(k.name==e){if(f.isFunction(b))b(k,g);else{var l="|";b!==!0&&(l=b),k.value=k.value+l+g}h=!1;break}}if(!b||h){var m={name:e,value:g};d.push(m)}}}catch(n){}}function e(b){var c=this;try{if(!a.String.has(b.data.url,/\/[s|w]\?sid=/gi))return;var d=c.logVoidConf;if(d["*"])return;var e=c.logCache;if(e&&e.length>0){for(var f=[];e.length>0;){var g=e.shift(),h=g.name,i=g.value;if(!d[h]&&(h&&f.push(h+"="+i),f.join("&").length>2e3))break}if(f.length>0){var j=b.data;j.url=a.String.uriAddParam(j.url,f.join("&"))}}}catch(k){}}var f=a.Object,g=a.createClass($N("core.Log"));a.Log=g,f.extend(g,{info:{},logVoidConf:null,logCache:null,configure:b,record:c,cache:d,append:e})}($,window),function(){function a(){return!0}function b(a){return Session.superClass.get.call(this,this._session,a)}function c(a,b){return Session.superClass.set.call(this,this._session,a,b)}function d(a){return Session.superClass.remove.call(this,this._session,a)}Session=$.createClass($N("core.Session")),$.Object.mix(Session,$.Data,{_session:{},_check:a,get:b,set:c,remove:d})}(),$G.set("udConf",{ntes_option:["forward","schedule_notify","readreplystatus","pop3show","flashupload","mailencode","sendershow","sizeshow","soundalert","requirereceipt","thread","useTab","deliver","ext1","ext2","ext3"],ntes_global:["defFolderOpen","compose_showContacts","userGuide","IMShowTips","sendSms","popFolderOpen","IMShowTipsLayer","MobilAccountTipsLayer","vipswitchto3.5","setMobileAccountTips","secondSearch","noBirthdayRemind","noLockSreenRemind","vipenablefax","ext1","ext2"],ntes_contact:["webim","logwebim","hasAutoShowInviteList","hasBigAttach","schedule","yeahwebim","ext1","ext2","reserved","reserved","ext3","ext4","ext5"],ntes_letter:["font_size","read_head","mini_security","mini_mobile","read_ad","thread_head","nf_share","line_height","ext1","secuepage","yixinpage"],helptips:["musicTip","senderName","mobileAccount","setlabnew1","setlabnew2","shangdao","musicbar","assist","welcome_guide","thread","tabs","subscibe","decrypt","ext1","ext2","ext3"],huodong_option:["notNativeMailMobile","task","vipswitchtips","nf_status","footer","updatejs3","newContact","ext1","reserved","dockType","jy4UserGuide","https","ad_thousands","ext2","ext3",""],ntes_skin:["","","","","jsSkin_tens","jsSkin_units","jySkin_tens","jySkin_units"],ntes_inbox:["search_type","weather_type","welcome_tab","newstips1","newstips2","layout","",""],ntes_buzz:["defaultStatus","def_fontname","def_fontsize","def_forecolor","typo_prompt","secuInfo","helpips0","wel_0","wel_1","wel_2","tabdef","quickdef","netfolder_show","youdao_note","importedAppData","wel_3"],ntes_compose:["card","letter","free_sms","undo_send","upload_mode","instead_chinese","separate_default","ext8","ext9","linkedin","t11","t12","t13","t14","t15","t16"],ntes_read:["mail_service","promoteMultiTabClose"],ntes_rd_config:["","","full_moon","imap_dir_mail"]}),$G.set("extUdConf",{ntes_global:{ext1:["file_centerOpen","shangdao","serviceOpen","mageAttach"],ext2:["shortcut_tip","clubpopup","secuInfo","megaFieldUsed"]},helptips:{ext1:["tmall","showAddress","resume","subscribe"],ext2:["accountRelate","navFolder1","navFolder2","myresume"],ext3:["mybuzz","option","musicbar2","ComposeAttachBrowse"]},ntes_contact:{ext1:["wel_story","newMusicBoxTips","ftAd","showMarkedContact"],ext2:["pomoteContact","yixinFirstTips","js6Welcome","navContactMail"],ext3:["AccountRelateTips","cnt_mobbak_tips","TopNavMasterMailTips","MasterMailMsgbox"],ext4:["StudentFirstLogin","StudentMailCenterTips","StudentUpgradeMsgbox","StudentUpgradeConfirmed"],ext5:["ReaderFirstLogin","LofterFirstLogin","Tip3","Tip4"]},ntes_option:{soundalert:["newmailSound","sendSound","composeSound"],ext1:["replySign","forwardSign","signPosition","notification"],ext2:["readRange","IE9PinTips","tagOpen","summary"],ext3:["globalAd","showOptGuide","shortcut_enable","threadSort"]},huodong_option:{ext1:["clubtab","closechangepass","dockEnable","compose_scene"],ext2:["mobileyixin","yixinWeb","humanTrans","customerServiceTips"],ad_thousands:["yixin","news","music","read"],ext3:["wel_constellation","","",""]},ntes_letter:{ext1:["tag","autoSendTips","remindShow","editorToolbar"]},ntes_buzz:{helpips0:["mobiletips0","mobiletips1","tab10","tab11"],wel_0:["tab0","tab1","tab2","tab3"],wel_1:["quick0","quick1","quick2","quick3"],wel_2:["quick4","quick5","tab4","tab5"],importedAppData:["importedApp","importedTab","importedDock","tab12"],wel_3:["tab6","tab7","tab8","tab9"]},ntes_compose:{ext8:["senderName","compose_nav","tab13","tab14"],ext9:["editor_notary_tips","ext92","ext93","ext94"]}}),$G.set("megaConf",{flags:["senderName",""]}),$G.set("udProxyConf",{"webmail.js.helptips":{type:"bitString",bits:{smart_mailMaster_ad_closed:0}}}),function(a,b,c){var d=$I("core.DataAction"),e=a.createClass($N("module.BaseAction"));a.Object.mix(e,d,c,{})}($,window),function(){function a(a){if(this.module=a,this._handlers={},this._listeners)for(var b in this._listeners){var c=this._handlers[b]=$.Function.bind(this._listeners[b].handler,this);this.listen(b,c)}}function b(a,b){e.listen(a,b),this._listeners[a]||(this._listeners[a]={}),this._listeners[a]._handler=b}function c(a){e.unlisten(a),this._listeners[a]&&delete this._listeners[a]}function d(){if(this._listeners)for(var a in this._listeners)this.unlisten(a,this._handlers[a])}var e=$I("core.Listener"),f=$.createClass($N("module.BaseListener"));$.Object.extend(f.prototype,{_listeners:{},listen:b,unlisten:c,unlistenAll:d,initialize:a})}(),function(a){function b(b,c){function d(b){if(!f)try{var d=a.Event.getTarget(),e=d.previousSibling,g="frame-main-cont-head-shadow";d.scrollTop>0?e.className.indexOf(g)<0&&a.fly(e).addClass(g):a.fly(e).removeClass(g)}catch(h){}c&&c(b)}var e=this,f=a.Browser.ie()-0<9;if(c||!f){b||(b="ScrollDiv");var g=e.scroller=e.getDom(b);e.onscroll=d,a.Event.listen(g,"scroll",d)}}function c(){}function d(){var b=this,c=b.scroller;c&&a.Event.unlisten(c,"scroll",b.onscroll)}function e(){}function f(){return this.text||""}function g(b){return this.container?a(this.container).find(b):void 0}function h(){this.isRendered=!1}function i(){return null}function j(){}function k(){}function l(){}function m(){return null}function n(){}function o(a){var b=this;return a=a.replace(/[^\w-]/gi,""),b._expando||(b._expando=u.baseExpando++),b._expando+"_"+a}function p(b){var c=this,d=c.getDom(b);return d?a(d):null}function q(a){var b=this;return a=a.replace(/[^\w-]/gi,""),a&&b._expando&&b.container?document.getElementById(b._expando+"_"+a):null}function r(b,c,d){var e;e=b instanceof a.Element?b.dom.id:b.tagName&&1==b.nodeType?b.id:b,!e&&b?a.Event.listen(b.dom||b,c,d):a.Event.live({context:this.container,selector:e,event:c,handler:d})}function s(b,c,d){a.Event.die({context:this.container,selector:b,event:c,handler:function(){d.apply(this,[a.Event.getEvent()])}})}function t(b,c,d){var e,f=this;"string"==typeof b?(e={},e.value=d,c?(e.item=b,e.action=c):e.name=b):e=b;var g=e.name,h=("undefined"==typeof e.value?1:e.value).toString();if(!g){var i=[];i.push((f.logPrefix||f.mtype.replace(".","_")).toLowerCase()),i.push(e.item),i.push(e.action),g=i.join("_")}var j={};j[g]=h,a.Log.cache(j,!0)}var u=a.createClass($N("module.BaseModule"));a.Object.mix(u,netease.mail.framease.ModuleClass,{baseExpando:(new Date).valueOf()},{}),a.Object.extend(u.prototype,{action:null,view:null,listener:null,scroll:b,onscroll:c,onBeforeRemove:d,onFocus:e,getText:f,getGroup:i,find:g,cleanCache:h,resize:j,switchIn:k,switchOut:l,getParam:m,syncCache:n,createId:o,getDom:q,getEl:p,live:r,die:s,log:t})}($,window),function(){function a(a){var c=this,d=c.config;if(c.module=a,d)for(var e in d.widgets){var f=d.widgets[e];f.render=c.renderWidget.bind(f),f.update=c.updateWidget.bind(f),f.view=c,c.widgets[e]=f,c.widgets[e].name=e;var g=f.listeners;if(g)for(var i in g){var j=g[i];h.listen(i,b.bind(c,e,j))}}}function b(a,b,c){this.widgets[a].update({action:b,data:c})}function c(a,b,c){var d=this,e=d.module;c||(c="");var f=[];return f[f.length]='<h2 tabindex="-1" style="position: absolute;left: -10000px;top: -10000px;width: 1px;height: 1px;overflow: hidden;">主体</h2>',a&&(f[f.length]='<header tabindex="0" class="frame-main-cont-head" id="'+e.createId("Header")+'">'+a+"</header>"),f[f.length]='<div class="frame-main-cont-body nui-scroll '+c+'" id="'+e.createId("ScrollDiv")+'">'+b+"</div>",f.join("")}function d(){return""}function e(a){var b=this,c=arguments,d=a.func,e=a.body,f=a.call,g=a.error,h=a.data;if(e){var j={func:d,body:e,error:g,call:function(d){a.data=d,delete a.body;var e=c.callee.call(b,a);b.container&&$(b.container()).append(e),b.fill&&b.fill(d)}};i.request(j)}else if(h){if(f)try{f(h)}catch(k){}return b.onRender(h)}}function f(a){var b=this,c=arguments,d=a.func,e=a.body,f=a.call,g=a.error,h=a.data,j=a.action;if(b.onUpdateRequest&&b.onUpdateRequest.call(b,j,a))a.call=function(c){b.onUpdate(j,a.data||c),f&&f()};else if(e){var k={func:d,body:e,error:g,call:function(d){a.data=a.data||d,delete a.body,c.callee.call(b,a)}};i.request(k)}else if(h){if(f)try{f(h)}catch(l){}return b.onUpdate(j,h)}}function g(a){var b=new($I("core.DataAction")),c=a.call;a.call=function(a){c(a)},b.wmsvr(a)}var h=$I("core.Listener"),i=$.createClass($N("module.BaseView"));$.Object.extend(i.prototype,{addHeader:c,getHtml:d,updateWidget:f,renderWidget:e,initialize:a,widgets:{}}),$.Object.extend(i,{request:g})}(),function(a){function b(b,c,d){var e,f=d?"about:blank":"",g=$S("domainType"),h=$S("domain"),i=$S("fullDomain"),j=$S("product"),k=$S("host"),l=$S("sid"),m=$S("orgUid"),n=$S("orgUid").split("@")[0],o=$S("styleCss"),p=$S("skin"),r=$S("font"),s=$S("attrs").user.style,t=$G.get("uriConf");if(e=(t.all[b]||t[g]&&t[g][b]||t[h]&&t[h][b]||[])[0]||f,e||0!=b.indexOf("http")||(e=b),""==e||"about:blank"==e)return e;var u={domain:h,fullDomain:i,product:j,sid:l,uid:m,host:k,css:o,user:n};e=e.replace(/(\$.+?\$)/gi,function(a){return/\$(.+?)\$/.test(a),"#{"+RegExp.$1+"}"}),e=a.Template.exec(e,{data:u});var v={sid:l,uid:m,host:k,ver:$G.common.appName,fontface:q._fontface,style:s};return p&&(v.skin=p.name,v.color=p.color),r&&(v.fontface=r),c||(e=a.Location.addParam(v,e,!0)),e}function c(a){return q.urls[a]}function d(a){return(new q(a)||{}).address}function e(a){return(new q(a)||{}).name}function f(a){return(new q(a)||{}).defaultName}function g(a){return(this.getAddress(a)||"").split("@")[1]}function h(){}function i(a,b){if(b){var c;switch(b){case q.type.URL:var d=a,e="",f="";"object"==typeof a&&(d=a.url,e=a.key,f=a.title),c={url:d,key:e,title:f};break;case q.type.EMAIL:c=q.matchEmail.apply(q,arguments);break;case q.type.MODULE:c=q.matchModule.apply(q,arguments);break;default:return null}if(!c)return null;p.extend(this,c),this.type=b}else{var g=q.matchEmail(a);if(g)p.extend(this,g),this.type=q.type.EMAIL;else{var h=q.matchUrl(a);if(h)this.url=a,this.type=q.type.URL;else{var i=q.matchModule(a);if(!i)return null;p.extend(this,i),this.type=q.type.MODULE}}}this.uri=a}function j(){var a;switch(this.type){case q.type.EMAIL:a=this.name?'"'+this.name+'"<'+this.address+">":this.address;break;case q.type.URL:a=q.urls[this.key];break;case q.type.MODULE:}return a}function k(){var a=this.defaultName;return a&&a.length>1&&(0==a.indexOf("+")||0==a.indexOf("-"))?a.substr(1):this.defaultName}function l(a){var b=this.getEmails(a),c={};if(1==b.match.length){c=b.match[0];var d=c.address.split("@");return c.domain=d[1],c.defaultName=c.name?c.name:d[0],c}}function m(b){b=a.String.trim(b);var c=new RegExp("([0-9a-zA-Z]+://[-_.a-zA-Z0-9]+(:[0-9]+)?[^ 	<>]*)","gim");return c.test(b)}function n(b){return b=a.String.trim(b),/^module\:/.test(b)?{module:b.substr(7)}:void 0}function o(b,c,d){var e={match:[],wrong:[]},f="(\\S+@([\\w\\-\\_]+\\.)+[\\w\\-]{2,15})";return b.replace(/[\r\n]/g,"").replace(/[,;]+ ?(?![^"]+"\s*<)/g,"§").replace(/[^§]+(?=§|$)/g,function(b){var g,h,i;reg=/[<>]/.test(b)?/\"/.test(b)?new RegExp('^"(.*)"\\s*<'+f+">$"):new RegExp("^(.*)<"+f+">$"):new RegExp("^(^)"+f+"$"),reg.test(b)?(g=RegExp.$1,h=RegExp.$2):d&&(reg=new RegExp("<?"+f+">?"),reg.test(b)&&(h=RegExp.$1)),h?(g=g||"",i="Email"==c?new a.Email(h,g):{name:g,address:h},("-"===i.name||"+"===i.name)&&(i.name=""),e.match.push(i)):e.wrong.push(b)}),e}var p=a.Object,q=a.createClass($N("util.Uri"));a.Uri=q,p.extend(q,{getUrl:b,getUrlObj:c,getAddress:d,getName:e,getDefaultName:f,getDomain:g,matchEmail:l,matchUrl:m,matchModule:n,getEmails:o,init:h,urls:{},type:{URL:"url",EMAIL:"email",MODULE:"module"}}),p.extend(q.prototype,{initialize:i,toString:j,getNameWithoutPrefix:k,type:q.type.URL,key:"",title:"",defaultName:"",name:"",address:"",uri:"",domain:"",module:""})}($,window),function(a){function b(a){var b=this,c=b.el=a.el,d={keypress:j.bind(b._keyPress,b),keydown:j.bind(b._keyDown,b),blur:j.bind(b._blur,b)};b.capsLockInfo=d,b.change=a.change,i.listen(c,"keypress",d.keypress),i.listen(c,"keydown",d.keydown),i.listen(c,"blur",d.blur)}function c(){var a=this;return a.status}function d(){var a=this;a.change&&a.change(a.status)}function e(a){var b=this,c=a.which||a.keyCode;20===c&&void 0!==b.status&&(b.preStatus=b.status=!b.status,b.trigger(b.status))}function f(a){var b=this,c=a.which||a.keyCode,d=!1;a.shiftKey?d=!0:a.modifiers&&(d=!!(4&a.modifiers));var e=b.preStatus;b.preStatus=b.status,b.status=c>=65&&90>=c&&!d||c>=97&&122>c&&d?!0:c>=65&&90>=c&&d||c>=97&&122>c&&!d?!1:e,b.status!==b.preStatus&&b.trigger(b.status)}function g(){var a=this;a.preStatus=a.status=void 0,a.trigger(a.status)}var h=a.Object,i=a.Event,j=a.Function,k=a.createClass("util.CapsLock");h.extend(k.prototype,{preStatus:void 0,status:void 0,initialize:b,isOn:c,trigger:d,_keyDown:e,_keyPress:f,_blur:g})}($,window),function(){function a(a){var b=a.operator,c=a.condition,d=a.conf;if(c){var e={};f.extend(e,c),this.item=e}else b?this.conditions={conditions:[],operator:b}:(this.conditions={conditions:[]},d&&f.extend(this.conditions,d))}function b(a){if(a.operator&&g.has(["or","and"],a.operator)){var b=new h({operator:a.operator});if(a.conditions)for(var c=0;c<a.conditions.length;c++)var d=a.conditions[c],e=b.add(d);return this.conditions.conditions.push(b.get()),b}var e=new h({condition:a});return this.conditions.conditions.push(e.get()),e}function c(a){this.item&&f.extend(this.item,a)}function d(){return this.item||this.conditions}function e(a){var b=a.dom,c=a.match;a.type||"mail";var d=a.conf||{},e=a.fid||0;e-=0,0==e?d.recursive=!0:d.fid=e;var f=!!a.ignoreCase,h=new this({conf:d});for(var i in c){var j=c[i],k=j.id;if(k){var l=j.operator,m=$(b).find("#"+k);if(m){"value"in m.dom||(m=m.find("INPUT"));var n=m.dom.value;switch(i){case"key":if(""==$.String.trim(n))break;var o,p;if(o="boolean"==typeof c.inSubject?c.inSubject:c.inSubject&&$("#"+c.inSubject.id).dom.checked,p="boolean"==typeof c.inFromAndTo?c.inFromAndTo:c.inFromAndTo&&$("#"+c.inFromAndTo.id).dom.checked,!o&&!p)break;l=l||"contains";var q=h.add({operator:"or"});o&&q.add({field:"subject",operator:l,operand:n,ignoreCase:f}),p&&(q.add({field:"from",operator:l,operand:n,ignoreCase:f}),q.add({field:"to",operator:l,operand:n,ignoreCase:f}));break;case"sentDate":l=l||">=",h.add({field:i,operator:l,operand:n});break;case"sentDateLimit":if(!c.sentDateLimitType||""==$.String.trim(n))break;var r="",s=c.sentDateLimitType,t=$(b).find("#"+s.id);t&&(r=t.dom.value||r),n-0>0&&h.add({field:"sentDate",operator:"in_range",operand:n+r});break;case"attached":if(0==n)break;var u="1"==n,q=h.add({operator:u?"or":"and"});q.add({field:"flags",operand:{attached:u}}),q.add({field:"flags",operand:{linkAttached:u}});break;case"label0":if("0"==n)break;l=l||"=","-1"==n&&(n="0",l=">"),h.add({field:i,operator:l,operand:n-0});break;case"size":if(!c.sizeType)break;l=l||">";var v=c.sizeType,w="M",x=$(b).find("#"+v.id);x&&(w=x.dom.value||w);var y={B:1,K:1024,M:1048576};h.add({field:i,operator:l,operand:(n-0)*y[w]});break;default:g.has(["account","from","to","subject","memo"],i)&&""!=$.String.trim(n)&&(l=l||"contains",h.add({field:i,operator:l,operand:n,ignoreCase:f}))}}}}var z=h.get();return 0==z.conditions.length?null:z}var f=$.Object,g=$.Array,h=$.createClass($N("util.Condition"));f.extend(h,{operator:["contains","excludes","startsWith","endsWith","regexp","=","!=",">",">=","<","<="],getSearchBody:e}),f.extend(h.prototype,{add:b,get:d,updateItem:c,initialize:a})
}(),function(a,b){function c(a){var b=this,c={mail:[],tel:[],fax:[],adr:[],url:[],icq:[],date:[],other:[]};return q.each(a,function(d,e){var f,g=/(adr|email|tel|url)/gi,h=/x-(popo|qq|msn|googletalk|aim|skype|icq|yahoo|facebook|uc|jabber|other)/gi,i=/(URL|ORG|ORGNAME|TITLE|ROLE|MEMBER|FN|NICKNAME|ZS|BDAY|GROUPING|ANNIVERSARY|PC)/gi,j=/(impp|X-ICQ;type=HOME;type=pref)/gi,k=/(X-ABDATE|ANNIVERSARY|BDAY)/gi,l=d.toLowerCase();if(g.test(l))l.indexOf("adr")>-1&&l.indexOf("x-abadr")<0?(f=b.formatADR(d,e,a),c.adr=b.mergeData(c.adr,f)):l.indexOf("email")>-1?(f=b.formatEMAIL(d,e,a),c.mail=b.mergeData(c.mail,f)):l.indexOf("tel")>-1?(f=b.formatTEL(d,e,a),f&&f.type&&(c[f.type]=b.mergeData(c[f.type],f))):l.indexOf("url")>-1&&(f=b.formatURL(d,e,a),c.url=b.mergeData(c.url,f));else if(j.test(l))f=b.formatIcq(d,e,a),c.icq=c.icq.concat(f.data);else if(k.test(l))f=b.formatIDate(d,e,a),c.date=b.mergeData(c.date,f);else if(!i.test(l)&&!h.test(l)&&l.indexOf("x-ablabel")<=0&&"n"!==l){var m=l.match(b.rItem),n={value:e,key:d.replace(b.rItemPoint,"")},o=m&&m[0]?m[0]+".X-ABLabel":"",p=a[o]||"";p&&(n.label=p),b.setItem(l,n),c.other.push(n)}}),c.maxItem=b.maxItem,b.maxItem=null,c}function d(b,c,d){if(";;;;;;CI"===b||";;;;;;"===b)return"";var e=b.split(";");if(b.indexOf(";")<0&&(e=["","",b,"","","","",""]),e.length<6)return"";6===e.length&&e.splice(4,0,"");var f=a.ADDR_COUNTRY,g=e[6]||c||"",h=e[5]||d||"";s.each(f,function(b,c){return c.value===g.toUpperCase()?(g=c.name,a.BREAK):void 0});var i=[g,e[4],e[3],e[2]||e[0],"",e[1],h],j=i.join(";");return r.trim(j)}function e(a,b){var c=this,d="",e=a.match(c.rItem),f=e?e[0]:"";return f&&(f+=".X-ABLabel",d=b[f]||""),d}function f(a,b,c){if(b&&";;;;;;CI"!==b){var d=this,e=a.toLowerCase(),f=e.indexOf("pref")>=0,g="ADR"+(e.indexOf("home")>=0?"HOME":e.indexOf("work")>=0?"WORK":""),h=e.indexOf("pref")>=0?e.indexOf("work")>=0?"PC;WORK,pref":e.indexOf("home")>=0?"PC;HOME,pref":"":"",i=h?c[h]||"":"",j=[],k=a.split(";"),l=c[k[0].replace("ADR","X-ABADR")]||"",m=q.isString(b)?[b]:b;return s.each(m,function(b,e){var f={fKey:g,key:a.replace(/item\d*\./gi,""),fullKey:a,value:d.addressResolve(e,l,i),text:d.keyMap[g]||"",label:d.getLabel(a,c)};d.setItem(a,f),j.push(f)}),{main:f,data:j}}}function g(a,b,c){if(b){var d=this,e=a.toLowerCase(),f=e.indexOf("type=pref")>=0,g=[],h=q.isString(b)?[b]:b;return s.each(h,function(b,e){var f={key:a.replace(/item\d*\./gi,""),fullKey:a,value:e,label:d.getLabel(a,c)};d.setItem(a,f),g.push(f)}),{main:f,data:g}}}function h(a,b,c){if(b){var d=this,e=a.toLowerCase(),f=e.indexOf("type=pref")>=0,g=f?"MAIL":e.indexOf("home")>=0?"MAILHOME":e.indexOf("work")>=0?"MAILWORK":"MAIL",h=[],i=q.isString(b)?[b]:b;return s.each(i,function(b,e){if(e){var f={fKey:g,key:a.replace(/item\d*\./gi,""),fullKey:a,text:d.keyMap[g]||"",value:e,label:d.getLabel(a,c)};d.setItem(a,f),h.push(f)}}),{main:f,data:h}}}function i(a,b,c){if(b){var d=this,e=a.toLowerCase(),f="TEL",g="tel",h=[],i=q.isString(b)?[b]:b,g=e.indexOf("fax")>=0?"fax":"tel",f=e.indexOf("cell")>=0?"CELL":e.indexOf("fax")>=0?"FAX":"TEL";f+=e.indexOf("home")>=0?"HOME":e.indexOf("work")>=0?"WORK":"";var j=e.indexOf("type=pref")>=0&&f.indexOf("CELL")>=0;return f=j?"CELL":f,s.each(i,function(b,e){var g={fKey:f,key:a.replace(/item\d*\./gi,""),fullKey:a,text:d.keyMap[f]||"",value:e,label:d.getLabel(a,c)};d.setItem(a,g),h.push(g)}),{main:j,type:g,data:h}}}function j(b,c,d){if(c){var e=this,f=a.ADDR_IM_TITLE||{},g=b.match(/(popo|qq|msn|googletalk|aim|skype|icq|facebook|yahoo|uc|jabber|other)/gi),h=g?g[0].toLowerCase():"other",i=[],j=q.isString(c)?[c]:c;return s.each(j,function(a,c){if("X-ICQ;type=HOME;type=pref"===b&&c.indexOf(":")>0){var g=c.split(";");s.each(g,function(a,c){if(c){var d=c.split(":"),g=2===d.length?d[0]:"other",j=d[d.length-1],k={fKey:g||h,key:b,fullKey:b,text:f[g]||"",value:j};e.setItem(b,k),i.push(k)}})}else{var j=c.split(":"),k={fKey:h,key:b.replace(/item\d*\./gi,""),fullKey:b,text:(f[h]||"其他").replace(/googletalk/i,"GTalk"),value:j.pop(),label:e.getLabel(b,d)};e.setItem(b,k),i.push(k)}}),{data:i}}}function k(b,c,d){if(c){var e=this,f=[],g=a.ADDR_MEMORIAL_DAY;c=q.isString(c)?[c]:c;var h,i,j,k,l,m;return s.each(c,function(a,c){if("ANNIVERSARY"===b&&c.indexOf(":")>0){h=c.split(";");for(var n,o=0,p=h.length;p>o;o+=1)if(n=h[o]){i=n.split(":"),j=2===i.length?i[0]:"other",k=i[i.length-1],k=k.replace(/(\d{1,4})-(\d{1,2})-(\d{1,2})/g,"$1年$2月$3日");var q={fKey:j||"other",key:b,text:g[j]||"其他",value:k};f.push(q)}}else m=e.getLabel(b,d),l={label:m,key:b,text:g[m.replace(/(^_\$!<|>!\$_$)/g,"").toLowerCase()]||"其他",value:c.replace(/(\d{1,4})-(\d{1,2})-(\d{1,2})/g,"$1年$2月$3日")||c},f.push(l)}),{data:f}}}function l(b,c,d){function e(a,b){var c=b;if(/X-ABDATE/gi.test(a)){var d=/X-APPLE-OMIT-YEAR=(\d{4})/gi,e=d.exec(a);e&&(c=c.replace(e[1],""))}return c}if(c){var f,g,h,i,j,k,l=this,m=[],n=a.ADDR_MEMORIAL_DAY;return c=q.isString(c)?[c]:c,s.each(c,function(a,o){if("ANNIVERSARY"===b&&o.indexOf(":")>0){f=o.split(";");for(var p,q=0,r=f.length;r>q;q+=1)p=f[q],p&&(g=p.split(":"),h=2===g.length?g[0]:"other",c=g[g.length-1],i={fKey:h||"other",key:"",text:n[h]||"其他",value:e(b,c)},l.setItem(b,i),m.push(i))}else k=l.getLabel(b,d),j={key:b.replace(l.rItemPoint,""),text:"其他",value:e(b,o),label:k,fKey:b.indexOf("BDAY")>=0?"BDAY;value=date":k.replace(/(^_\$!<|>!\$_$)/g,"").toLowerCase()||"other"},l.setItem(b,j),m.push(j)}),{data:m,main:b.indexOf("BDAY")>=0}}}function m(b){b=a.String.trim(b||"");var c=b.split("-"),d=c.length;if(2===d){var e=c[0],f=c[1];c=e.length>f.length?f?["",e,f]:[e,f,""]:e?[e,f,""]:["",e,f]}else(1===d||0===d||d>3)&&(c=["",b,""]);return c}function n(b){var c,d="",e="";return b=q.isString(b)?b.split(";"):b,7===b.length?(d=b.join(";"),c=/.*[\u4e00-\u9fa5]+.*$/.test(d),e=c?a.String.trim([b[0],b[1],b[2],b[3],b[6]].join(" ")):a.String.trim([b[3],b[2],b[1],b[0],b[6]].join(" ")),a.String.trim(e)):b.join(" ")}function o(a,b){if(!b)return a;var c=b.data,d=b.main;if(d){var e=c;c=a,a=e}return[].push.apply(a,c),c.length=0,a}function p(a,c){var d,e=this;c.fullKey=a,0===a.indexOf("item")&&(d=b.parseInt(a.split(".")[0].replace("item",""),10)),q.isNumber(d)&&(c.itemNumber=d,e.maxItem=q.isNumber(e.maxItem)?Math.max(d,e.maxItem):d)}var q=a.Object,r=a.String,s=a.Array,t=a.createClass($N("util.Contact"));q.extend(t,{rItem:/item\d*/gi,rItemPoint:/item\d*\./gi,keyMap:{FN:"",GENDER:"性别",ADR:"居住地址",EMAIL:"电子邮箱",INTERNET:"",BDAY:"生日",TEL:"电话号码",ZS:"备注","URL;type=pref":"个人主页","URL;TYPE=PREF":"个人主页",URL:"个人主页",TITLE:"职位",ROLE:"角色",ORG:"部门",ORGNAME:"组织",MEMBER:"成员",LOGO:"LOGO",RELATED:"关系",LANG:"语言",TZ:"时区",GEO:"地理位置",MAIL:"电子邮箱",MAILHOME:"家庭邮箱",MAILWORK:"工作邮箱",ADRHOME:"家庭地址",ADRWORK:"办公地址",CELL:"手机号码",TELHOME:"家庭电话",TELWORK:"办公电话",FAX:"传真号码",FAXHOME:"家庭传真",FAXWORK:"办公传真","EMAIL;type=INTERNET":"电子邮箱","EMAIL;TYPE=INTERNET":"电子邮箱","EMAIL;type=INTERNET;type=pref":"电子邮箱","EMAIL;TYPE=INTERNET;TYPE=PREF":"电子邮箱","BDAY;value=date":"生日","X-ICQ;type=HOME;type=pref":"","X-ICQ;TYPE=HOME;TYPE=PREF":"","ADR;type=HOME":"家庭地址","ADR;TYPE=HOME":"家庭地址","TEL;type=CELL":"手机号码","TEL;TYPE=CELL":"手机号码","TEL;type=VOICE":"手机号码","TEL;TYPE=VOICE":"手机号码","TEL;type=CELL;type=VOICE;type=pref":"手机号码","TEL;TYPE=CELL;TYPE=VOICE;TYPE=PREF":"手机号码","TEL;type=CELL;type=VOICE":"电话","TEL;TYPE=CELL;TYPE=VOICE":"电话","TEL;type=HOME;type=VOICE":"家庭电话","TEL;TYPE=HOME;TYPE=VOICE":"家庭电话","TEL;type=WORK;type=VOICE":"工作电话","TEL;TYPE=WORK;TYPE=VOICE":"工作电话","TEL;type=WORK;type=FAX":"办公传真","TEL;TYPE=WORK;TYPE=FAX":"办公传真","ADR;type=WORK;type=pref":"地址","ADR;TYPE=WORK;TYPE=PREF":"地址","ADR;type=WORK":"地址","ADR;TYPE=WORK":"地址","PC;WORK,pref":"邮编","PC;WORK,PREF":"邮编","PC;HOME,pref":"邮编","PC;HOME,PREF":"邮编","EMAIL;type=INTERNET;type=HOME":"家庭邮箱","EMAIL;TYPE=INTERNET;TYPE=HOME":"家庭邮箱","EMAIL;type=INTERNET;type=WORK":"工作邮箱","EMAIL;TYPE=INTERNET;TYPE=WORK":"工作邮箱",ANNIVERSARY:"纪念日"},iaddrMap:{MAIL:"EMAIL;type=INTERNET",MAILHOME:"EMAIL;type=INTERNET;type=HOME",MAILWORK:"EMAIL;type=INTERNET;type=WORK",ADR:"ADR",ADRHOME:"ADR;type=HOME",ADRWORK:"ADR;type=WORK;type=pref",CELL:"TEL;type=CELL;type=VOICE",TEL:"TEL;type=VOICE",TELHOME:"TEL;type=HOME;type=VOICE",TELWORK:"TEL;type=WORK;type=VOICE",FAX:"TEL;type=FAX",FAXHOME:"TEL;type=HOME;type=FAX",FAXWORK:"TEL;type=WORK;type=FAX",marry:"marry",know:"know",anniversary:"anniversary",other:"other","BDAY;value=date":"BDAY;value=date"},xportMap:{FN:"姓名","EMAIL;PREF":"电子邮箱","EMAIL;BAK1":"家庭邮箱","EMAIL;BAK2":"工作邮箱","EMAIL;type=INTERNET":"其他邮箱","TEL;CELL":"手机号码","TEL;HOME;VOICE":"家庭电话","TEL;WORK;VOICE":"办公电话",ZS:"备注",GROUPING:"分组","TEL;FAX":"传真号码","TEL;WORK;FAX":"办公传真","TEL;HOME;FAX":"家庭传真","PC;WORK":"公司邮编","PC;HOME":"邮政编码",ADR:"居住地址","ADR;WORK":"工作地址","ADR;HOME":"家庭地址","IMPP;X-SERVICE-TYPE=popo":"POPO","IMPP;X-SERVICE-TYPE=qq":"QQ","IMPP;X-SERVICE-TYPE=icq":"ICQ","IMPP;X-SERVICE-TYPE=msn":"MSN","IMPP;X-SERVICE-TYPE=gtalk":"GTalk","IMPP;X-SERVICE-TYPE=AIM":"AIM","IMPP;X-SERVICE-TYPE=Skype":"Skype","IMPP;X-SERVICE-TYPE=yahoo":"雅虎通","IMPP;X-SERVICE-TYPE=sinauc":"新浪UC","IMPP;X-SERVICE-TYPE=jabber":"Jabber","IMPP;X-SERVICE-TYPE=facebook":"Facebook",BDAY:"生日",URL:"个人主页",JINIAN:"纪念日",NICKNAME:"NICKNAME",ORGNAME:"组织",TITLE:"职位",ORG:"部门",ROLE:"角色",MEMBER:"成员"},formatContact:c,addressResolve:d,getLabel:e,formatADR:f,formatURL:g,formatEMAIL:h,formatTEL:i,formatIcq:j,formatDate:k,formatIDate:l,formatFAX:m,parseADR:n,mergeData:o,setItem:p,maxItem:null})}($,window),function(){function a(a,b,c){var d=this;if(c&&c.verify){var e=b?b+"<"+a+">":a;h.superClass.initialize.call(d,e,i.type.EMAIL)}else d.address=a,d.domain=a.split("@")[1],b?d.name=d.defaultName=b:d.defaultName=a.split("@")[0]}function b(a){return/^1[345678]\d{9}(@((163|126|188|vip\.163|vip\.126|vip\.188)\.com|yeah\.net))?$/i.test(a)}function c(a){try{return/@(vip\.163|vip\.126|188|vip\.188)\.com$/i.test(g.trim(a))}catch(b){return!1}}function d(a){try{return/@((163|126)\.com|yeah\.net)$/i.test(g.trim(a))}catch(b){return!1}}function e(a){try{return/@groups\.163\.com$/i.test(g.trim(a))}catch(b){return!1}}var f=$.Object,g=$.String,h=$.createClass($N("util.Email"));$.Email=h;var i=$I("util.Uri");f.inherit(h,i,{type:i.type.EMAIL,initialize:a}),f.extend(h,{checkMobile:b,checkVip:c,checkFree:d,checkMailGroup:e})}(window),function(a,b){function c(b,c){var d=$I("util.Email");if(d.checkMobile(b)){var e="http://e.mail."+$G.user.uid.split("@")[1]+"/mobilemail/getAlias.jsp";a.Ajax.jsonp(e,function(){}),fGetUrsAliasCall=function(a){a&&($S("reserveMobile",$G.user.uid),$S("mobile_sender",$G.user.uid),$S("showMobileAccountOnly",!0),c&&c(!0))}}}function d(a){var b=$S("timeS"),c=$S("timeC"),d=new Date,e=$S("attrs").user.time_zone,f=new Date(b.valueOf()+(d-c));return a&&(e=(e||8)-0,f=new Date(f.valueOf()+1e3*3600*(e-8))),f}function e(){if($S("isCorp"))return top.location.href="bj"==$G.environment.svr?"http://mail.qiye.163.com/logout.jsp?from="+location.host+"&uid="+$S("uid")+"&domain="+$S("domain"):"http://mailhz.qiye.163.com/logout.jsp?from="+location.host+"&uid="+$S("uid")+"&domain="+$S("domain"),void 0;if($S("isMailMasterLogined"))try{a.Ajax.request({url:"http://sweeplogin.mail.163.com/sweeplogin/web/logout.do?uid="+$S("orgUid"),requestType:a.Ajax.SCRIPT})}catch(b){}var c=a.Uri.getUrl("logout",!0);c+="&username="+encodeURIComponent(encodeURIComponent($S("attrs").user.nick_name||$S("user"))),c+="&date="+l.getTime(0).valueOf();var d=a.SenderList.getMobile();d&&(c+="&mobile=1"),$S("ad")&&"ud"===$S("ad").userType&&(c+="&previlege_usertype=ud"),top.location=c}function f(a){var c=document.createElement("bgsound");document.body.appendChild(c),c.src=a||$G.environment.mimgUrl+"p/js35/lib/sound/message.wav",c.loop=1,b.setTimeout(function(){document.body.removeChild(c)},3e3)}function g(a){b.onbeforeunload=null,$S("ad").show=!1,top.location.href=a}function h(){return a.Cookie.get("MAIL_SESS")||$G.user.ursCookie}function i(){try{var b=top.location.hash.replace("#","&"),c="";return a.Context.error&&(c=JSON.stringify(a.Context.error)),b+"&error="+encodeURIComponent(c)+"&sid="+$G.user.sid}catch(d){return""}}function j(a){try{return JSON.parse(a)}catch(b){return JSON.parse(a.replace(/(\{ ?|, ?)\b([\w_\-]+) ?:/g,'$1"$2":'))}}function k(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))}var l=a.createClass($N("util.Misc"));a.Misc=l,a.Object.extend(l,{getTime:d,logout:e,createSound:f,redirect:g,getFeedbakParam:i,checkReserveAccount:c,parseJson:j,random:k,getMailSess:h})}($,window),function(a,b,c){function d(b){for(var c=this,d=$I("core.DataAction"),e=new d,f=a.Object.isArray(b.field)?b.field:[b.field],g={},h=f.length-1;h>-1;h--){var i=f[h];i in this.udProxy&&(g[i]=this.udProxy[i],f.splice(h,1))}if(a.Object.isEmpty(f))return b.call&&b.call(g);var j={func:"ntes:udproxy:getAttrs",body:{attrIds:f},call:function(d){d=d["var"];for(var e in d)c.udProxy[e]=d[e];a.Object.extend(g,d),b.call&&b.call(g)}};e.wmsvr(j)}function e(a){var b=this,c=$I("core.DataAction"),d=new c,e={attrs:{}};e.attrs[a.field]=a.value;var f={func:"ntes:udproxy:setAttrs",body:e,call:function(c){b.udProxy[a.field]=a.value,a.call&&a.call(c["var"])}};d.wmsvr(f)}function f(a){var b=a.field;this.getProxy({field:b,call:function(d){var e=d[b],f=$G.get("udProxyConf")[b],g=a.flag;"bitString"===f.type&&g!==c&&(e=e.charAt(f.bits[g]),e="*"===e?"":e),a.call!==c&&a.call(e)}})}function g(a){var b=this,d=a.field,e=$G.get("udProxyConf")[d];"bitString"===e.type?b.getProxy({field:d,call:function(f){var g=a.value.toString(),h=f[d],i=a.flag,j=e.bits[i];return h.charAt(j)===g?(a.call!==c&&a.call(),void 0):((""===g||g===c)&&(g="*"),h=j>=h.length?h+new Array(j-h.length).join("*")+g:h.substring(0,j)+g+h.substring(j+1),b.setProxy({field:d,value:h,call:a.call}),void 0)}}):b.setProxy(a)}function h(a){function b(){if(k)for(var a in k)for(var b=k[a],c=0;c<b.length;c++)if(b[c]==f){for(var d,e=0;e<j.length;e++)j[e]==a&&(d=e);if("undefined"==typeof d)return;var l=i.substr(d,1),m="0000"+parseInt(l,h.length).toString(2);m=m.substr(m.length-4,4);var n=m.substring(0,c)+(g+"0").substr(0,1)+m.substring(c+1);return{subValue:parseInt(n,2).toString(16),pos:d}}}var c,d=$I("core.DataAction"),e=a.field,f=a.flag,g=a.value,h=this.comboDefault,i=$G.attrs.user[e],j=$G.get("udConf")[e],k=$G.get("extUdConf")[e],l=a.call,m=new d;if("helptips"!=e)if(j&&f){i+=h,i=i.substr(0,h.length);for(var n=0;n<j.length;n++)if(j[n]==f){c=n;break}if("undefined"==typeof c){var o=b();if("undefined"==typeof o)return;c=o.pos,g=o.subValue}var p=i.substring(0,c)+(g+"0").substr(0,1)+i.substring(c+1);if(a.notPost)return $G.attrs.user[e]=p,p;var q={attrs:{}};if(i!=p||a.forcePost){q.attrs[e]=p,$G.attrs.user[e]=p;var r={func:"user:setAttrs",body:q,call:l};m.wmsvr(r)}}else{var q={attrs:{}};if(g!=i||a.forcePost){q.attrs[e]=g,$G.attrs.user[e]=g;var r={func:"user:setAttrs",body:q,call:l};m.wmsvr(r)}else l&&l()}}function i(a){var b=a.field,c=a.flag,d=this.comboDefault,e=$G.attrs.user||{},f=e[b],g=($G.get("udConf")||{})[b],h=($G.get("extUdConf")||{})[b];if(!b||!g)return f;f+=d,f=f.substr(0,d.length);for(var i=0;i<g.length;i++)if(g[i]==c)return f.substr(i,1);if(h)for(var j in h)for(var k=h[j],l=0;l<k.length;l++)if(k[l]==c){for(var m,n=0;n<g.length;n++)if(g[n]==j){m=n;break}if("undefined"==typeof m)return;var o=f.substr(m,1),p="0000"+parseInt(o,d.length).toString(2);return p=p.substr(p.length-4,4),p.substr(l,1)}}function j(a){var b=this.initMega(a);b.bin,b.index;var c=b.value;return"undefined"!=typeof c?1==c-0:void 0}function k(a,b,c){if(1==arguments.length)return this.getEnable(a);var d=b?1:0,e=this.initMega(a),f=e.bin,g=e.index,h=e.value,i="",j="",k=this.megaField;if("undefined"!=typeof g){for(i=f.substring(0,g)+(d+"")+f.substring(g+1),this.megaBin=i;i.length>0;){var l=i.substring(0,18),m=parseInt(l,2).toString(10),n=this.compress(m-0);n="000"+n,n=n.substr(n.length-3),j+=n,i=i.substr(18)}j+="m",$G.attrs.user[k]=j;var o={attrs:{}};if(h!=d||this.firstUsed){o.attrs[k]=j;var p={func:"user:setAttrs",body:o,call:c},q=$I("core.DataAction");(new q).wmsvr(p)}else c&&c()}}function l(){var a,b=$G.attrs.user[this.megaField]||this.comboDefault,c="m"==b.substring(15,16);return c?a=this.getEnable("senderName")?"1":"0":(a=this.get({field:"helptips",flag:"senderName"}),this.setSenderName("senderName",a)),a}function m(a,b){this.enable("senderName","1"==a?!0:!1,b)}function n(a){var b="";if(""!=this.megaBin)b=this.megaBin;else{var c=$G.attrs.user[this.megaField]||this.comboDefault,d="m"==c.substring(15,16);for(d||(c="000000000000000m",this.firstUsed=!0);c.length>1;){var e=c.substring(0,3),f=this.unCompress(e).toString(2);f=this.megaComboDefault+f,f=f.substr(f.length-this.megaComboDefault.length),b+=f,c=c.substr(3)}var g,h}for(var i=$G.get("megaConf").flags,j=0;j<i.length;j++)if(a==i[j]){g=j;break}return"undefined"!=typeof g&&(h=b.substring(g,g+1)),{bin:b,index:g,value:h}}function o(a){var b=[],c=64,d=6,e=1<<d,f=e-1;do b[--c]=this.digits[(a&f)-0],a>>>=d;while(0!=a);return b.join("")}function p(a){function b(a){var b=a-0;return b>=48&&57>=b?b-48:b>=97&&122>=b?b-87:b>=65&&90>=b?b-29:43==b?62:47==b?63:0}for(var c=0,d=a.length-1;d>=0;d--)if(d!=a.length-1)for(var e=0;e<this.digits.length;e++)a.charAt(d)==this.digits[e]&&(c+=e<<6*(a.length-1-d));else c+=b(a.charCodeAt(d));return c}var q=a.createClass($N("util.Ud"));a.Ud=q,a.Object.extend(q,{set:h,get:i,getEnable:j,enable:k,initMega:n,getProxy:d,setProxy:e,getProxyBit:f,setProxyBit:g,comboDefault:"0000000000000000",megaComboDefault:"000000000000000000",megaBin:"",udProxy:{},digits:["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","+","/"],compress:o,unCompress:p,megaField:"helptips",getSenderName:l,setSenderName:m})}($,window),function(){function a(a){var b=a.baseUrl,c=a.pushType,d=a.onData,e=a.service;this._baseUrl=b,this.listenData(d),this._type=c,this._service=e,"ajax-flash"==c&&$I("core.FlashRequest").create()}function b(a){this.request(a,"subscribe")}function c(a){this.request(a,"publish")}function d(a){this.request(a,"listen")}function e(a,b){window.fShowRequest&&fShowRequest(a);var c=this,d=c._baseUrl,e=h(a);switch(c._type){case"jsonp-pull":d=d+(d.indexOf("?")>-1?"&":"?")+e,o.jsonp(d,function(d){c.onData.call(c,d,a,b)},"jsonp");break;case"ajax-flash":this.flashAjax({url:d+(d.indexOf("?")>-1?"&":"?")+(new Date).valueOf(),method:"post",call:function(d){c.onData.call(c,d,a,b)},body:e});break;case"ajax":break;case"iframe":}}function f(){}function g(a,b,c){for(var d=0;d<this._onData.length;d++)this._onData[d](a,b,c)}function h(a){var b=[];for(var c in a){var d=a[c];"object"==typeof d?b.push(c+"="+encodeURIComponent(JSON.stringify(d))):b.push(c+"="+encodeURIComponent(d))}return b.join("&")}function j(a){function b(b,c){if("complete"==b&&a.call){var d=null;try{d=_fEval(c)}catch(e){}a.call(d)}}a.method=a.method||"get";var c=$I("core.FlashRequest").getInstance();if(!c)return setTimeout($.Function.bind(j,this,a),2e3),void 0;c.open(a.method,a.url,a.charset||"utf-8"),a.sync||(c.onreadystatechange=b);var d=a.head||[];for(i=0,l=d.length;l>i;i+=2)c.setRequestHeader(d[i],d[i+1]);c.send("post"==a.method?a.body:null),a.sync&&b()}function k(){}function m(a){a&&this._onData.push(a)}var n=$.createClass("netease.mail.comet.Comet"),o=netease.mail.base.Ajax;$.Object.extend(n.prototype,{_type:"",_onData:[],_baseUrl:"",_service:"service",subscribe:b,publish:c,listen:d,request:e,leave:f,onData:g,stream:k,flashAjax:j,listenData:m,initialize:a})}(),function(){function a(){i.superClass.initialize.apply(this,arguments)}function b(){var a=[{channel:"/meta/connect"}],b=this.getReqParam(a);return i.superClass.subscribe.call(this,b)}function c(a){a.uid=$G.user.uid;var b=[{data:a,channel:"/service/"+this._service}],c=this.getReqParam(b);return i.superClass.publish.call(this,c)}function d(){var a=[{timestamp:(new Date).toGMTString(),channel:"/meta/reconnect"}],b=this.getReqParam(a);return this._onListen&&!this._onListenRun&&(this._onListen(),this._onListenRun=!0),i.superClass.listen.call(this,b)}function e(a,b,c){var d=this;if(a&&a[0]&&!a[0].successful)return i.superClass.onData.apply(this,arguments),window.setTimeout(function(){delete d._clientId,d._onListenRun=!1,d.subscribe()},9e4),!1;if(a&&a[0]&&a[0].clientId&&!this._clientId&&(this._clientId=a[0].clientId,this._onReady&&this._onReady()),"listen"==c){if(a&&a[0]&&a[0].clientId&&this._clientId!=a[0].clientId)return!1;setTimeout(function(){d.listen()},500)}return i.superClass.onData.apply(this,arguments)}function f(a){var b=this._typeMatch[this._type],c={};if(a.length>0)for(var d=0;d<a.length;d++)a[d].connectionType=b,this._clientId&&(a[d].clientId=this._clientId),a[d].timestamp=(new Date).valueOf();else a.connectionType=b,this._clientId&&(a.clientId=this._clientId),a.timestamp=(new Date).valueOf();return c.message=a,c}function g(a){this._onReady=a}function h(a){this._onListen=a}var i=$.createClass("netease.mail.comet.PushMsg"),j=netease.mail.comet.Comet;$.Object.inherit(i,j,{_onReady:null,_onListen:null,_clientId:"",_onListenRun:!1,_type:"",_typeMatch:{stream:"stream-pulling","ajax-pull":"long-polling","ajax-flash":"long-polling","jsonp-pull":"callback-polling"},subscribe:b,publish:c,listen:d,onData:e,onReady:g,onListen:h,getReqParam:f,initialize:a})}(),function(){function a(a){var b=a.call,c=function(a,c,d){b&&b(a,c,d)};window.MailMsg?MailMsg.listenData(c):(MailMsg=new e({baseUrl:a.baseUrl,pushType:a.pushType,service:a.service,onData:c}),MailMsg.onReady(function(){MailMsg.listen()}))}function b(){MailMsg.subscribe()}function c(){var a=netease.mail.base.Cookie.get("P_INFO");return a?a.split("|")[0].replace('"',""):void 0}var d=$.createClass("netease.mail.comet.App"),e=netease.mail.comet.PushMsg;$.Object.extend(d,{create:a,init:b,getUid:c})}(),function(a,b){function c(b){if(s.layers){var c;try{c=a.Event.getTarget(b)}catch(d){}a.Array.each(s.layers,function(b,d){try{if(!d.rawConfig.doNotHide){var e=d.relatedObj;if(e&&c){var f=e&&a.Element.inside(c,e);if(f){var g=d.getDom();d.hidden=g&&"none"!==g.style.display}}for(var h=c,i=!1;h&&1===h.nodeType;)(h.getAttribute("data-layer-stophide")||h===d.rawConfig.pointTo)&&(i=!0),h=h.parentNode;i||d.hide()}}catch(j){}})}}function d(a){if("userLayer"==a.subclass&&!n)try{n=$L("support.AddressSupport",this)}catch(b){return b}var c=this;s.superClass.initialize.call(c,a),s.layers.push(c)}function e(){var a=this,b=a.getEl();if(b&&"none"!==b.dom.style.display){var c=a.getParamClass("hiding");b.hasClass(c)||(r.bind({el:b,type:"animationend",filter:function(a,b){return b.hasClass(c)},unsupport:function(){b.hide(),a.fire("hide")},support:function(){b.hide(),b.removeClass(c),a.fire("hide")}}),r.support&&b.addClass(c))}}function f(b){var c=this,d={params:[]};if(d.text=b.content||b.text||"",d.contentType=b.contentType||"normal",b.hasClose&&d.params.push("hasClose"),b.icon){d.params.push("hasIcon");var e={};"object"==typeof b.icon&&(e=o.extend(b.icon,{xtype:"icon"})),d.icon=q.fly(e)}return b.params&&a.Array.has(b.params,new RegExp("arr(?:Up|Down|Left|Right)"))&&d.params.push("hasArr"),"userLayer"===b.subclass&&(d.text="group"===b.userType?c._getGroupLayer():c._getUserLayer()),b.uniqueLayer&&(s.uniqueLayer?d.specialStyle="display:none;":s.uniqueLayer=c),d}function g(b){var c=this,d=b.clickFrom.dom||b.clickFrom,e=c.rawConfig,f=(b.floatTo||{}).dom||b.floatTo||d,g=b.reverse||e.reverse||!1;a.Event.listen(d,"click",function(){setTimeout(function(){c.hidden?c.hide():(c.rendered?c.show():c.render(document.body),g?c.getEl().floatTo(f,f.clientHeight,-(c.getEl().dom.offsetWidth-f.offsetWidth)):c.getEl().floatTo(f,!0)),c.hidden=!c.hidden},0)}),c.relatedObj=d}function h(a,b){try{var c=this.rawConfig,d=0,e=0,f=a.dom||a,g=f,h=this.getEl().dom,i=this._arrEl?this._arrEl.dom:null,j=this.cssClassNames.params,k=i?i.offsetLeft+i.offsetWidth/2:0,l=0;b=b&&b.dom||b||q.getScrollParent(g)||c.renderTo&&c.renderTo.dom||c.renderTo||document.body;do d+=f.offsetTop||0,e+=f.offsetLeft||0,f=f.offsetParent;while(f&&f!==b&&f!==b.offsetParent);if(j.arrDown)l=g.offsetWidth/2<k?g.offsetWidth/2-k:0,h.style.left=e+l+(c.fixX||0)+"px",h.style.top=d-i.offsetHeight+(c.fixY||0)+"px",h.offsetLeft<0&&(h.style.left=0,i&&(i.style.left=i.offsetLeft+e+l+(c.arrFixX||0)+"px"));else if(j.arrLeft){h.style.left=e+h.clientWidth-i.clientWidth+(c.fixX||0)+"px";var m=d-(g.offsetHeight+i.offsetHeight)/2+(c.fixY||0);m=0>m?0:m,h.style.top=m+"px"}else if(j.arrRight){h.style.left=e-h.clientWidth-i.clientWidth+(c.fixX||0)+"px";var m=d-(g.offsetHeight+i.offsetHeight)/2+(c.fixY||0);m=0>m?0:m,h.style.top=m+"px"}else l=g.offsetWidth/2<k?g.offsetWidth/2-k:0,h.style.left=e+l+(c.fixX||0)+"px",h.style.top=d+g.offsetHeight+i.offsetHeight+(c.fixY||0)+"px",h.offsetLeft<0&&(h.style.left=0,i&&(i.style.left=i.offsetLeft+e+l+"px"))}catch(n){}}function i(){if(a.Ext&&a.Ext.avatar_show){var b=this,c=b.rawConfig;if("userLayer"===c.subclass&&"group"!==c.userType)try{var d=$I("init.Avatar"),e=b.getEl();d.get(c.value.address,80,$S("orgUid")!==c.value.address,function(a,b){if(!b){e.find("div.nui-userLayer-oprt").hide();var c=e.find("div.nui-userLayer-avatar");c.html('<img src="'+a+'" width="80" height="80">'),c.show(),e.find("div.nui-toolbar-item").show(),e.addClass("nui-userLayer-hasAvatar ")}})}catch(f){}}}function j(){function c(a){try{p.cache({layer_compose_click:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(b){}var c;try{c=$L("interface.ComposeInterface")}catch(d){return d}c.compose({type:"compose",param:{info:{to:[a.address]}}})}function d(a){try{p.cache({layer_related_click:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(b){}var c;try{c=$L("interface.MboxInterface")}catch(d){return d}c.contacts(a.address)}function e(b,c,d){var e=a.String.decodeHTML(c.name);b?$E("support.AddressSupport",function(c){c.contactDialog({type:"modify",addr:{id:b,name:e},callback:function(){a.Tips.show({succ:!0,text:"成功编辑联系人"}),d&&d()}})}):$E("support.AddressSupport",function(b){b.contactDialog({type:"add",addr:{name:e,email:c.address,marked:c.marked},callback:function(){a.Tips.show({succ:!0,text:"成功添加联系人"}),d&&d()}})})}function f(a){i.fire("clickLayer","moreAction"),$E("interface.OptionInterface",function(b){b.goFilter({inputText:[a.address]})})}function g(a){i.fire("clickLayer","moreAction"),$E(["product.FileCenter"],function(b){b.entry("fj_center",{contact:{fromEmail:a}})})}function h(b,c){i.fire("clickLayer","moreAction");var d="refuselist"===c?"黑名单":"白名单",e=b.address;a.Msgbox.show({type:"confirm",icon:"ask-l",title:"是否将 "+e+" 加入"+d+"？",header:"添加"+d+"确认",ok:function(){$E("support.OptionSupport",function(b){b.addList({name:c,value:e,noErr:!0},function(b,c){b?a.Tips.show({succ:!0,text:"成功添加 "+e+" 到"+d}):a.Tips.show({err:!0,text:c||"添加 "+e+" 到"+d+"失败，请重新尝试添加"})})})}})}var i=this,j=i.rawConfig,k=j.value,l="",m=a.Link,o=a.Button,r=n.getAddrObj(k.address,!0),s=m.html({text:"写信",extcls:"nui-txt-cLink",click:function(){i.fire("clickLayer","compose"),c(k)}});if(s='<span class="nui-userLayer-item-ext"><b class="nui-ico nui-ico-compose2 nui-ico-inSkin"></b> '+s+"</span>",r){var t=r.MARKED;l=a.Icon.html({type:"star",subtype:t?"selected":null,listeners:{click:{handler:function(){var b=this;t=n.getAddrObj(k.address,!0).MARKED,t?a.Msgbox.show({type:"confirm",contentType:"iconText",title:"确定要取消星标联系人吗？",content:"取消星标联系人后，该联系人将从左侧栏移除。",ok:function(){n.markData({data:{cid:r.CID},mark:!1,call:function(){t=!1,a(b).removeClass("nui-ico-star-selected")}})}}):n.markData({data:{cid:r.CID},call:function(){a(b).addClass("nui-ico-star-selected"),t=!0}})}}}})}else l=a.Icon.html({type:"star",listeners:{click:{handler:function(){i.fire("clickLayer","addContact"),k.marked=!0,e(null,k,j.userLayerCallback)}}}});var u=m.html({text:"邮件往来",extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){i.fire("clickLayer","emailRelate"),d(k)}}),v=o.html({text:"邮件往来",click:function(){i.fire("clickLayer","emailRelate"),d(k)}}),w={},x={};r?(w={text:"编辑联系人",extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){i.fire("clickLayer","editContact"),e(r.CID,k,j.userLayerCallback)}},x={text:"编辑联系人",click:function(){i.fire("clickLayer","editContact"),e(r.CID,k,j.userLayerCallback)}}):(w={text:"添加联系人",extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){i.fire("clickLayer","addContact"),e(null,k,j.userLayerCallback)}},x={text:"添加联系人",click:function(){i.fire("clickLayer","addContact"),e(null,k,j.userLayerCallback)}});var y=m.html(w),z=o.html(x),A=[];A.push({items:[{text:"设置来信分类",click:function(){f(k)}}]}),$S("isCorp")||A.push({items:[{text:"查看附件往来",click:function(){g(k)}}]}),A.push({items:[{text:"拒收该地址",click:function(){h(k,"refuselist")}},{text:"添加到白名单",click:function(){h(k,"safelist")}}]});var B=m.html({text:'更多&nbsp;&nbsp;<b class="nui-ico nui-ico-rArr"></b>',extcls:"nui-userLayer-oprt-item nui-txt-cLink",listeners:{mouseover:{handler:function(){var b=this,c=q.getItem(b);a.Event.isMouseover(b)&&(c.menu?c.menu.show():(c.menu=new a.Menu({renderTo:i.getEl().dom,groups:A,listeners:{render:function(){var a=i.getEl().dom,c=this,d=c.getEl().dom;d.style.left="100%",d.style.top="100%",d.style.marginTop=-b.offsetHeight+"px",a.offsetTop+a.offsetHeight>a.parentNode.offsetHeight&&(d.style.top="auto",d.style.bottom="0")}}}),i.listen("hide",function(){c.menu.hide()})))}}}}),C=o.html({text:"更多",subclass:"dropdownBtn",menu:{groups:A}}),D=m.html({text:"复制",cls:"nui-txt-link",attrs:'style="white-space:nowrap;"',click:function(){i.copyAddress()}}),E="";j.vip&&$S("isFree")&&(E='<div data-layer-stophide="true" class="nui-userLayer-item"><span>'+m.html({text:"升级VIP服务>",cls:"nui-txt-mark",click:function(){b.open("http://reg.vip.163.com/register.m?from=mingpian#tab=upgrade","updateVip")}})+"</span>");var F='<div class="nui-userLayer-avatar nui-userLayer-item" style="display:none;"></div><div data-layer-stophide="true" class="nui-userLayer-name nui-userLayer-item">'+s+l+k.name+"</div>"+'<div data-layer-stophide="true" class="nui-userLayer-address nui-userLayer-item"><span>'+k.address+"</span>&nbsp;&nbsp;"+D+"</div>"+E+'<div class="nui-userLayer-oprt">'+u+y+B+"</div>"+'<div class="nui-toolbar-item" style="display:none;">'+v+z+C+"</div>";return F}function k(){function b(a){var b;try{b=$L("interface.ComposeInterface")}catch(c){return c}b.compose({info:{to:a.arr}})}function c(b){var c=this;a.Event.stop(b);var d=n.data.extDataMap.group[(f.data||{}).cid||""],e=d.MARKED;e?a.Msgbox.show({type:"confirm",contentType:"iconText",title:"确定要取消星标联系组吗？",content:"取消星标联系组后，该联系组将从左侧栏移除。",ok:function(){n.markData({data:{cid:d.CID,ctype:"group"},mark:!1,call:function(){e=!1,a(c).removeClass("nui-ico-stars-selected")}})}}):n.markData({data:{cid:d.CID,ctype:"group"},call:function(){a(c).addClass("nui-ico-stars-selected"),e=!0}})}var d=this,e=d.rawConfig,f=e.value,g=a.Link,h=g.html({text:"给联系组写信",extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){b(f)}}),i=g.html({text:"编辑联系组",extcls:"nui-userLayer-oprt-item nui-txt-cLink",click:function(){$E("interface.AddressInterface",function(a){a.entry({action:"ModifyGroup",id:f.data.cid})})}}),j=[];j.push({items:[{text:"取消加星联系组",click:function(){a.Msgbox.show({type:"confirm",contentType:"iconText",title:"确定要取消星标联系组吗？",content:"取消星标联系组后，该联系组将从左侧栏移除。",ok:function(){n.markData({data:{cid:f.data.cid,ctype:"group"},mark:!1,call:function(){}})}})}}]});var k=g.html({text:'更多&nbsp;&nbsp;<b class="nui-ico nui-ico-rArr"></b>',extcls:"nui-userLayer-oprt-item nui-txt-cLink",listeners:{mouseover:{handler:function(){var b=this,c=q.getItem(b);a.Event.isMouseover(b)&&(c.menu?c.menu.show():(c.menu=new a.Menu({renderTo:d.getEl().dom,groups:j,listeners:{render:function(){var a=d.getEl().dom,c=this,e=c.getEl().dom;e.style.left="100%",e.style.top="100%",e.style.marginTop=-b.offsetHeight+"px",a.offsetTop+a.offsetHeight>a.parentNode.offsetHeight&&(e.style.top="auto",e.style.bottom="0")}}}),d.listen("hide",function(){c.menu.hide()})))}}}}),l=n.data.extDataMap.group[(f.data||{}).cid||""],m="";if(l){var o=l.MARKED;m=a.Icon.html({type:"stars",subtype:o?"selected":null,listeners:{click:{handler:c}}})}var p='<div data-layer-stophide="true" class="nui-userLayer-name nui-userLayer-item">'+m+a.String.escapeHTML(f.data.name)+"</div>"+'<div class="nui-userLayer-oprt">'+h+i+k+"</div>";
return p}function l(){var a=this,b=a.getEl();try{b.dom.focus()}catch(c){}}function m(){function a(a){if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName)a.focus(),a.setSelectionRange(0,a.value.length);else if(a.hasAttribute("contenteditable")&&a.focus(),"function"==typeof b.getSelection){var c=b.getSelection(),d=document.createRange();d.selectNodeContents(a),c.removeAllRanges(),c.addRange(d)}else{var d=document.selection.createRange();d.moveToElementText(a),d.select()}}var c=this,d=c.getEl(),e=d.find(".nui-userLayer-address span").doms[0];a(e);try{succeeded=document.execCommand("copy")}catch(f){succeeded=!1}}var n,o=a.Object,p=a.Log||b.Log,q=a.getClass("netease.mail.component.Component"),r=a.getClass("netease.mail.util.AnimationEvent"),s=a.createClass($N("component.Layer"));a.fly(document).listen("click",function(a){s.hideAllLayer(a)}),o.mix(s,q,{_cssClass:{baseclass:{cls:"nui-layer",tpl:'<div tabindex="0" class="#{compclass}" style="#{specialStyle}">#{hasClose}#{hasArr}<div class="nui-layer-#{contentType}">#{hasIcon}#{text}</div></div>',hasClose:{tpl:'<span class="nui-layer-close nui-close"><b class="nui-ico nui-ico-close">x</b></span>'},hasArr:{tpl:'<b class="nui-layer-arr"></b>'},hasIcon:{tpl:'<span class="nui-layer-icon">#{icon}</span>'}},subclass:{userLayer:{cls:"nui-userLayer"},productLayer:{cls:"nui-productLayer"},tipsLayer:{cls:"nui-tipsLayer"},dateLayer:{cls:"nui-dateLayer"}}},_events:["closeclick"],_listeners:[{name:"render",handler:function(){var a=this,b=a.getEl();if(b){var c=b.dom,d=a.rawConfig;a.checkAvatar(),d.width&&(c.style.width=d.width),d.height&&(c.style.height=d.height),d.left&&(c.style.left=d.left),d.top&&(c.style.top=d.top),d.right&&(c.style.right=d.right),d.bottom&&(c.style.bottom=d.bottom),d.zIndex&&(c.style.zIndex=d.zIndex),a._arrEl=a.getEl().find("b.nui-layer-arr");var e=(a._arrEl||{}).dom;e&&(d.arrLeft&&(e.style.left=d.arrLeft),d.arrTop&&(e.style.Top=d.arrTop));var f=b.findFly("span.nui-layer-close");f&&f.listen("click",function(){a.hide(),a.fire("closeclick")}),d.pointTo&&a.pointTo(d.pointTo,d.popupRenderTo),"userLayer"===d.subclass&&q.setEvents(),a.focus()}},type:"custom"},{name:"destroy",handler:function(){var b=this;b._arrEl.destroy(),delete b._arrEl,a.Array.each(s.layers,function(c,d){return d===b?(d.layers.splice(c,1),a.BREAK):void 0})},type:"custom"},{name:"show",handler:function(){var a=this,b=a.rawConfig,c=a.getEl();if(a.checkAvatar(),b.pointTo&&a.pointTo(b.pointTo,b.popupRenderTo),c.dom.style.visibility="",a.focus(),"userLayer"===b.subclass&&"group"!==b.userType){try{var d=a.rawConfig.value.address,e=n.getAddrObj(d,!0);if(e){var f=c.find(".nui-ico-star");f&&f[e.MARKED?"addClass":"removeClass"]("nui-ico-star-selected")}}catch(g){}a.focus()}},type:"custom"},{name:"click",handler:function(b){a.Event.stop(b)}},{name:"hide",handler:function(){this.getEl().dom.style.visibility="hidden"},type:"custom"},{name:"keyup",handler:function(a){var b=q.getItem(this);27===a.keyCode&&b.hide()}}],layers:[],hideAllLayer:c,xtype:"layer"},{attachTo:g,pointTo:h,checkAvatar:i,_getData:f,_getUserLayer:j,_getGroupLayer:k,initialize:d,hide:e,focus:l,copyAddress:m})}($,window),function(a,b,c){function d(a){var b=this;r.superClass.initialize.call(b,a),a.iconBtn&&a.iconbtnclick&&b.listen("iconbtnclick",a.iconbtnclick),a.focus&&b.listen("focus",a.focus),a.blur&&b.listen("blur",a.blur),a.enter&&b.listen("enter",a.enter),a.keyup&&b.listen("keyup",a.keyup),a.keydown&&b.listen("keydown",a.keydown)}function e(){return this._inputEl}function f(a){var b=this;a=a===c?!0:a,r.superClass.setDisabled.call(b,a),a?b._inputEl.dom.setAttribute("disabled",!0):b._inputEl.dom.removeAttribute("disabled")}function g(a){var b=this;a=a||b.rawConfig.placeholder;var c=a!==b.rawConfig.placeholder;b._placeholderEl?c?(b._placeholderEl.dom.innerHTML=a,b._placeholderEl.show()):b._placeholderEl.show():b.update({placeholder:a})}function h(){var a=this;a._placeholderEl&&a._placeholderEl.hide()}function i(){var a=this;a._inputEl.dom.focus()}function j(){var a=this;a._inputEl.dom.select()}function k(a,b){var c=this,d=c.rawConfig;b=b||"err",c._tipsType=b;var e={text:a,type:b,renderTo:d.tipsRenderTo||c.getEl().dom.parentNode,renderBy:d.tipsRenderBy||null,extcls:"nui-ipt-tips"+(d.tipsExtcls?" "+d.tipsExtcls:"")},f=new($I("component.Label"))(e);c.find("label")&&c.hideTips(),c.add(f),c.getEl().addClass("nui-ipt-"+b),c.listen("keyup",c.hideTips)}function l(){var a=this,b=a.find("label")&&a.find("label")[0];b&&(a.remove(b.getEl().dom.id),a.getEl().removeClass("nui-ipt-"+a._tipsType),b.destroy()),a.unlisten("keyup",a.hideTips)}function m(a){var b=this,c=b._inputEl;if(!c){var d=b.getEl();d&&(c=d.find("input")||d.find("textarea"))}c&&(c.dom.value=a)}function n(){return this._inputEl?this._inputEl.dom.value:this.rawConfig.value||""}function o(a){var b=this,c={};if(c.params=[],c.value=a.value||"",a.placeholder&&(c.placeholder=a.placeholder,c.ariaLabel=' aria-label="'+a.placeholder+'"',c.params.push("hasPlaceholder"),a.inputId=a.inputId||b.id+"_inputId",c.labelForId='for="'+a.inputId+'" '),a.inputId&&(c.inputId='id="'+a.inputId+'" '),c.inputType=a.inputType||"text","password"===c.inputType&&c.params.push("hasCapsLockTips"),a.name&&(c.name=' name="'+a.name+'"'),a.icon){var d={xtype:"icon"};"object"==typeof a.icon?p.extend(d,a.icon):d.type=a.icon,c.icon=b._getChildHtml(d),c.params.push("hasIcon")}var e=sHeight="";if(a.width&&(e="width:"+a.width+";"),a.height&&(sHeight="height:"+a.height+";"),(e||sHeight)&&(c.style=' style="'+e+sHeight+'"'),a.iconBtn){var f={xtype:"icon",role:"button",interactiveStyle:!0};"object"==typeof a.iconBtn?p.extend(f,a.iconBtn):f.type=a.iconBtn,c.iconBtn=b._getChildHtml(f),c.params.push("hasIconBtn")}return a.voiceInput&&(c.voiceInput=" x-webkit-speech"),a.maxLength&&(c.maxLength=' maxlength="'+a.maxLength+'"'),a.tabIndex&&(c.tabIndex=' tabindex="'+a.tabIndex+'"'),"multiLineIpt"===a.subclass&&(a.rows&&(c.rows=' rows="'+a.rows+'"'),a.cols&&(c.cols=' cols="'+a.cols+'"')),a.inputClass&&(c.inputClass=" "+a.inputClass),c}var p=a.Object,q=a.getClass("netease.mail.component.Component"),r=a.createClass($N("component.Input"));p.mix(r,q,{_cssClass:{baseclass:{cls:"nui-ipt",tpl:'<div class="#{compclass}">#{hasIcon}#{hasPlaceholder}<input #{inputId}class="nui-ipt-input#{inputClass}" type="#{inputType}" #{style}#{voiceInput}#{name}#{ariaLabel}#{tabIndex}#{maxLength}>#{hasIconBtn}#{hasCapsLockTips}</div>',hasPlaceholder:{cls:"",tpl:'<label class="nui-ipt-placeholder" #{labelForId}>#{placeholder}</label>'},hasIcon:{tpl:'<span class="nui-ipt-icon">#{icon}</span>'},hasIconBtn:{tpl:'<span class="nui-ipt-iconBtn" tabindex="0" hidefocus="hidefocus">#{iconBtn}</span>'},hasCapsLockTips:{tpl:'<div role="tooltip" class="nui-simpleTips nui-tips" style="display:none;">大写锁定已开</div>'}},subclass:{smallIpt:{cls:"nui-smallIpt"},multiLineIpt:{cls:"nui-multiLineIpt",tpl:'<div class="#{compclass}">#{hasPlaceholder}<textarea #{inputId}aria-multiline="true" class="nui-ipt-input#{inputClass}"#{style}#{name}#{tabIndex}#{maxLength}#{rows}#{cols}></textarea></div>'}}},_events:["focus","blur","iconbtnclick","enter","keyup","keydown"],_listeners:[{name:"click",handler:function(b){var c=q.getItem(this),d=a.Event.getTarget(b);c.rawConfig.iconBtn&&a.Element.inside(d,c._iconBtnEl.dom)?c.fire("iconbtnclick"):c._inputEl.dom.focus()}},{name:"focus",handler:function(){var a=this,b=a.getEl();a._placeholderEl&&a._placeholderEl.hide(),b.addClass("nui-ipt-focus")},type:"custom"},{name:"blur",handler:function(){var a=this,b=a.getEl();b.removeClass("nui-ipt-focus"),a._placeholderEl&&(""===a.getValue()?a._placeholderEl.show():a._placeholderEl.hide())},type:"custom"},{name:"destroy",handler:function(){var a=this;delete a._placeholderEl,delete a._inputEl,delete a._iconBtnEl,delete a.iconBtn,delete a.icon},type:"custom"},{name:"render",handler:function(){var b=this,c=b.getEl(),d=b.rawConfig;if(b._inputEl=c.find("input")||c.find("textarea"),b._placeholderEl=c.find(".nui-ipt-placeholder"),"password"===d.inputType){b._capsLockTips=c.find("div.nui-simpleTips"),b._inputEl.attr({autocomplete:"off"});var e=a.getClass("util.CapsLock");e&&(b._capsLock=new e({el:b._inputEl,change:function(a){b._capsLockTips.dom.style.display=a?"":"none"}}))}b._inputEl.listen("focus",function(){b.fire("focus")}),b._inputEl.listen("blur",function(){b.fire("blur")}),b._inputEl.listen("keyup",function(a){b.fire("keyup"),13===a.keyCode&&b.fire("enter")}),b._inputEl.listen("keydown",function(){b.fire("keydown")}),d.icon&&(b.icon=b.find("icon")[0]),d.iconBtn&&(b.iconBtn=d.icon?b.find("icon")[1]:b.find("icon")[0],b._iconBtnEl=c.find(".nui-ipt-iconBtn")),d.value&&(b._inputEl.dom.value=d.value),d.disabled&&b.setDisabled(),d.title&&(c.dom.title=d.title),b._placeholderEl&&(""===b.getValue()?b._placeholderEl.show():b._placeholderEl.hide())},type:"custom"},{name:"destroy",handler:function(){var a=this;delete a._tipsType,a._inputEl&&a._inputEl.destroy(),a._placeholderEl&&a._placeholderEl.destroy(),a._iconBtnEl&&a._iconBtnEl.destroy()},type:"custom"}],disabledFlyMode:!0,_interactiveStyle:!0,xtype:"input"},{initialize:d,_getData:o,setValue:m,getValue:n,showTips:k,hideTips:l,getInputEl:e,showPlaceholder:g,hidePlaceholder:h,select:j,focus:i,setDisabled:f})}($,window),function(a,b){function c(a){y.superClass.initialize.apply(this,arguments),a.click&&this.listen("click",a.click)}function d(){var b=this._getChildContainer(),c=this.getEl(),d=c.find("b.nui-ico-rArr");if(d){var e=c.findFly("div.nui-tree-item-label").dom;if(d.removeClass("nui-tree-item-symbol-unfold"),d.addClass("nui-tree-item-symbol-fold"),c.addClass("nui-tree-item-isFold"),e.removeAttribute("aria-checked"),e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false"),c.removeClass("nui-tree-item-isUnfold"),this.rawConfig.items&&this.getEl().findFly("#"+this.id+"count").show(),d.destroy(),this.rawConfig.isFold)return;if(x)b.style.display="none",b.style.visibility="hidden";else{b.style.height="",b=a(b);var f=b.height();f?(b.dom.style.height=f+"px",setTimeout(function(){b.addClass("nui-tree-animation"),b.dom.style.height="0px",setTimeout(function(){b.removeClass("nui-tree-animation"),b.dom.style.visibility="hidden"},200)},15)):(b.dom.style.height="0px",b.dom.style.visibility="hidden")}}}function e(){var b=this._getChildContainer(),c=this.getEl(),d=c.find("b.nui-ico-dArr");if(d){var e=c.findFly("div.nui-tree-item-label").dom;if(d.addClass("nui-tree-item-symbol-unfold"),d.removeClass("nui-tree-item-symbol-fold"),c.removeClass("nui-tree-item-isFold"),e.removeAttribute("aria-checked"),e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","true"),c.addClass("nui-tree-item-isUnfold"),this.rawConfig.items&&this.getEl().findFly("#"+this.id+"count").hide(),d.destroy(),x)b.style.display="",b.style.visibility="";else{b.style.height="",b=a(b);var f=b.height();f?(b.dom.style.height="0px",setTimeout(function(){b.addClass("nui-tree-animation"),b.height(f+"px"),setTimeout(function(){b.removeClass("nui-tree-animation"),b.dom.style.height="",b.dom.style.visibility=""},200)},15)):b.dom.style.visibility=""}}}function f(a){this.getEl().find("span.nui-tree-item-text").html(a)}function g(){return this.getEl().find("span.nui-tree-item-text").html()}function h(b){var c,d=this,e={extlinks:"",items:"",left_wrap:'<li role="treeitem" class="nui-tree-item">',right_wrap:"</li>"};if(b.split)return e.left_wrap='<li class="qW0" role="separator"></li>',e;if(b.items&&(w.each(b.items,function(a,c){if(!b.createChild&&(c.autoCreateChild=!b.createChild&&!c.isFold,!c.autoCreateChild)){c.listeners=c.listeners||{};var d=c.listeners.unfold;c.listeners.unfold=function(){var a=this;if(!a.itemsIsCreated){var b=this.rawConfig.items;w.each(b,function(b,c){a.add(c)}),a.itemsIsCreated=!0,a.updateAllCount()}d&&d.call(this)}}c.extcls&&(e.left_wrap='<li role="treeitem" class="nui-tree-item '+c.extcls+'">')}),e.items='<ul role="tree" class="nui-tree" role="tree" aria-label="左侧导航"></ul>'),b.isRoot&&(e.left_wrap="",e.right_wrap=""),b.isRoot||"scrollGroup"in b)e.content="";else{var f="";(b.hasChild||b.items&&0!==b.items.length)&&(f+='<span class="nui-tree-item-symbol"><b class="nui-tree-item-symbol-fold nui-ico nui-ico-rArr'+(d.ownerCt.rawConfig.isNav?" fn-bg":"")+'"></b><b class="nui-tree-item-symbol-unfold nui-ico nui-ico-dArr'+(d.ownerCt.rawConfig.isNav?" fn-bg":"")+'"></b></span>');var g="";b.icons=b.icons||[];var h="";b.lockIcon&&(h='<span class="ks0">'+this._getChildHtml({xtype:"icon",type:"lock"})+"</span>"),b.icons&&b.icons.length>0&&(g='<span class="nui-tree-item-icon">'+this._batch(b.icons).join("")+"</span>");var i="";"checkValue"in b&&(i=this._getChildHtml({xtype:"checkbox",value:b.checkValue}));var j=b.count,k=b.boldCount===!1?"span":"strong";if(f+='<span class="nui-tree-item-inlineIcon">'+(b.extIcon?this._getChildHtml(b.extIcon):"")+"</span>",f+=i+h+g+'<span class="nui-tree-item-text">'+(b.noEncode?b.text:a.String.escapeHTML(b.text))+"</span>",f+="<"+k+' class="nui-tree-item-count '+(b.countExtcls?b.countExtcls:"")+'" id="'+this.id+'count" '+(b.items||!j||0==j?'style="display:none;"':"")+">"+(j&&j>0?"("+j+")":"")+"</"+k+">",f+='<span class="nui-tree-item-inlineIcon">'+(b.extIcon2?this._getChildHtml(b.extIcon2):"")+"</span>",b.extItems){for(c=0;c<b.extItems.length;c++)b.extItems[c].click&&(b.extItems[c].listeners={click:{handler:function(b){var c=z.getItem(this);c.rawConfig.click.apply(this,arguments),a.Event.cancelBubble(b)}}});f+='<span class="nui-tree-item-ext">'+this._batch(b.extItems).join("")+"</span>"}var l=b.hideArr?" uE0":"";f=this._getChildHtml({html:'<div class="nui-tree-item-label'+l+'" tabindex="0" hidefocus="hidefocus" role="treeitem" aria-checked="false">'+f+"</div>",xtype:"component",treeType:"treeitem",onRender:function(){d._treeHeader=this},listeners:{click:{handler:function(a){d.onClick(a)}},keyup:{handler:function(a){13===a.keyCode&&d.onClick()}},keydown:{handler:function(b){13===b.keyCode&&a.Event.fire(this,"mousedown"),d.onKeyUp(b)}},mouseover:{handler:function(b){var c=a(this);a.Event.isMouseover(c.dom,b)&&c.addClass("nui-tree-item-label-hover")}},mouseout:{handler:function(b){var c=a(this);a.Event.isMouseout(c.dom,b)&&(c.removeClass("nui-tree-item-label-active"),c.removeClass("nui-tree-item-label-hover"),c.removeClass("nui-tree-item-label-focus"))}},mousedown:{handler:function(){var b=a(this);b.removeClass("nui-tree-item-label-hover"),b.addClass("nui-tree-item-label-active")}},mouseup:{handler:function(){var b=a(this);b.removeClass("nui-tree-item-label-active"),b.addClass("nui-tree-item-label-hover")}},focus:{handler:function(){var b=a(this);b.focus=!0,b.addClass("nui-tree-item-label-focus")}},blur:{handler:function(){var b=a(this);b.focus=!1,b.removeClass("nui-tree-item-label-focus")}}}}),e.content=f}return e}function i(b){var c=this,d=this.rawConfig;if(d.checkValue){var e=c.find("checkbox")[0];e&&(e.setChecked(),a.Event.cancelBubble(b))}if(d.titleStyle||d.items){if(d.items){var f=c.rawConfig.isFold,g=f?"unfold":"fold";c.fire(g),c[g](),c.rawConfig.isFold=!c.rawConfig.isFold}}else c.fire("click")||this.focus()}function j(){try{var a=this.getRoot(),b=a.focusItem;b&&b.getEl()&&b.blur();var c=this.getEl().findFly("div.nui-tree-item-label")||this.getEl();c.addClass("nui-tree-item-label-selected"),c.dom.setAttribute("aria-checked","true"),a.focusItem=this}catch(d){}}function k(){try{var a=this.getEl().findFly("div.nui-tree-item-label")||this.getEl();a.removeClass("nui-tree-item-label-selected"),a.dom.setAttribute("aria-checked","false");var b=this.getRoot(),c=b.focusItem;c===this&&delete b.focusItem}catch(d){}}function l(a){if(!this.rawConfig.isRoot){this.rawConfig.count=a;var b=this.getEl().findFly("#"+this.id+"count");b&&(a&&a>0?("网易微博"===this.rawConfig.text?b.html('(<span class="nui-txt-impt">'+a+"</span>)"):b.html("("+a+")"),!this.rawConfig.isFold&&this.rawConfig.items?b.hide():b.show()):b.empty(),this.ownerCt&&this.ownerCt!==this.getRoot()&&this.ownerCt.updateAllCount())}}function m(){var a=this;a===a.getRoot()?y.superClass.onRender.call(a):setTimeout(function(){try{y.superClass.onRender.call(a)}catch(b){}},50)}function n(){var a=this;y.superClass.hide.call(a),a.ownerCt&&a.ownerCt.updateAllCount()}function o(){var a=this.find("tree",!0);if(a){for(var c=0,d=0;d<a.length;d++){var e=a[d];if(b.$I&&e.rawConfig.data&&"none"!==e.getDom().style.display){var f=e.rawConfig.data;f.group&&("folder"===f.group||"cusfolder"===f.group)&&$G.common.nolistids&&w.has($G.common.nolistids,f.id)||2==f.id||(c+=((f||{}).count||0)-0)}}this.updateCount(c)}}function p(){var a=this;y.superClass.show.call(a),a.ownerCt&&a.ownerCt.updateAllCount()}function q(a){return a.xtype=a.xtype||"tree",y.superClass.add.apply(this,arguments)}function r(b){var c=this;return b.listeners||(b.listeners={}),b.listeners.mouseover||(b.listeners.mouseover={handler:function(b){var c=a(this);a.Event.isMouseover(c.dom,b)&&c.addClass("nui-tree-item-hover")}}),b.listeners.mouseout||(b.listeners.mouseout={handler:function(b){var c=a(this);a.Event.isMouseout(c.dom,b)&&c.removeClass("nui-tree-item-hover")}}),c.addArrow(),y.superClass._addChild.apply(this,arguments)}function s(){var a=this.find("checkbox"),b=[];if(a)for(var c=0;c<a.length;c++)a[c].getChecked()&&b.push(a[c].value);return b}function t(){var a=this,b=a._treeHeader;if(b&&!b._hasArrow){var c=b.getEl();if(!c)return;var d=c.find("span.nui-tree-item-symbol");if(!d){var e='<span class="nui-tree-item-symbol"><b class="nui-tree-item-symbol-fold nui-ico nui-ico-rArr'+(a.ownerCt.rawConfig.isNav?" fn-bg":"")+'"></b><b class="nui-tree-item-symbol-unfold nui-ico nui-ico-dArr'+(a.ownerCt.rawConfig.isNav?" fn-bg":"")+'"></b></span>';c.prepend(e),b._hasArrow=!0}}}function u(){var b=this,c=b.getRoot(),d=c.find("tree");if(d.length<=0)return null;var e={curItem:d[0],prevItem:d[0],nextItem:d[0]},f=[];a.Array.each(d,function(b,c){if(!c.hidden&&c.ownerCt&&c.ownerCt._getChildContainer){var d=c.ownerCt._getChildContainer();if(d){var e=a(d);"none"!=e.css("display")&&"hidden"!=e.css("visibility")&&f.push(c)}}});for(var g=0,h=f.length;h>g;g++)if(f[g]==b){e.curItem=f[g],e.prevItem=0!==g?f[g-1]:f[h-1],e.nextItem=g!==h-1?f[g+1]:f[0];break}return e}function v(b){var c=this;c.rawConfig;var d=b.keyCode;if(38===d||40===d){a.Event.stop();var e=c.getFocusItem();if(c.getRoot().curFocusItem=e.curItem,e)switch(b.keyCode){case 38:try{e.prevItem.find("$treeType$treeitem")[0].getDom().focus(),c.getRoot().curFocusItem=e.prevItem}catch(f){}break;case 40:try{e.nextItem.find("$treeType$treeitem")[0].getDom().focus(),c.getRoot().curFocusItem=e.nextItem}catch(f){}}}}var w=a.Array,x=a.Browser.isIE("<9"),y=a.createClass($N("component.Tree")),z=a.getClass("netease.mail.component.Component");a.Object.mix(y,z,{_template:"#{left_wrap}#{content}#{items}#{right_wrap}",xtype:"tree",_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig;if(b.items&&(b.isFold?a.fold():a.unfold()),b.context)try{a.getEl().listen("contextmenu",function(){$I("util.Contextmenu").show({groups:[{items:b.context}],width:120})})}catch(c){}if(b.handleContextMenu)try{a.getEl().listen("contextmenu",function(){var a=b.handleContextMenu(b);a&&$I("util.Contextmenu").show({groups:[{items:a}],width:120})})}catch(c){}b.hidden&&a.hide(),b.title&&("label"===b.titleScale?a.getEl().find("div.nui-tree-item-label").dom.title=b.title:a.getEl().find("span.nui-tree-item-text").dom.title=b.title)},type:"custom"},{name:"afterRender",handler:function(){},type:"custom"}],_events:["fold","unfold","click"]},{_getChildContainer:function(){var b=this.getEl().dom.lastChild||this.getDom();return a.fly(b).dom},onClick:i,focus:j,blur:k,getFocusItem:u,curFocusItem:null,onKeyUp:v,initialize:c,updateCount:l,onRender:m,show:p,hide:n,updateAllCount:o,add:q,_addChild:r,getCheckedValue:s,_getData:h,fold:d,unfold:e,addArrow:t,setText:f,getText:g})}($,window),function(a,b){function c(a){try{m=$L("support.AddressSupport")}catch(b){return b}var c=this;k.superClass.initialize.call(c,a),a.click&&c.listen("click",a.click)}function d(){return this.value}function e(b){var c=this;if(!i.compare(c.value,b)){var d=c.getEl(),e=d.find(".nui-addr-name"),f=d.find(".nui-addr-email");e.html(a.String.encodeHTML(b.name)),b.name?f.html("&lt;"+b.address+"&gt;"):f.html(b.address),c.value=b}}function f(b){var c=this,d=c.rawConfig,e=c.getEl().dom,f=b?0:c.timeout;clearTimeout(c.timer),c.timer=setTimeout(function(){try{var b=c.layer&&c.layer.getEl();(!c.layer||b&&"none"===b.dom.style.display)&&c.fire("subAction","show")}catch(f){}c.layer?c.layer.show():c.layer=new($I("component.Layer"))({subclass:"userLayer",params:"arrUp",arrLeft:"130px",vip:d.vip,yixin:d.yixin,mobile:d.mobile,value:c.value,renderTo:j.getScrollParent(e)||document.body,pointTo:e,listeners:{clickLayer:function(a){c.fire("subAction",a)},mouseover:{handler:function(b){a.Event.isMouseover(this,b)&&c.showLayer(!0)}},mouseout:{handler:function(b){a.Event.isMouseout(this,b)&&c.hideLayer()}}}})},f)}function g(a){var b=this,c=a?0:b.timeout;clearTimeout(b.timer),b.layer&&(b.timer=setTimeout(function(){b.layer.hide()},c))}function h(b){var c=this,d={params:[],name:b.name,address:a.String.escapeHTML(b.address)},e=b.email;e={address:e.address,defaultName:e.defaultName,domain:e.domain,name:e.name};var f="2"==a.Ud.get({field:"ntes_option",flag:"sendershow"});if(f||!e.name){var g=m.getName(e);g&&(e.defaultName=e.name=g)}if(b.icon&&(d.icon=c._getChildHtml({xtype:"icon",type:b.icon.type||b.icon,subtype:b.icon.subtype||""}),d.params.push("hasIcon")),e){c.value=e,c.value.name=a.String.encodeHTML(e.name||e.defaultName||""),c.value.address=a.String.encodeHTML(e.address||e.address||""),d.name=c.value.name;var h=e.address;if(d.address=h,m.getAddrObj(h)||n||(d.params.push("hasAdd"),d.add=a.Link.html({extcls:"nui-addr-add",text:"+",click:function(){try{c.fire("subAction","addContactFromIcon")}catch(a){}l.cache({rkey:"emailitem_add_address"}),m.contactDialog({type:"add",addr:{name:e.name,email:e.address},callback:function(a){e.name=a.name,e.address=a.address,c.update(b),c.value=e}})}})),h&&!$S("isCorp")){var i=$I("util.Email");b.vip=i.checkVip(h),b.mobile=i.checkMobile(h);try{$E("product.Yixin",function(a){try{b.yixin=!!a.get(h)}catch(c){}})}catch(j){}}}return d.name&&(d.name=a.String.trim(d.name),d.address="&lt;"+d.address+"&gt;"),b.tabIndex&&(d.tabIndex=' tabindex="'+b.tabIndex+'"'),d}var i=a.Object;a.Listener;var j=a.getClass("netease.mail.component.Component"),k=a.createClass($N("component.Addr")),l=a.Log||b.Log,m=null,n=a.Browser.ie()<9;i.mix(k,j,{_cssClass:{baseclass:{cls:"nui-addr",tpl:'<div class="#{compclass}"#{tabIndex}>#{hasIcon}<span class="nui-addr-name">#{name}</span><span class="nui-addr-email">#{address} </span>#{add}</div>',hasIcon:{tpl:'<span class="nui-addr-icon">#{icon}</span>'},_hasDropdown:{cls:"",tpl:'<b class="nui-ico nui-ico-dArr"></b>'}}},_events:["click"],_listeners:[{name:"render",handler:function(){var b=this,c=b.getEl();if(a.Ext.avatar_show)try{var d=$I("init.Avatar");d.get(b.value.address,32,$S("orgUid")!==b.value.address,function(a,b){if(!b){var d;k._avatarSpanNode?d=k._avatarSpanNode.cloneNode(!1):(d=document.createElement("SPAN"),d.className="nui-addr-avatar",k._avatarSpanNode=d),d.innerHTML='<img src="'+a+'" width="20" height="20">',c.prepend(d),c.addClass("nui-addr-hasAvatar")}})}catch(e){}$I("component.Menu")},type:"custom"},{name:"click",handler:function(){var a=this,b=j.getItem(a);try{b.fire("click")}catch(c){}b.showLayer(!0)}},{name:"destroy",handler:function(){var a=this;a.layer&&(a.layer.destroy(),a.layer=null,delete a.layer)},type:"custom"},{name:"update",handler:function(){var a=this;a.layer&&(a.layer.destroy(),a.layer=null,delete a.layer)},type:"custom"},{name:"mouseover",handler:function(){var a=this,b=j.getItem(a);b.showLayer()}},{name:"mouseout",handler:function(){var a=this,b=j.getItem(a);b.hideLayer()}}],_interactiveStyle:!0,xtype:"addr"},{timeout:500,value:null,initialize:c,_getData:h,getValue:d,setValue:e,showLayer:f,hideLayer:g})}($,window),function(a){function b(a){var b=this;f.superClass.initialize.call(b,a)}function c(b){var c=this,e={params:[]};if(b.title&&(e.title=b.title,e.params.push("_hasTitle")),b.icon){var f={xtype:"icon"};d.isObject(b.icon)?a.Object.extend(f,b.icon):f.type=b.icon,e.icon=c._getChildHtml(f),e.params.push("hasIcon")}return b.content&&(e.content=b.content),(b.closeclick||b.hasClose)&&e.params.push("hasClose"),e}var d=a.Object,e=a.getClass("netease.mail.component.Component"),f=a.createClass($N("component.Block"));d.mix(f,e,{_cssClass:{baseclass:{cls:"nui-block",tpl:'<div class="#{compclass}" role="listitem" tabindex="0">#{hasClose}#{hasIcon}#{_hasTitle}#{content}</div>',hasClose:{tpl:'<span class="nui-block-close nui-close"><b class="nui-ico nui-ico-close">x</b></span>'},hasIcon:{tpl:'<span class="nui-block-icon">#{icon}</span>'},_hasTitle:{cls:"",tpl:'<div class="nui-block-title">#{title}</div>'}},subclass:{assistBlock:{cls:"nui-assistBlock"},infoBlock:{cls:"nui-infoBlock"},tipsBlock:{cls:"nui-tipsBlock nui-assistBlock"}}},_events:["closeclick"],_listeners:[{name:"afterRender",handler:function(){var a=this,b=a.getEl(),c=a.rawConfig;c.closeclick&&a.listen("closeclick",c.closeclick),b.findFly(".nui-close")&&b.findFly(".nui-close").listen("click",function(){a.fire("closeclick"),c.closeclick||a.destroy()})},type:"custom"}],xtype:"block"},{initialize:b,_getData:c})}($,window),function(a){function b(a){var b=this;k.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click),a.arrclick&&b.listen("arrclick",a.arrclick)}function c(){var b,c=this,d=c.rawConfig;if(d.simple&&"miniBtn"===d.subclass){var e=d.icon;if(e){h.isObject(e)||(e={type:e});var f=a.Icon.fly(e)}c.cssClassNames={baseclass:"nui-btn"},b=['<div id="',c.domId,'" class="js-component-button nui-miniBtn nui-btn nui-btn-hasIcon nui-miniBtn-hasIcon ',d.extcls,'" title="',d.title,'" role="button" tabIndex="0"><span class="nui-btn-icon">',f,'</span><span class="nui-btn-text"></span></div>'].join("")}else b=k.superClass.html.call(c);return b}function d(){var a=this;a.menu&&a.menu.hide()}function e(a){var b=this;if(!b._arrEl){var c=b.rawConfig;"splitBtn"===c.subclass&&(b._arrEl=a.find("span.nui-splitBtn-arr"),b._textEl=a.find("span.nui-splitBtn-text"))}}function f(){this.getEl().dom.focus()}function g(b){var c=this,d={};if(d.params=[],b.icon){var e={xtype:"icon"};h.isObject(b.icon)?a.Object.extend(e,b.icon):e.type=b.icon,d.icon=c._getChildHtml(e),d.params.push("hasIcon")}return b.checkbox&&(d.text="",b.checkbox.xtype="checkbox",b.checkbox.delegateTo="self",d.checkbox=c._getChildHtml(b.checkbox),d.params.push("hasOnlyIcon")),b.title&&(d.title=' title="'+b.title+'"'),d}var h=a.Object,i=a.Event,j=a.getClass("netease.mail.component.Component"),k=a.createClass($N("component.Button"));h.mix(k,j,{_cssClass:{baseclass:{cls:"nui-btn",tpl:'<div role="button" tabindex="0" class="#{compclass}"#{title}>#{hasOnlyIcon}#{hasIcon}<span class="nui-btn-text">#{text}</span></div>',hasIcon:{tpl:'<span class="nui-btn-icon">#{icon}</span>'},hasOnlyIcon:{tpl:'<span class="nui-btn-icon">#{checkbox}</span>'}},subclass:{mainBtn:{cls:"nui-mainBtn"},dropdownBtn:{cls:"nui-dropdownBtn",tpl:'<div role="button" tabindex="0" class="#{compclass}"#{title}>#{hasOnlyIcon}#{hasIcon}<span class="nui-btn-text">#{text}</span><span class="nui-dropdownBtn-arr" tabindex="0"><b class="nui-ico nui-ico-dArr"></b></span></div>'},roundBtn:{cls:"nui-roundBtn"},splitBtn:{cls:"nui-splitBtn",tpl:'<div role="button" class="#{compclass}"#{title}>#{hasOnlyIcon}#{hasIcon}<span tabindex="0" class="nui-splitBtn-text">#{text}</span><span class="nui-splitBtn-split"></span><span tabindex="0" class="nui-splitBtn-arr"><b class="nui-ico nui-ico-dArr"></b></span></div>'},inputBtn:{cls:"nui-inputBtn"},inputMainBtn:{cls:"nui-inputMainBtn nui-inputBtn nui-mainBtn"},smallBtn:{cls:"nui-smallBtn"},smallMainBtn:{cls:"nui-smallMainBtn nui-smallBtn nui-mainBtn"},microBtn:{cls:"nui-microBtn"},miniBtn:{cls:"nui-miniBtn"},iconBtn:{cls:"nui-iconBtn"},greenBtn:{cls:"nui-greenBtn"}}},_events:["arrclick","click","enter"],_listeners:[{name:"keyup",handler:function(a){var b=j.getItem(this);(13===a.keyCode||32===a.keyCode)&&(b.fire("enter"),b.fire("click"))}},{name:"render",handler:function(){var a=this,b=a.rawConfig,c=a.getEl();if(b.menu){a.menu=new($I("component.Menu"))(b.menu);var d="splitBtn"===b.subclass?c.findFly("span.nui-splitBtn-arr").dom:c.dom;a.menu.attachTo({clickFrom:d,floatTo:c,delegateTo:b.delegateTo,renderTo:b.popupRenderTo})}},type:"custom"},{name:"destroy",handler:function(){var a=this;a.menu&&(a.menu.destroy(),delete a.menu),a._arrEl&&a._arrEl.destroy(),a._textEl&&a._textEl.destroy()},type:"custom"},{name:"click",handler:function(b){var c=j.getItem(this),d=j.getConfig(this),e=i.getTarget(b);switch(d.subclass){case"splitBtn":c.getSplitPart(a(this)),e===c._arrEl.dom||e.parentNode===c._arrEl.dom?c.fire("arrclick"):c.fire("click");break;default:c.fire("click")}}}],xtype:"button"},{menu:null,_listened:!1,initialize:b,_getData:g,focus:f,hideMenu:d,getSplitPart:e,html:c})}($,window),function(a){function b(a){var b,c=this,d=a.focus,e=a.startDate;a.filterFn||(a.filterFn=function(a,b){return a.getTime()-b.getTime()>=0}),j.superClass.initialize.call(c,a),d?(d.length?(c._focusStart=d[0],c._focusEnd=d[1]):c._focusStart=d,b=c._focusStart):b=e||new Date,c._year=b.getFullYear(),c._month=b.getMonth()+1,c._cur=new Date(c._year,c._month-1),a.onselect&&c.listen("select",a.onselect)}function c(a){return this.id+"_"+a}function d(){function b(a,b){var c=a.getEl().dom,e=b.getEl().dom;b.getEl().floatTo(a.getEl().dom,c.clientHeight+(d.fixY||0),-(e.offsetWidth-c.offsetWidth)+(d.fixX||0))}var c=this,d=c.rawConfig;if(c.layer)return c.layer;var e=c._cur,f=e.getFullYear(),g=e.getMonth()+1,h=['<div role="heading" aria-atomic="true" class="nui-dateLayer-title"><span class="nui-dateLayer-prev"><b class="nui-ico nui-ico-lArr"></b></span> &nbsp; <strong id="'+c._getId("year")+'">'+f+"年</strong> <span",d.forbidMonth?"":' class="nui-txt-link"',' id="'+c._getId("month")+'">'+g+'月</span> &nbsp; <span class="nui-dateLayer-next"><b class="nui-ico nui-ico-rArr"></b></span></div>','<div class="nui-dateLayer-calendar" id="'+c._getId("table")+'"> '+c._getTable()+" </div>"].join(""),i=c.layer=new k({subclass:"dateLayer",text:h,renderTo:d.popupRenderTo||document.body,listeners:{render:function(){b(c,this)},show:function(){b(c,this)},click:{handler:function(b){var e,f=a.Event,g=a.Element,h=a(this),j=f.getTarget(b);if(g.inside(j,h.findFly(".nui-dateLayer-prev").dom))f.stop(),c.prevMonth();else if(g.inside(j,h.findFly(".nui-dateLayer-next").dom))f.stop(),c.nextMonth();else if(g.inside(j,h.findFly("#"+c._getId("month")).dom)){e=new Date(c._year,c._month-1,1);var k=!d.forbidMonth&&new Date-e>=0;k&&(c.fire("select",e,new Date(c._year,c._month-1,c._lastDay)),i.hide())}else if("b"===j.tagName.toLowerCase()){var l=j.getAttribute("data-date");l&&(e=new Date(l),c.fire("select",e),i.hide())}}}}});return i}function e(b){b=b||1;var c=this,d=c._cur;d=c._cur=new Date(d.getFullYear(),d.getMonth()-b);var e=c._year=d.getFullYear(),f=c._month=d.getMonth()+1;a.fly("#"+c._getId("year")).html(e+"年"),a.fly("#"+c._getId("month")).html(f+"月"),a.fly("#"+c._getId("table")).html(c._getTable()),new Date-c._cur>=0&&!c.rawConfig.forbidMonth?a.fly("#"+c._getId("month")).addClass("nui-txt-link"):a.fly("#"+c._getId("month")).removeClass("nui-txt-link")}function f(a){a=a||1,this.prevMonth(-a)}function g(){var a=this,b=a._cur,c=a._focusStart,d=a._focusEnd||a._focusStart,e=new Date;e=new Date(e.getFullYear(),e.getMonth(),e.getDate());var f,g,h,i,j,k=1,l=[],m='<td class="nui-dateLayer-calendar-emptyCell"><b></b></td>',n=["日","一","二","三","四","五","六"],o=!1,p=a.rawConfig.filterFn;for(l.push("<table>"),l.push("<tr>"),g=0,h=7;h>g;g++)l.push("<th>"+n[g]+"</th>");for(l.push("</tr>"),f=1,i=7;i>f&&!o;f++){for(l.push("<tr>"),g=0,h=7;h>g;g++){var q=new Date(b.getFullYear(),b.getMonth(),k);if(b.getMonth()!==q.getMonth()&&(o=!0,a._lastDay=k-1,0===g))break;if(b.getMonth()===q.getMonth()&&q.getDay()===g){if(j=p(e,q)){var r="";
c&&d&&0>=c-q&&d-q>=0?r="nui-dateLayer-calendar-focusCell":0===e-q&&(r="nui-dateLayer-calendar-todayCell"),l.push("<td "+(r?' class="'+r+'"':"")+'><b data-date="'+[q.getFullYear(),q.getMonth()+1,q.getDate()].join("/")+'">'+k+"</b></td>")}else l.push('<td class="nui-dateLayer-calendar-disabledCell"><b>'+k+"</b></td>");k++}else l.push(m)}l.push("</tr>")}return l.push("</table>"),l.join("")}var h=a.Object,i=a.getClass("netease.mail.component.Component"),j=a.createClass($N("component.Calendar")),k=$I("component.Layer");h.mix(j,i,{_template:'<div class="nui-calendar" role="application"><b class="nui-ico nui-ico-calendar"></b></div>',_events:["select"],_listeners:[{name:"click",handler:function(){var a=i.getItem(this);setTimeout(function(){a.getLayer().show()},0)}},{name:"show",handler:function(){var a=this;setTimeout(function(){a.getLayer().show()},0)},custom:!0}],xtype:"calendar"},{initialize:b,getLayer:d,prevMonth:e,nextMonth:f,_getTable:g,_getId:c,_cur:null,_year:null,_month:null,_firstDay:1,_lastDay:null,_focusStart:null,_focusEnd:null})}($,window),function(a){function b(a){var b=this;j.superClass.initialize.call(b,a),a.checkedchange&&b.listen("checkedchange",a.checkedchange)}function c(){var a,b=this,c=b.rawConfig;return a=c.simple?['<span id="',b.domId,'" role="checkbox" tabindex="0" class="nui-chk ',c.extcls,'" aria-label="',c.title,'" aria-checked="false"><span class="nui-chk-symbol"><b class="nui-ico nui-ico-checkbox"></b></span></span>'].join(""):j.superClass.html.call(b)}function d(a){var b=this;b.getEl().dom.title=a}function e(a){var b=this,c={params:[]};return"switch"===a.subclass&&(a.extcls=(a.extcls||"")+(a.checked?"nui-switch-on":"nui-switch-off"),!a.checked&&a.unCheckText&&(c.text=a.unCheckText)),a.text&&c.params.push("hasText"),c.icon=i.fly({xtype:"icon",type:"checkbox",subtype:a.checked?"checked":"",noSaveConf:!0}),a.tips&&(c.tips="&nbsp;"+b._getChildHtml({xtype:"label",type:a.tipsType||"aside",text:a.tips})),b.name=a.name,b.value=a.value,b.checked=a.checked,c}function f(){return this.checked}function g(a,b){var c=this,d=c.rawConfig,e=c.getEl(),f=c.getDom(),g=null===a||"undefined"==typeof a?!c.checked:a;if(c.checked=g,f.setAttribute("aria-checked",c.checked),"switch"===c.rawConfig.subclass)g?(e.addClass("nui-switch-on").removeClass("nui-switch-off"),d.text&&d.unCheckText&&e.findFly("span.nui-switch-text").html(d.text)):(e.addClass("nui-switch-off").removeClass("nui-switch-on"),d.unCheckText&&e.findFly("span.nui-switch-text").html(d.unCheckText));else{var h=e.findFly("B"),i=g?"addClass":"removeClass";try{h[i]("nui-ico-checkbox-checked")}catch(j){}}f.setAttribute("aria-checked",g?"true":"false"),b||c.fire("checkedchange",g)}var h=a.Object,i=a.getClass("netease.mail.component.Component"),j=a.createClass($N("component.Checkbox"));h.mix(j,i,{_cssClass:{baseclass:{cls:"nui-chk",tpl:'<span role="checkbox" tabindex="0" class="#{compclass}"><span class="nui-chk-symbol">#{icon}</span>#{hasText}#{tips}</span>',hasText:{tpl:'<span class="nui-chk-text">#{text}</span>'}},subclass:{"switch":{cls:"nui-switch",tpl:'<span role="checkbox" tabindex="0" class="#{compclass}"><span class="nui-switch-text">#{text}</span></span>'}}},_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig;b.checked&&a.setChecked(!0,!0),b.title&&a.setTitle(b.title),a.getDom().setAttribute("aria-checked",a.getChecked()?"true":"false")},type:"custom"},{name:"click",handler:function(b){var c=i.getItem(this);c.setChecked(),a.Event.cancelBubble(b)}},{name:"keyup",handler:function(b){var c=i.getItem(this);(13===b.keyCode||32===b.keyCode)&&(c.setChecked(),a.Event.cancelBubble(b))}}],_events:["checkedchange"],disabledFlyMode:!0,xtype:"checkbox"},{initialize:b,_getData:e,checked:!1,name:null,value:null,html:c,getChecked:f,setChecked:g,setTitle:d})}($,window),function(a,b,c){function d(a){var b=this;n.superClass.initialize.call(b,a),a.checkedchange&&b.listen("checkedchange",a.checkedchange)}function e(a){var b=this,c=b.rawConfig;a.xtype=a.xtype||c.checkType,a.name=a.name||c.name,a.checkedchange=function(){return b.fire("checkedchange",b.getValue())};var d=n.superClass.add.call(b,a);return"radio"===c.checkType&&$I("component.Radio").group(b.find("radio")),d}function f(a){var b=this,c={};if(a.items){for(var d=0,e=a.items.length;e>d;d++)a.items[d].xtype=a.checkType,a.name&&(a.items[d].name=a.name),a.items[d].checkedchange=function(){return b.fire("checkedchange",b.getValue())};c.text=b._batch(a.items||[],"html").join("")}var f=a.items.length;return f>0&&"btn"===a.items[0].subclass&&(a.extcls=(a.extcls||"")+"nui-btnGroup nui-btnGroup-"+f),c.role="radio"===a.checkType?"radiogroup":"group",c}function g(b,d){var e,f=this,g=f.getItems();k.isArray(b)?l.each(b,function(b,f){return e=g[b],null===f||f===c?a.BREAK:(e.setChecked(f,d),void 0)}):g[b].setChecked(!0,d)}function h(){var b=this,c=b.rawConfig,d=b.getItems(),e={};return d&&0!==d.length?("radio"===c.checkType?l.each(d,function(b,c){return c.checked?(e=b,a.BREAK):void 0}):"checkbox"===c.checkType&&(e=[],l.each(d,function(a,b){e.push(b.checked)})),e):null}function i(){var a=this,b=a.getItems();if(b&&0!==b.length){var c,d=a.rawConfig,e={};return"checkbox"===d.checkType?l.each(b,function(a,b){b.checked&&(c=b.name||a,e[c]=(0===b.value?0:b.value||b.checked)+"")}):l.each(b,function(a,b){b.checked&&(e=0===b.value?0:b.value||a)}),e}}function j(){var a=this.rawConfig,b=a.checkType;return"radio"===b?this.find("radio"):"checkbox"===b?this.find("checkbox"):[]}var k=a.Object,l=a.Array,m=a.getClass("netease.mail.component.Component"),n=a.createClass($N("component.CheckGroup"));k.mix(n,m,{_cssClass:{baseclass:{cls:"nui-chkGroup",tpl:'<div class="#{compclass}" role="#{role}">#{text}</div>'}},_events:["checkedchange"],_listeners:[{name:"afterRender",handler:function(){var a=this,b=a.rawConfig;"radio"===b.checkType&&$I("component.Radio").group(a.find("radio"))},type:"custom"}],disabledFlyMode:!0,xtype:"checkgroup"},{initialize:d,_getData:f,setChecked:g,getValue:i,getChecked:h,getItems:j,add:e,curCheckedItem:null,autoCreateChild:!1})}($,window),function(a){function b(a){var b=this;g.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click)}function c(){var a=this,b=a.rawConfig,c=a.getComponentClass(a._getData(b)),d=[],d=['<b id="',a.domId,'" class="js-component-icon ',b.extcls?b.extcls+" ":"",c.compclass,'"',c.title,b.hidden?'style="display:none"':"",">",c.text];b.sub&&(d=d.contact(['<b class="nui-ico-sub nui-ico-sub-',b.sub,'"></b>'])),d.push("</b>");var e=d.join("");return d.length=0,e}function d(a){var b={params:[]},c=a.subtype?a.subtype:"",d=a.size,e="",f=a.title,g=a.sub,h=a.url;d&&-1!=="XS|S|M|L|XL".indexOf(d.toUpperCase())&&(b.params.push("size"+d.toUpperCase()),b.subtype=c,b.extype=d.toLowerCase()),b.title=f?' title="'+f+'"':null,b.text=h?'<img src="'+a.url+'" alt="'+(a.title||"")+'"/>':e,b.role=a.role?' rolw="'+a.role+'"':null,g&&(b.params.push("hasSub"),b.sub=g);var i="";return a.width&&(i+="width:"+a.width+";"),a.height&&(i+="height:"+a.height+";"),b.style='style="'+i+'"',b}var e=a.Object,f=a.getClass("netease.mail.component.Component"),g=a.createClass($N("component.Icon"));e.mix(g,f,{_cssClass:{baseclass:{cls:"nui-ico",tpl:'<b class="#{compclass}"#{title} #{style} #{role}>#{text}#{hasSub}</b>',hasSub:{tpl:'<b class="nui-ico-sub nui-ico-sub-#{sub}" #{style}></b>'}}},_events:["click"],_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig,c=a.getEl();(b.listeners||b.click)&&c.listen("click",function(){a.fire("click")})},type:"custom"}],xtype:"icon"},{initialize:b,html:c,_getData:d})}($,window),function(a){var b=a.Object,c=a.getClass("netease.mail.component.Component"),d=a.createClass($N("component.Label"));b.mix(d,c,{_cssClass:{baseclass:{cls:"nui-txt",tpl:'<span role="tooltip" class="#{compclass}">#{text}</span>'}},xtype:"label"},{})}($,window),function(a,b,c){function d(a){var b=this;if(b.menu=null,k.superClass.initialize.apply(b,arguments),a.module)b.listen("click",function(){$E(["module."+a.module.name],function(b){b.entry(a.module.param)})});else if(a.link){var c="",d="",e=a.title,f=0===a.link.indexOf("http");f?d=a.link:c=a.link,a.target||b.listen("click",function(){$E(["interface.OutlinkInterface"],function(a){a.goOutlink({url:d,key:c,title:e})})})}else a.click&&b.listen("click",a.click)}function e(a){a=0===arguments.length?!0:!!a;var b=this,c=b.getEl(),c=c.find("A")||c;a?(b.suspendEvents(),c.dom.setAttribute("disabled","true"),c.addClass("nui-txt-disabled")):(b.resumeEvents(),c.dom.removeAttribute("disabled"),c.removeClass("nui-txt-disabled"))}function f(){var a,b=this.domId,c=this.rawConfig;return a=c.hidden||c.bracket||c.leftBracket||c.rightBracket||c.wrapper||c.icon||c.module||c.link||c.target||c.noParam?k.superClass.html.apply(this,arguments):['<a id="',b,'" href="javascript:void(0)"  class="',c.extcls?c.extcls:""," js-component-link ",c.cls?c.cls:"",'" ',c.attrs||"",'  hidefocus="hidefocus">',c.text||"","</a>"].join("")}function g(b){var d={};if(d.text=b.text!==c?b.text:"",d.cls=b.cls,d.attrs=b.attrs?" "+b.attrs:"",b.bracket)d.leftBracket='<span class="'+(b.spancls||"")+'">[',d.rightBracket="]</span>";else if(b.leftBracket||b.rightBracket)d.leftBracket='<span class="">'+(b.leftBracket?b.leftBracket:""),d.rightBracket=(b.rightBracket?b.rightBracket:"")+"</span>";else if(b.wrapper){var e=b.wrapper.indexOf(">");d.leftBracket=b.wrapper.substring(0,e)+' class="">',d.rightBracket=b.wrapper.substr(e+1)}else d.leftBracket="",d.rightBracket="";if(b.icon){var f={xtype:"icon"};a.Object.isObject(b.icon)?a.Object.extend(f,b.icon):f.type=b.icon,d.icon=this._getChildHtml(f)}else d.icon="";var g,h;return b.target?(l?0===b.link.indexOf("http")?g=b.link:(g=l.getUrl(b.link,b.noParam),h=l.getUrlObj(b.link)):g=b.link,d.href=g,d.target='target="'+b.target+'"',!d.text&&h&&h.title&&(d.text=h.title)):(d.href="javascript:void(0)",d.target=""),d}function h(a){var b=this,c=b.menu,d=b.getDom();return c?("none"===c.getDom().style.display?c.show():c.hide(),c):(d.parentNode.style.zIndex=140,a.top=d.offsetHeight+3,a.xtype="menu",c=b.add(a),c.render(b),c.getRoot().getEl().dom.style.zIndex=140,b.menu=c,c.show(),c)}function i(){var a=this,b=a.getEl().findFly("A");return b&&b.dom||a.getDom()}var j=a.getClass("netease.mail.component.Component"),k=a.createClass($N("component.Link")),l=a.Uri||b.Uri;a.Object.mix(k,a.Component,{_template:'#{leftBracket}<a href="#{href}" class="#{cls}"#{attrs} #{target} hidefocus="hidefocus">#{icon}#{text}#{iconAfter}</a>#{rightBracket}',xtype:"link",_events:["click"],_listeners:[{name:"click",handler:function(b){var c=this,d=j.getItem(c),e=a(c),f=d.rawConfig;try{d.fire("click",b),e.findFly("INPUT")||f.target||a.Event.cancel(b)}catch(g){a.Event.cancel(b)}}},{name:"render",handler:function(){var a=this,b=a.getEl(),c=a.rawConfig;c.title&&((b.findFly("A")||b).dom.title=a.rawConfig.title||""),c.disabled&&a.setDisabled()},type:"custom"},{name:"destroy",handler:function(){var a=this;a.link&&delete a.link,a.menu&&delete a.menu},type:"custom"}]},{_getData:g,html:f,link:null,initialize:d,addMenu:h,arrclick:h,setDisabled:e,_getChildContainer:i})}($,window),function(a){function b(a){var b=this;l.superClass.initialize.call(b,a)}function c(a){var b={};return b.display=a.content?"":' style="display:none"',b.title=a.title?a.title:"",b}function d(){var a=this,b=a.rawConfig,c=a._getData(b);return['<b id="',a.domId,'" class="js-component-memo ',b.extcls,' nui-ico nui-ico-remark-xs" title="',c.title,'"',c.display,"></b>"].join("")}function e(){var a=this,b=a.rawConfig;if(clearTimeout(a.timer),!a.layer&&!a._scrollParent)try{a._scrollParent=k.getScrollParent(a.getEl().dom)}catch(c){}a.timer=setTimeout(function(){if(a.layer)a.layer.show();else{var c='<p class="nui-item"><strong class="nui-txt-s14">'+(b.title||"邮件备注")+"</strong></p>",d=b.content?'<p class="nui-item">'+b.content+"</p>":"",e="";if(b.modify){var f=$I("component.Link"),g=new f({text:"修改",extcls:"nui-txt-link",click:function(){a.modify()}}),h=new f({text:"删除",extcls:"nui-txt-link",click:function(){a.modify(!0)}});e='<p class="nui-item" style="text-align:right">'+g.html()+"&nbsp;"+h.html()+"</p>"}a._scrollParent||(a._scrollParent=k.getScrollParent(a.getEl().dom)),a.layer=new($I("component.Layer"))({params:"arrUp",type:"remark",icon:{type:"remark",size:"m"},content:c+d+e,pointTo:a.getEl(),renderTo:b.popupRenderTo||a._scrollParent||document.body,listeners:{mouseover:{handler:function(){clearTimeout(a.timer)}},mouseout:{handler:function(){a.hideLayer()}}}}),a.add(a.layer)}k.setEvents()},a.timeout)}function f(){var a=this;clearTimeout(a.timer),a.timer=setTimeout(function(){a.layer&&a.layer.hide()},a.timeout)}function g(a,b){a.modify(b)}function h(b){function c(){var a=h,b=m.value.length,c=a-b,d="您已输入&nbsp;<strong>"+b+"</strong>&nbsp;字，"+(c>=0?"还能输入&nbsp;<strong>"+c+"</strong>&nbsp;字":'<span class="txt-impt">请删除&nbsp;<strong>'+-c+"</strong>&nbsp;字</span>");e.footer.html(d)}function d(){var a;return a=b?"":m.value,a.length>h?"请输入 "+h+" 个字符":(g.rawConfig.modify(a),void 0)}var e,f,g=this,h=g.rawConfig.maxLength||l.maxLength;if(b)e=$I("component.Msgbox").show({type:"confirm",content:"您确定要删除备注吗？",title:"删除确认",ok:a.Function.bind(g.rawConfig.modify,g)});else{var i=g.rawConfig.content?"修改备注":"添加备注";e=$I("component.Msgbox").show({title:i,contentType:"normal",content:a.Input.html({subclass:"multiLineIpt",width:"400px",rows:"5",value:a.String.decodeHTML(g.rawConfig.content)}),footer:"",ok:d});var j=e.getEl();f=j.find("TEXTAREA");var m=f.dom;f.listen("keyup",c),f.listen("paste",c),f.listen("cut",c),setTimeout(c,0),k.setEvents(),f.destroy()}}function i(a){var b=this;b.rawConfig.content=a,a?b.show():b.hide(),b.layer&&b.layer.hide(),delete b.layer}var j=a.Object,k=a.getClass("netease.mail.component.Component"),l=a.createClass($N("component.Memo"));j.mix(l,k,{_template:'<b class="nui-ico nui-ico-remark-xs"#{display}></b>',xtype:"memo",_listeners:[{name:"mouseover",handler:function(){k.getItem(this).showLayer()}},{name:"mouseout",handler:function(){k.getItem(this).hideLayer()}},{name:"destroy",handler:function(){var a=this,b=a.layer;b&&(b.destroy(),a.layer=null,delete a.layer)},type:"custom"}],maxLength:100,modify:g},{layer:null,timer:null,timeout:400,html:d,showLayer:e,hideLayer:f,updateContent:i,modify:h,initialize:b,_getData:c})}($,window),function(a,b){function c(a){var b=this;b.currentSubMenu=null,b.checkItems=[],"undefined"!=typeof a.autoFocus&&(b.autoFocus=a.autoFocus),b.hidden=!0,b.showing=!1,u.menus.push(b),u.superClass.initialize.call(b,a)}function d(b){if(u.menus&&u.menus.length>0){try{var c=a.Event.getTarget(b)}catch(d){}a.Array.each(u.menus,function(b,d){if(d.rawConfig&&!d.rawConfig.doNotHide&&d.showing){var e=d.relatedObj;if(e&&c){var f=e&&a.Element.inside(c,e);if(f){var g=d.getDom();d.hidden=g&&"none"!==g.style.display}}d.hide()}})}}function e(){var a=this,b=a.rawConfig;b.simpleItem||"scroll"===b.type&&setTimeout(function(){if(a._selectedItem)try{var b=a.getEl().dom;b.scrollTop=a._selectedItem.getEl().dom.offsetTop}catch(c){}},0)}function f(a){var b=this,c=b.rawConfig,d=b.getEl();if(!c.simpleItem&&(v&&!c.width&&!b._resizeForIE||a)){var e,f,g,h=d.find(".nui-menu-item-text"),i=d.find(".nui-menu-item-ext"),j=0,k=0;if(h&&h.doms){e=h.doms;for(var l=0,m=e.length;m>l;l++)f=e[l],g=Math.max(f.offsetWidth,f.clientWidth)||120,j=Math.max(g,j)}if(i&&i.doms){e=h.doms;for(var l=0,m=e.length;m>l;l++)f=e[l],g=Math.max(f.offsetWidth,f.clientWidth),k=Math.max(g,j)}d.dom.style.width=j+k+120+"px",b._resizeForIE=!0}}function g(a){var b=this;b.showing=!1,b.hidden=!1,b._resizeForIE=!1,b.currentSubMenu=null,u.superClass.update.call(b,a)}function h(){var b=this;b.hidden=!1,b.showing||(b.getEl().show(),b.autoFocus&&b.focus(),b.items&&a.Array.each(b.items,function(a,b){b.getEl().removeClass("nui-menu-item-hover"),b.focus=!1}),b.getEl().dom.style.visibility="visible",b.resizeForIE(),b.scrollToSelectedItem(),b.fire("show"),b.showing=!0)}function i(b){function c(){var b=a(d.rawConfig.clickFrom);b&&b.dom&&b.dom.setAttribute("aria-expanded","false"),d.showing=!1,d.hidden=!0,u.superClass.hide.call(d),b=d.getEl(),b&&(b.dom.style.visibility="hidden"),d.fire("hide")}var d=this;if(d.hidden=!0,!(!d.showing||d.rawConfig&&d.rawConfig.doNotHide)){if(b)return c(),void 0;var e=d.getEl();if(e){var f=d.getParamClass("hiding");t.support&&e.addClass(f),t.bind({el:e,type:"animationend",filter:function(a,b){return b.hasClass(f)},unsupport:function(){c()},support:function(){e.removeClass(f),c()}})}}}function j(b){a.Event.cancelBubble();var c=this.getFocusItem();if(c)switch(b.keyCode){case 38:c.curItem.setFocus(!1),c.prevItem.setFocus();break;case 40:c.curItem.setFocus(!1),c.nextItem.setFocus();break;case 37:this.ownerCt&&(this.hide(),this.ownerCt.getEl().dom.focus())}}function k(){var a=this;setTimeout(function(){try{a.getEl().dom.focus()}catch(b){}},0)}function l(){var a=this;try{a.getEl().dom.blur()}catch(b){}}function m(){var a=this.items;if(a.length<=0)return null;for(var b={curItem:a[0],prevItem:a[0],nextItem:a[0]},c=0,d=a.length;d>c&&(!a[c].focus||(b.curItem=a[c],b.prevItem=0!==c?a[c-1]:a[d-1],b.nextItem=c!==d-1?a[c+1]:a[0],!a[c].focus));c++);return b}function n(a){var b=this;a.xtype||(a.xtype="menuitem");var c=u.superClass.add.call(b,a);return b.items.push(c),b.checkType&&a.checked&&c.setChecked(!0),c}function o(a){var b=this,c=0,d='<div role="separator" class="nui-menu-split nui-split"></div>',e=[],f={params:[]};if(a.getGroups&&(a.groups=b.rawConfig.groups=a.getGroups()),a.reverse&&f.params.push("hasRevSubMenu"),a.groups)for(var g=0,h=a.groups.length;h>g;g++){var i,j=a.groups[g],k=[],l="";if(j.items){for(var m=0,n=j.items.length;n>m;m++){var o=j.items[m];i=o.splitExtCls,"split"===o.type?k.push(i?'<div role="separator" class="nui-menu-split nui-split '+i+'"></div>':d):a.simpleItem||o.simpleItem?k.push(['<a role="menuitem" href="javascript:void(0);" class="nui-menu-item-link" data-index="',m,'" data-value="',o.value||"",'"><span class="nui-menu-item-icon" style="display:none;"><b class="nui-ico nui-ico-radio nui-ico-radio-checked"></b></span>',o.text,"</a>"].join("")):(o.xtype=o.xtype||"menuitem",j.checkType&&(o.checkType=j.checkType,o.ownerGrp=j),"before"===o.split&&k.push(i?'<div role="separator" class="nui-menu-split nui-split '+i+'"></div>':d),"before"===o.gap&&k.push('<div role="separator" class="nui-menu-gap"></div>'),k.push(b._getChildHtml(o)),o.split&&"before"!==o.split&&k.push(i?'<div role="separator" class="nui-menu-split nui-split '+i+'"></div>':d),o.gap&&"before"!==o.gap&&k.push('<div role="separator" class="nui-menu-gap"></div>'))}c+=j.items.length}else j.content&&(j.type="ext",k.push(j.content));if("scroll"===j.type&&j.items.length>10&&(j.height="270px"),j.height&&(l=' style="height:'+j.height+'"'),j.type){var p="scroll"===j.type?"nui-scroll":"";p=" "+p,e.push(['<div class="nui-menu-',j.type,p,'"',l,">",k.join(""),"</div>"].join(""))}else e.push(k.join(""))}return"scroll"===a.type&&c>10&&(a.height=a.height||"270px",a.extcls=(a.extcls?a.extcls:"")+" nui-scroll"),f.text=e.join(d),f}function p(c){function d(){u.showingItem&&u.showingItem!==h&&u.showingItem.hide();var a=i.className||"";a&&/nui-[^\s]*?disabled/.test(a)||(u.showingItem=h,e(),h.showMenuTimer&&clearTimeout(h.showMenuTimer))}function e(){setTimeout(function(){h.hidden?(h.rendered?(h.show(),g()):(n=f(),h.rawConfig.renderTo=n,h.render(n),g()),i.setAttribute("aria-expanded","true")):(h.hide(),i.setAttribute("aria-expanded","false"))},0)}function f(){var a=c.renderTo;return a=a&&a.dom||a||s.getScrollParent(i)||document.body}function g(){var a=h.getEl(),b=a.dom,c=n===document.body?n.offsetWidth:n.scrollWidth,d=n===document.body?n.offsetHeight:n.scrollHeight,e=b.offsetHeight,f=b.offsetWidth,g=k,i=g,j=0,o=g.offsetHeight;do o+=i.offsetTop||0,j+=i.offsetLeft||0,i=i.offsetParent;while(i&&i!==n&&i!==n.offsetParent);(l||j+f>c)&&(j-=f-g.offsetWidth),(m||o+e>d&&o>e)&&(o-=e+g.offsetHeight),0>j&&(j=0);var p=h.rawConfig.extOffset||{};j+=p.left||0,o+=p.top||0,b.style.left=j+"px",b.style.top=o+"px"}var h=this,i=c.clickFrom,j=h.rawConfig,k=c.floatTo||c.clickFrom,l=c.reverse||j.reverse||!1,m=c.verticalReverse||j.verticalReverse||!1,n=document.body;if(j.clickFrom=i,i instanceof a.Element&&(i=i.dom),k instanceof a.Element&&(k=k.dom),c.delegateTo&&"self"!==c.delegateTo){var o=c.delegateTo||document;a.Event.listen(o,"click",function(b){var c=a.Event.getTarget(b);a.Element.inside(c,i)&&d()})}else a.Event.listen(i,"click",function(){d()});c.mouseover&&(a.Event.listen(i,"mouseover",function(){h.showMenuTimer=b.setTimeout(function(){u.showingItem&&u.showingItem!==h&&u.showingItem.hide(),u.showingItem=h,e()},150)}),a.Event.listen(i,"mouseout",function(){h.showMenuTimer&&clearTimeout(h.showMenuTimer)})),a.Event.listen(i,"keyup",function(a){13===a.keyCode?e():27===a.keyCode&&i.focus()}),h.listen("attachToShow",d),h.relatedObj=i}function q(){var b=this,c=b.ownerCt,d=b.rawConfig;this.getEl().listen("mouseout",function(){b.hiddenTimer&&(clearTimeout(b.hiddenTimer),delete b.hiddenTimer);var c=a.Event.getTarget();c&&(b.hiddenTimer=setTimeout(function(){b.hide()},d.hiddenTime||u.setHiddenTime))}),this.getEl().listen("mouseover",function(){b.hiddenTimer&&(clearTimeout(b.hiddenTimer),delete b.hiddenTimer)}),c&&(c.getEl().listen("mouseout",function(){b.hiddenTimer&&(clearTimeout(b.hiddenTimer),delete b.hiddenTimer),b.hiddenTimer=setTimeout(function(){b.hide()},d.hiddenTime||u.setHiddenTime),b.isMouseover=!1}),c.getEl().listen("mouseover",function(){b.hiddenTimer&&(clearTimeout(b.hiddenTimer),delete b.hiddenTimer),b.isMouseover=!0}))}var r=a.Object,s=a.getClass("netease.mail.component.Component");a.getClass("netease.mail.util.AnimationElement");var t=a.getClass("netease.mail.util.AnimationEvent"),u=a.createClass($N("component.Menu")),v=a.Browser.ie()-0<8;a.fly(document).listen("click",function(a){u.hideAllMenu(a)}),r.mix(u,s,{_cssClass:{baseclass:{cls:"nui-menu",tpl:'<div role="menu" tabindex="0" class="#{compclass}" style="display:none" hidefocus="hidefocus">#{text}</div>'}},_events:["show","hide","checkedchange"],_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig,c=a.getEl(),d=c.dom;b.width&&(d.style.width=b.width),b.left&&(d.style.left=b.left),b.top&&(d.style.top=b.top),b.height&&(d.style.height=b.height),b.right&&(d.style.right=b.right),a.items=a.find("menuitem",!0)||[],!b.hidden&&a.hidden&&a.show(),b.hiddenOnMouseOut&&a.setHiddenOnMouseOut(),a.resizeForIE()},type:"custom"},{name:"keyup",handler:function(b){var c=s.getItem(this);if(27===b.keyCode){if(c.hide(),c.relatedObj){var d=a.Component.getItem(c.relatedObj);d&&d._inputEl?d._inputEl.focus():c.relatedObj.focus&&c.relatedObj.focus()}return a.Event.cancelBubble(),void 0}c.onKeyUp(b)}},{name:"click",handler:function(b){u.hideAllMenu(b),a.Event.cancelBubble()}},{name:"destroy",handler:function(){var b=this;a.Array.each(u.menus,function(c,d){return d===b?(u.menus.splice(c,1),a.BREAK):void 0}),b.currentSubMenu=null},type:"custom"}],hideAllMenu:d,menus:[],autoCreateChild:!1,xtype:"menu"},{hidden:!0,showing:!1,currentSubMenu:null,items:null,autoFocus:!0,checkItems:[],add:n,attachTo:p,getFocusItem:m,focus:k,blur:l,_getData:o,initialize:c,onKeyUp:j,show:h,hide:i,resizeForIE:f,setHiddenOnMouseOut:q,update:g,scrollToSelectedItem:e,_listened:!1})}($,window),function(a,b,c){function d(a){var b=this;p.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click),a.value!==c&&(b.value=a.value)}function e(){var a=this,b=a.rawConfig;a._listened||(a.listen("click",function(c){if(!a.disabled){if(!b.doNotHide&&!b.menu)try{a.ownerCt&&a.ownerCt.hide(),o.hideAllMenu(c)}catch(d){}"checkbox"===b.checkType?(a.setChecked(),a.fire("checkedchange",a,c),a.ownerCt.fire("checkedchange",a,c)):b.checkType&&(a.setChecked(!0),a.fire("checkedchange",a,c),a.ownerCt.fire("checkedchange",a,c))}}),a.listen("update",function(){a._listened=!1}),a._listened=!0)}function f(a){var b=this;a=a===c?!0:a,b.focus=a;var d=b.getEl();if(a)try{d.dom.focus()}catch(e){}else d.removeClass("nui-menu-item-focus")}function g(a){var b=this,d=b.checked,e=b.rawConfig.checkType,f=b.getEl(),g=b.ownerCt;if(a===c&&(a=!d),"checkbox"!==e&&a)for(var h=g.find("menuitem",!0),i=0,j=h.length;j>i;i++)h[i].ownerGrp===b.ownerGrp&&h[i].setChecked(!1);if("radio"===e||"checkbox"===e){var k=f.findFly("b.nui-ico-"+e);k&&k[a?"addClass":"removeClass"]("nui-ico-"+e+"-checked")}else a?(f.addClass("nui-menu-item-selected"),g._selectedItem=b):(f.removeClass("nui-menu-item-selected"),g._selectedItem=null,delete g._selectedItem);b.checked=a}function h(){var b=this,c=b.ownerCt,d=c.rawConfig.renderTo;d=d?d.dom||d:document.body;var e=d===document.body?d.offsetHeight:d.scrollHeight,f=b.getSubMenu(),g=f.getEl().dom,h=b.getEl().dom,i=c.getEl().dom,j=c.find("menu");j&&a.Array.each(j,function(a,b){b!==f&&b.hide(!0)}),f&&(f.show(),c.currentSubMenu=b,setTimeout(function(){try{var a=e-(i.offsetTop+h.offsetTop+g.offsetHeight);g.style.top=0>a?a-5+"px":0}catch(b){}},0),b.hideTimer&&(clearTimeout(b.hideTimer),delete b.hideTimer),b.expanding=!0)}function i(){var a=this,b=a.getSubMenu(),c=a.getEl();b&&b.hide(!0),a.expanding=!1,c&&(c.removeClass("nui-menu-item-hover"),c.dom.blur())}function j(){var a=$I("component.Menu"),b=this.rawConfig,c=this.find("menu",!0);if(c)return c[0];var d=b.menu;return d?(c=new a(d),c=p.superClass.add.call(this,c),c.render(this),c):void 0}function k(b){var d=this,e={params:b.params||[],linkTag:"div",linkClass:"nui-menu-item-link",extAttr:b.extAttr||""};d.ownerGrp=b.ownerGrp,e.params=b.params||[],b.href?(e.linkTag="a",e.href=' href="'+b.href+'" target="_blank"'):q&&(e.linkTag="a",e.href=' href="#"');var f="";if(b.icon){var g={xtype:"icon"};"object"==typeof b.icon?a.Object.extend(g,b.icon):g.type=b.icon,f=d._getChildHtml(g),e.icon=f}return("radio"===b.checkType||"checkbox"===b.checkType)&&(e.icon=d._getChildHtml({xtype:"icon",type:b.checkType,subtype:b.checked?"checked":null}),b.icon&&(e.extIcon=f)),(b.icon||"checkbox"===b.checkType||"radio"===b.checkType)&&e.params.push("hasIcon"),b.extText&&(e.params.push("hasExt"),e.extTag="span",l.isObject(b.extText)?(e.extText=d._getChildHtml(b.extText),e.extTag="div",e.linkClass="nui-menu-item-inner"):e.extText=b.extText),b.menu&&(b.menu.hideTimeout!==c&&(d.hideTimeout=b.menu.hideTimeout),e.params.push("hasSubMenu")),b.close&&(e.closeIcon=d._getChildHtml({xtype:"icon",title:b.closeTitle,type:"close",click:function(){try{b.close(),n.cancelBubble()}catch(a){}}}),e.params.push("hasClose")),e}var l=a.Object,m=a.getClass("netease.mail.component.Component"),n=a.Event,o=$I("component.Menu"),p=a.createClass("netease.mail.component.MenuItem"),q=a.Browser.ie()<=6;l.mix(p,m,{_cssClass:{baseclass:{cls:"nui-menu-item",tpl:'<div role="menuitem" tabindex="-1" class="#{compclass}" #{extAttr}><#{linkTag}#{href} class="#{linkClass}">#{hasIcon}<span class="nui-menu-item-text">#{extIcon}#{text}</span>#{hasExt}#{hasSubMenu}#{hasClose}</#{linkTag}></div>',hasIcon:{cls:"",tpl:'<span class="nui-menu-item-icon">#{icon}</span>'},hasExt:{tpl:'<#{extTag} class="nui-menu-item-ext">#{extText}</#{extTag}>'},hasSubMenu:{tpl:'<span class="nui-menu-item-arr"><b class="nui-ico nui-ico-rArr">r</b></span>'},hasClose:{tpl:'<span class="nui-menu-item-close">#{closeIcon}</span>'}},subclass:{pureItem:{tpl:'<div role="menuitem" tabindex="-1" class="#{compclass}">#{text}</div>'}}},_events:["click","checkedchange"],_listeners:[{name:"render",handler:function(){var b=this,c=b.rawConfig;c.checked&&b.setChecked(c.checked);var d=b.getEl(),e=d.find(".nui-menu-item-link");e&&e.listen("click",function(c){if(a.Event.cancelBubble(c),a.Event.getTarget(c),!b.disabled){try{b.ownerCt&&b.ownerCt.rawConfig.onItemClick&&b.ownerCt.rawConfig.onItemClick.apply(b.ownerCt,[b])}catch(d){}b.fire("click",c)}}),b._listenEvents()},type:"custom"},{name:"mouseover",handler:function(){var a=m.getItem(this),b=a.rawConfig,c=a.getEl();if(n.isMouseover(c.dom)){var d=a.ownerCt,e=(d||{}).currentSubMenu;e&&e!==a&&e.hideSubMenu(0),d.showSubMenuTimer&&clearTimeout(d.showSubMenuTimer),b.menu&&(d.showSubMenuTimer=setTimeout(function(){a.showSubMenu()},150))}}},{name:"keyup",handler:function(a){var b=m.getItem(this),c=b.rawConfig;switch(a.keyCode){case 13:b.fire("click");var d=b.ownerCt;try{d.rawConfig.clickFrom.dom.focus()}catch(e){}o.hideAllMenu(a);break;case 39:c.menu&&b.showSubMenu()}}}],xtype:"menuitem"},{_getData:k,showSubMenu:h,hideSubMenu:i,getSubMenu:j,setChecked:g,setFocus:f,showTimeout:0,hideTimeout:1e3,ownerGrp:null,checkType:null,value:null,focus:!1,checked:!1,initialize:d,_listenEvents:e,_listened:!1})}($,window),function(a,b,c){function d(a){var b=this,c=o.msgbox;o.superClass.initialize.call(b,a),a.close&&b.listen("close",a.close),a.ok&&b.listen("ok",a.ok),a.cancel&&b.listen("cancel",a.cancel),c&&(c.isParentBox?(b._parentMsgbox=c,b._parentMsgbox.getEl().css({zIndex:997})):c.destroy()),b.isParentBox=a.isParentBox,o.msgbox=b,b.hidden||b.render(document.body)}function e(){var b=this,c=b.rawConfig;b.autoFocus&&setTimeout(function(){try{"prompt"===c.type?b.input.focus():b.buttons&&b.buttons.ok&&b.buttons.ok.focus()}catch(a){}},0),"6.0"===a.Browser.ie()&&a.fly("body").addClass("nui-fHideSelect"),o.superClass.show.call(b)}function f(){var b=this,c=a.getClass("netease.mail.util.AnimationEvent"),d=b.getParamClass("hiding"),e=b.getEl(),f=b._mask&&b._mask.getEl();c.support&&(e.addClass(d),f&&f.addClass(d)),c.bind({el:e,type:"animationend",filter:function(a,b){return b.hasClass(d)},unsupport:function(){f&&f.hide(),b.destroy()},support:function(){"6.0"===a.Browser.ie()&&a.fly("body").removeClass("nui-fHideSelect"),e.removeClass(d),e.hide(),setTimeout(function(){b.destroy()},15)}})}function g(){var a=this;a._parentMsgbox?(a._parentMsgbox.getEl().css({zIndex:999}),o.msgbox=a._parentMsgbox,a.isParentBox=!1,delete a._parentMsgbox):o.msgbox=null}function h(b){var d,e=this,f={params:[],footer:"",buttons:"",style:""},g=[],h="";switch(b.noHeader||f.params.push("_hasHeader"),e.autoFocus=b.autoFocus===!1?!1:!0,b.width&&(f.style+="width:"+b.width+";"),b.height&&(f.style+="height:"+b.height+";"),f.close=e._getChildHtml({xtype:"link",extcls:"nui-msgbox-close nui-close",text:$I("component.Icon").html({type:"close",subtype:"dark"})}),b.footer&&(f.footer=m.isString(b.footer)?b.footer:e._getChildHtml(b.footer)),h+='<div class="nui-msgbox-bd">',f.title=b.title?'<div class="nui-msgbox-title" tabindex="0">'+b.title+"</div>":"",f.text=b.content||"",f.header=b.header||"","prompt"!==b.type||b.contentType||(b.contentType="normal"),b.contentType){case"simpleText":h+='<div class="nui-msgbox-simpleText #{extcls}">#{title}#{text}</div>';break;case"wide":h+='<div class="nui-msgbox-wide #{extcls}">#{title}#{text}</div>';break;case"normal":h+='<div class="nui-msgbox-normal #{extcls}">#{title}#{text}</div>';break;case"custom":h+="#{text}";break;default:b.content||(f.onlyTitle=" nui-msgbox-iconText-text-onlyTitle"),h+='<div class="nui-msgbox-iconText #{extcls}"><span class="nui-msgbox-iconText-icon">#{icon}</span><div class="nui-msgbox-iconText-text#{onlyTitle}">#{title}#{text}</div></div>';var i={xtype:"icon"},j="info";m.isObject(b.icon)?m.extend(i,b.icon):(i.type=b.icon||j,i.size="l"),f.icon=e._getChildHtml(i)}if("prompt"===b.type&&(f.text+='<div class="nui-simpleForm nui-form"><table><tbody><tr>#{inputLabel}<td class="nui-form-cont">#{input}</td></tr></tbody></table></div>',f.input=e._getChildHtml({xtype:"input",placeholder:b.inputPlaceholder,value:b.inputValue,width:b.inputWidth,inputType:b.inputType}),b.inputLabel&&(f.inputLabel='<th class="nui-form-title">'+b.inputLabel+"</th>")),h+="</div>",!b.noFooter){f.params.push("_hasFooter"),"prompt"===b.type?(d={name:"ok",subclass:"mainBtn",text:b.okText||"确 定",click:function(){var a,d="",f=e.input;if("prompt"===b.type?(d=f.getValue(),a=e.fire("ok",d,function(a){f.showTips(a)})):a=e.fire("ok"),e===o.msgbox)if(a===c||a===!1)e.hide();else if("prompt"===b.type&&m.isString(a)){f.showTips(a);try{f.focus()}catch(g){}}}},g.push(d)):(d={name:"ok",subclass:"mainBtn",text:b.okText||"确 定",click:function(){var a=e.fire("ok");e===o.msgbox&&(a===c||a===!1)&&e.hide()}},g.push(d)),(b.cancel||b.cancelText||"confirm"===b.type||"prompt"===b.type)&&(d={name:"cancel",text:b.cancelText||"取 消",click:function(){var a=e.fire("cancel");
(a===c||a===!1)&&e.hide()}},g.push(d)),b.otherButtons&&(g=g.concat(b.otherButtons)),b.buttons&&(g=b.buttons,e.autoFocus=!1);for(var k=0,l=g.length;l>k;k++)g[k].xtype="button";f.buttons=e._batch(g||[],"html").join(""),f.buttons='<div class="nui-msgbox-ft-btns">'+f.buttons+"</div>"}return f.content=a.Template.exec(h,{data:f}),f}function i(){var a=this.rawConfig,b={};switch(a.type){case"confirm":b=this.getEl().findFly(".nui-msgbox-iconText-text");break;case"prompt":b=this.getEl().findFly(".nui-msgbox-normal");break;default:b=this.getEl().findFly(".nui-msgbox-bd")}return b&&b.dom}function j(a){return new this(a)}function k(){var a=this,b=a.fire("close");b||a.hide()}function l(){var a=this,b=a.rawConfig,c=a.getEl(),d=c.dom.offsetWidth,e=c.dom.offsetHeight,f=document,g=f.documentElement,h=g.scrollWidth,i=g.scrollTop,j=g.offsetHeight,k=(j-e)/2+i,l=(h-d)/2;k=Math.max(k,0),l=Math.max(l,0),c.dom.style.top=b.top?b.top:k+"px",c.dom.style.left=b.left?b.left:l+"px"}var m=a.Object,n=a.getClass("netease.mail.component.Component"),o=a.createClass($N("component.Msgbox"));m.mix(o,n,{_cssClass:{baseclass:{cls:"nui-msgbox",tpl:'<div tabindex="0" role="alert" class="#{compclass}" style="display:none;#{style}">#{_hasHeader}#{close}#{content}#{_hasFooter}</div>',_hasHeader:{cls:"",tpl:'<div class="nui-msgbox-hd">#{header}</div>'},_hasFooter:{cls:"",tpl:'<div class="nui-msgbox-ft"><div class="nui-msgbox-ft-text">#{footer}</div>#{buttons}</div>'}}},_events:["close","ok","cancel"],_listeners:[{name:"render",handler:function(){var b=this,c=b.getEl(),d=b.rawConfig;if(!d.noHeader){var e=a.getClass("netease.mail.util.DragDrop");new e({drag:c.dom,trigger:c.findFly(".nui-msgbox-hd").dom})}if(c.findFly(".nui-msgbox-close").listen("click",function(c){a.Event.stop(c),b.close(),d.closeClick&&d.closeClick()}),d.mask!==!1){var f='<div class="nui-mask"></div>';b._mask=b.add({html:f,renderTo:c.dom.parentNode})}"prompt"===d.type&&(b.input=b.find("input")[0],b.input.listen("enter",function(){b.buttons.ok.fire("click")})),d.noFooter||(b.buttons={},b.buttons.ok=(b.find("$name$ok")||[])[0],b.buttons.cancel=(b.find("$name$cancel")||[])[0],b.footer=c.find(".nui-msgbox-ft-text")),b.title=c.find(".nui-msgbox-title"),b.content=b._getChildContainer(),b.show()},type:"custom"},{name:"afterRender",handler:function(){var a=this;a.setPosition(),a.getEl().dom.style.zoom=1},type:"custom"},{name:"destroy",handler:function(){var a=this;delete a.buttons.ok,delete a.buttons.cancel,delete a.buttons,delete a.input,delete a._mask,a.footer&&a.footer.destroy(),a.title&&a.title.destroy(),a.showPre()},type:"custom"},{name:"keyup",handler:function(a){var b=n.getItem(this);27===a.keyCode&&b.close()}}],show:j,xtype:"msgbox"},{initialize:d,_getData:h,_getChildContainer:i,setPosition:l,close:k,show:e,hide:f,showPre:g,buttons:null,msgbox:null,autoFocus:!0})}($,window),function(a){function b(b){var c=this,d={title:b.title||"",content:g.isArray(b.content)?c._batch(b.content).join(""):b.content||""};return d.content=d.content,a.Array.each(["speed","fadeTime","pauseTime"],function(a,d){"undefined"!=typeof b[d]&&(c[d]=b[d])}),d}function c(a){var b=this;return a.renderTo=document.body,b.popup=new b(a),b.popup}function d(){var b=this;b.timer&&(clearTimeout(b.timer),b.timer=null),a.Array.each(j.popups,function(c,d){return b===d?(j.popups.splice(c,1),a.BREAK):void 0}),b.destroy()}function e(){var b=this,c=b.rawConfig,d=b.getEl(),e=parseInt(d.dom.style.bottom,10);if(c.useAnimate)if(e<b.bottom){var f=e+b.speed;f=Math.min(f,b.bottom),d.dom.style.bottom=f+"px",b.timer=setTimeout(a.Function.bind(b.fadeIn,b),b.fadeTime)}else c.noAutoFadeout||(b.timer=setTimeout(function(){b.mouseover?b.timer=setTimeout(arguments.callee,b.pauseTime):b.fadeOut()},b.pauseTime));else d.dom.style.bottom=b.bottom+"px",b.timer=setTimeout(function(){b.mouseover?b.timer=setTimeout(arguments.callee,b.pauseTime):b.fadeOut()},b.pauseTime)}function f(){var b=this,c=b.getEl(),d=b.rawConfig;if(c&&d.useAnimate){var e=parseInt(c.dom.style.bottom,10),f=c.dom.offsetHeight;e>b.bottom-f?(c.dom.style.bottom=e-b.speed+"px",b.timer=setTimeout(a.Function.bind(b.fadeOut,b),b.fadeTime)):b.close()}else{var g="nui-layer-hiding";if(!c||c.hasClass(g))return;i.support&&c.addClass(g),i.bind({el:c,type:"animationend",filter:function(a,b){return b.hasClass(g)},unsupport:function(){b.close()},support:function(){c.removeClass(g),b.close()}})}}var g=a.Object,h=a.getClass("netease.mail.component.Component"),i=a.getClass("netease.mail.util.AnimationEvent"),j=a.createClass($N("component.Popup"));g.mix(j,h,{_cssClass:{baseclass:{cls:"nui-noticeLayer nui-layer",tpl:'<div class="#{compclass}">#{title}#{content}</div>'},subclass:{commonPopup:{tpl:"#{content}"}}},xtype:"popup",_listeners:[{name:"render",handler:function(){var a=this,b=a.getEl(),c=j.popups;if(c.length>0){var d=c[c.length-1];a.bottom=d.bottom+d.getEl().dom.offsetHeight}else a.bottom=0;var e=b.dom.offsetHeight;b.dom.style.bottom=a.bottom-e+"px",a.fadeIn(),j.popups.push(a)},type:"custom"},{name:"mouseover",handler:function(){h.getItem(this).mouseover=!0}},{name:"mouseout",handler:function(){h.getItem(this).mouseover=!1}}],show:c,popups:[]},{_getData:b,fadeIn:e,fadeOut:f,close:d,speed:5,fadeTime:10,pauseTime:5e3,bottom:null,timer:null})}($,window),function(a){function b(a){var b=this;m.superClass.initialize.call(b,a),a.checkedchange&&b.listen("checkedchange",a.checkedchange)}function c(a){var b=this;b.getEl().dom.title=a}function d(b){a.Array.each(b,function(c,d){k.isArray(d)?a.Array(d,function(a,b){b.ownerGroup={items:d}}):d.ownerGroup={items:b}})}function e(a){var b=this,c={params:[],name:a.name,value:a.value};return c.radio=b._getChildHtml({xtype:"icon",type:"radio",subtype:a.checked?"checked":""}),a.text&&c.params.push("hasText"),a.name&&(c.name=' data-name="'+a.name+'"'),a.tips&&(c.tips="&nbsp;"+b._getChildHtml({xtype:"label",type:a.tipsType||"aside",text:a.tips})),b.name=a.name,b.value=a.value,c}function f(){var a,b=this,c=b.rawConfig;return"btn"===c.subclass?(b.name=c.name,b.value=c.value,a='<div role="radio" id="'+b.domId+'" class="js-component-radio nui-smallBtn nui-btn '+(c.checked?"nui-btn-active":"")+'"><span class="nui-btn-text">'+c.text+"</span></div>"):a=m.superClass.html.call(b),a}function g(a){var b=this,c=b.rawConfig,d=b.getEl();try{if("btn"===c.subclass)d[a?"addClass":"removeClass"]("nui-btn-active");else{var e=d.findFly("B");e[a?"addClass":"removeClass"]("nui-ico-radio-checked")}d.dom.setAttribute("aria-checked",a?"true":"false")}catch(f){}}function h(){return this.checked}function i(b,c){var d=this,e=d.ownerGroup,f=(e||{}).items||[],g=e.curCheckedItem||d,h=!0;b&&a.Array.each(f,function(a,b){b.setChecked(!1,!0),b.ownerGroup.value=d.value,b.ownerGroup.curCheckedItem=d}),d.checked=b,c||(h=d.fire("checkedchange",d.value)),d.name&&(m.names[d.name]=d.value),d.setSymbol(d.checked),h===!1&&g.setChecked(!0,!0)}function j(){return this.rawConfig.value}var k=a.Object,l=a.getClass("netease.mail.component.Component"),m=a.createClass($N("component.Radio"));k.mix(m,l,{_cssClass:{baseclass:{cls:"nui-chk",tpl:'<span role="radio" tabindex="0" class="#{compclass}"#{name}><span class="nui-chk-symbol">#{radio}</span>#{hasText}#{tips}</span>',hasText:{tpl:'<span class="nui-chk-text">#{text}</span>'}}},_listeners:[{name:"render",handler:function(){var a=this,b=a.rawConfig;b.checked&&a.setChecked(!0,!0),b.title&&a.setTitle(b.title),a.getDom().setAttribute("aria-checked",b.checked?"true":"false")},type:"custom"},{name:"click",handler:function(){var a=this,b=a.ownerGroup;b.curCheckedItem===a?a.setChecked(!0,!0):a.setChecked(!0)},type:"custom"},{name:"click",handler:function(){l.getItem(this).fire("click")}},{name:"keyup",handler:function(a){var b=l.getItem(this);(13===a.keyCode||32===a.keyCode)&&b.fire("click")}},{name:"destroy",handler:function(){var a=this;a.ownerGroup=null,delete a.ownerGroup},type:"custom"}],_events:["checkedchange"],xtype:"radio",group:d,disabledFlyMode:!0,names:{}},{initialize:b,_getData:e,html:f,getChecked:h,setChecked:i,setSymbol:g,getValue:j,setTitle:c,name:"",value:"",ownerGroup:{items:[]}})}($,window),function(a){function b(a){var b={};return b.display=$S("schedule")[a.mid]?"":' style="display:none"',b}function c(){var a=this,b=a.rawConfig,c=a._getData(b);return['<b id="',a.domId,'" class="js-component-schedule ',b.extcls,' nui-ico nui-ico-schedule" title=""',c.display,"></b>"].join("")}function d(){var b=this;b.getEl().dom;var c=b.rawConfig;clearTimeout(b.timer),b.timer=setTimeout(function(){if(b.layer)b.layer.show();else{var d='<p class="nui-item"><strong class="nui-txt-s14">日程提醒</strong></p>',e='<p class="nui-item">该邮件已加为日程</p>';$I("component.Link");var f=new a.Link({text:"修改",extcls:"nui-txt-link",click:function(){b.modify()}}),g=new a.Link({text:"删除",extcls:"nui-txt-link",click:function(){b.modify(!0)}}),h='<p class="nui-item" style="text-align:right">'+f.html()+"&nbsp;"+g.html()+"</p>";b._scrollParent||(b._scrollParent=i.getScrollParent(b.getEl().dom)),b.layer=new($I("component.Layer"))({params:"arrUp",type:"remark",content:d+e+h,renderTo:c.popupRenderTo||b._scrollParent||document.body,pointTo:b.getEl(),listeners:{mouseover:{handler:function(){clearTimeout(b.timer)}},mouseout:{handler:function(){b.hideLayer()}},destroy:function(){this._scrollParent=null,delete this._scrollParent;var a=b.layer;a&&(a.destroy(),b.layer=null,delete b.layer)}}}),b.add(b.layer)}i.setEvents()},b.timeout)}function e(){var a=this;clearTimeout(a.timer),a.timer=setTimeout(function(){a.layer&&a.layer.hide()},a.timeout)}function f(a,b){a.modify(b)}function g(b){var c=this,d=c.rawConfig.mid;$E(["product.Schedule"],function(e){function f(){e.remove(d),c.hide()}b?a.Msgbox.show({type:"confirm",content:'您确定要删除该邮件的日程提醒吗？<p class="txt-12 txt-info">确认删除，将同步删除该条日程内容</p>',title:"删除确认",ok:f}):e.edit(d)})}var h=a.Object,i=a.getClass("netease.mail.component.Component"),j=a.createClass($N("component.Schedule"));h.mix(j,i,{_template:'<b class="nui-ico nui-ico-schedule"#{display}></b>',xtype:"schedule",_listeners:[{name:"mouseover",handler:function(){i.getItem(this).showLayer()}},{name:"mouseout",handler:function(){i.getItem(this).hideLayer()}}],modify:f},{layer:null,timer:null,timeout:400,html:c,showLayer:d,hideLayer:e,modify:g,_getData:b})}($,window),function(a){function b(a,b){var c=this;c.options?c.options[a].setDisabled(b):c.rawConfig.options[a].disabled=b}function c(b){var c=this,d=c.rawConfig;if(d.system){var e=c.getEl().dom;e.selectedIndex=b,c.value=e.value}else{var f="",g="",h=c.menu?c.menu.find("menuitem"):null;if(h)j.each(h,function(d,e){return b===d?(g=e.value,f=e.getText(),e.setChecked(!0),c._curSelectedItem=e,a.BREAK):void 0});else{var i=d.options;j.each(i,function(a,c){c.checked=b===a?!0:!1}),g=d.options[b].value,f=d.options[b].text}c.value=g,c.setText(f)}c.selectedIndex=b}function d(){return this.selectedIndex}function e(b){var c=this;l.superClass.initialize.call(c,b),a.Object.extend(b.options,{xtype:"menuitem"},!0),b.selectedchange&&c.listen("selectedchange",b.selectedchange)}function f(){return this.value}function g(b){var c=this,d=c.rawConfig;if(d.system){var e=c.getEl().find("OPTION");e&&e.doms&&(b+="",j.each(e.doms,function(d,e){return e.value===b?(c.setSelected(d),a.BREAK):void 0}))}else{var f=d.options,g=0,h=c.menu?c.menu.find("menuitem"):null;j.each(f,function(d,e){return e.value===b?(c.setSelected(g),a.BREAK):("split"===e.type&&h||g++,void 0)})}}function h(a){var b=this,c={params:[]};if(a.system){if(a.options){var d=[];j.each(a.options,function(a,c){var e="";c.checked&&(e=" selected",b.value=c.value),d.push('<option value="'+c.value+'"'+e+">"+c.text+"</option>")}),c.options=d.join("")}c.tag="select",c.params.push("_isSystem")}else{for(var e="",f=0,g=a.options.length;g>f;f++){var h=a.options[f];h.checked&&(e=h.text,b.value=h.value,b.selectedIndex=f)}b.selectedIndex||(a.options[0].checked=!0,e=a.options[0].text,b.value=a.options[0].value,b.selectedIndex=0),c.tag="div",c.text=e,c.params.push("_isSim")}return a.title&&(c.title=a.title),c}var i=a.Object,j=a.Array,k=a.getClass("netease.mail.component.Component"),l=a.createClass($N("component.Select"));i.mix(l,k,{_cssClass:{baseclass:{cls:"nui-select",tpl:'<#{tag} tabindex="0" aria-expanded="false" role="button" class="#{compclass}"#{title}>#{_isSim}#{_isSystem}</#{tag}>',_isSim:{cls:"",tpl:'<span class="nui-select-text">#{text}</span><span class="nui-select-arr"><b class="nui-ico nui-ico-dArr"></b></span>'},_isSystem:{cls:"",tpl:"#{options}"}},subclass:{simpleSelect:{cls:"nui-simpleSelect"}}},_events:["click"],_listeners:[{name:"render",handler:function(){var b=this,c=b.getEl(),d=b.rawConfig;if(b.rawConfig.width&&(c.dom.style.width=b.rawConfig.width),d.system)c.listen("change",function(a){b.value=c.dom.value,b.fire("selectedchange",b.value,a)});else if(d.options){var e={items:d.options,checkType:"radio"},f={type:"scroll",groups:[e],reverse:d.reverse,verticalReverse:d.verticalReverse,listeners:{render:function(){b.options=this.find("menuitem")},checkedchange:function(c,d){if(b._curSelectedItem!==c){var e=b.getValue();j.each(g.find("menuitem"),function(d,e){return e===c?(b.setSelected(d),a.BREAK):void 0}),b.fire("selectedchange",c.value,d,e)}}}};"simpleSelect"===d.subclass&&(f.simpleItem=!0,f.width="150px",f.listeners.click={handler:function(c){var d=this,e=a.Event.getTarget();if("a"===e.tagName.toLowerCase()){a.Event.stop(c),a.Component.getItem(d).hide();var f=e.getAttribute("data-index")||0,g=e.getAttribute("data-value")||"";b.setSelected(f),b.fire("selectedchange",g,c)}b._curSelectedItem&&(b._curSelectedItem.className="nui-menu-item-link",a(b._curSelectedItem).find(".nui-menu-item-icon").hide()),b._curSelectedItem=e,a(b._curSelectedItem).find(".nui-menu-item-icon").dom.style.display=""}},f.listeners.show=function(){var c=this,d=c.getEl(),e=d.dom,f=b.getSelected();setTimeout(function(){e.scrollTop=27*f},0);var g=e.getElementsByTagName("a");g&&g[f]&&(b._curSelectedItem=g[f],a(b._curSelectedItem).find(".nui-menu-item-icon").dom.style.display="")}),b.menu=new($I("component.Menu"))(f);var g=b.menu;g.attachTo({clickFrom:b.getEl(),delegateTo:d.delegateTo,renderTo:d.popupRenderTo})}},type:"custom"},{name:"destroy",handler:function(){var a=this;a.options&&(a.options.destroy(),a.options=null,delete a.options),a.menu&&(a.menu.destroy(),a.menu=null,delete a.menu),a._curSelectedItem=null,delete a._curSelectedItem},type:"custom"}],_interactiveStyle:!0,xtype:"select"},{initialize:e,_getData:h,getValue:f,setValue:g,setSelected:c,getSelected:d,setOptionDisabled:b,selectedIndex:null,menu:null,value:null})}($,window),function(a){function b(){return this.history=[],k.superClass.initialize.apply(this,arguments)}function c(a){var b=this,c=b.find("tabitem",!0),d=c[a];d&&d.active()}function d(a){var b=a.basecls||k._basecls;return{basecls:b}}function e(b){var c=this;if(a.Object.isArray(b))return b.each(function(a,b){c.add(b)}),void 0;b.type=c.type,b.xtype="tabitem";var d=k.superClass.add.call(c,b);return b.active&&!b.fromInit&&d.active(b),d}function f(a,b){function c(){var c=d.find("#"+a);if(c){for(var f,g=d.history,h=c.isActive(),i=g.length-1;i>-1;i--)g[i].id===a&&g.splice(i,1);!b&&h&&(f=g.pop()),f&&f.active({fromTabRemoved:!0,nonExit:!1}),e||b||l?(k.superClass.remove.call(d,a),d.resize(),d.fire("afterclose")):(c.getEl().addClass("nui-tabs-item-hide"),setTimeout(function(){k.superClass.remove.call(d,a),d.resize(),d.fire("afterclose")},200))}}var d=this,e=d.rawConfig.noRemoveAnimat;a&&(b||0===d._getEvent("close").length||d.fire("close",a,c))&&c()}function g(a){return this.find("#"+a)}function h(a,b){a.getEl().before(b.getEl().dom),a.isActive()&&b.active(),this.remove(a.id,!0)}function i(){var a,b=this,c=b.find("tabitem"),d=72,e=0;if(c){var f=c.length;if(1!==f){for(var g=0,h=c.length;h>g;g++)a=c[g],a.rawConfig.nonClose&&e++;var i=97,j=document.documentElement.offsetWidth-i+(f-1),k=j/(f-1);e>0&&d>k&&(k=(j-d*e)/(f-e-1)),k=Math.floor(k),k=Math.min(k,121),k=Math.max(k,0);for(var g=0,h=c.length;h>g;g++)if(a=c[g],!a.getEl().hasClass("rC0")&&"tabitem"===a.xtype&&a._width!==k){a._width=k;var l=a.rawConfig.nonClose?Math.max(d,k)-30:k-30;a.getEl().dom.style.width=l+"px"}}}}var j=a.getClass("netease.mail.component.Component"),k=a.createClass($N("component.Tab")),l=a.Browser.isIE("<9");a.Object.mix(k,j,{_cssClass:{baseclass:{cls:"nui-tabs",tpl:'<ul role="tablist" aria-label="邮箱标签" class="#{compclass}"></ul>'},subclass:{normalTabs:{cls:"nui-normalTabs"},moduleTabs:{cls:"nui-moduleTabs"}}},_basecls:"",xtype:"tab",_listeners:[],_events:["switch","close","enter","afterclose"]},{_getData:d,initialize:b,basecls:null,activeItem:null,history:null,active:c,add:e,remove:f,exist:g,replace:h,resize:i})}($,window),function(a,b,c){function d(a){var b=this;n.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click)}function e(b){var c=this,d="nui-tabs-item",e=d+"-close",f={text:'<div class="'+d+'-text nui-fNoSelect" unselectable="on" id="'+c.id+'text" >'+b.text+"</div>",basecls:d};return b.title&&(f.title=' title="'+a.String.stripTags(b.title).replace(/\"/g,"")+'"'),b.border&&(f.border='<div class="kA0"></div><div class="mE0"></div>'),c.ownerCt.rawConfig.hasClose&&!c.rawConfig.nonClose&&(f.closelink=c._getChildHtml({xtype:"link",extcls:e,title:"点击关闭标签",items:[{html:'<span class="nui-tabs-item-close-transarea"></span>'},{xtype:"icon",type:"close"}],listeners:{click:{handler:function(){c.ownerCt.remove(c.id),a.Event.fire(document.body,"click"),a.Event.fire(document.body,"mouseup")}},mouseover:{handler:function(){var b=this;a(b).addClass(e+"-hover")}},mouseout:{handler:function(){var b=this;a(b).removeClass(e+"-hover"),a(b).removeClass(e+"-active")}},mousedown:{handler:function(b){var c=this;a(c).removeClass(e+"-hover"),a(c).addClass(e+"-active"),a.Event.cancelBubble(b)}},mouseup:{handler:function(b){var c=this;a(c).removeClass(e+"-active"),a.Event.cancelBubble(b)}},focus:{handler:function(b){var c=this;a(c).addClass(e+"-focus"),a.Event.cancelBubble(b)}},blur:{handler:function(b){var c=this;a(c).removeClass(e+"-focus"),a.Event.cancelBubble(b)}},keydown:{handler:function(b){var c=this;13===b.keyCode&&a.Event.fire(a(c).dom,"mousedown")}},keyup:{handler:function(b){var c=this;13===b.keyCode&&a.Event.fire(a(c).dom,"click")}}},attrs:'hidefocus="hidefocus"'})),f}function f(a){var b,d=this,e=(a||{}).notFireClick;if(e||(d.rawConfig.noDelayClick?b=d.fire("click",a):setTimeout(function(){b=d.fire("click",a)},0)),b===c&&d.ownerCt){var f=d.ownerCt.activeItem;if(f!==d){var g="nui-tabs-item",h=g+"-selected";if(f&&f.getEl())try{f.getEl().removeClass(h),f.getEl().dom.setAttribute("aria-selected","false")}catch(i){}d.ownerCt.activeItem=d,d.getEl().addClass(h),d.getEl().dom.setAttribute("aria-selected","true"),d.ownerCt.history[d.ownerCt.history.length]===d||d.rawConfig.special||d.ownerCt.history.push(d)}}return b}function g(a){var b=this,c="nui-tabs-item",d=c+"-selected";try{var e=b.getEl();a===!1?(e.removeClass(d),e.dom.setAttribute("aria-selected","false")):(e.addClass(d),e.dom.setAttribute("aria-selected","true"))}catch(f){}}function h(){var a=this,b=a.ownerCt.activeItem;return b===a?!0:!1}function i(b,c){var d=this,e=d.getEl().findFly("#"+d.id+"text");if(e){if(!b)return e.dom.innerHTML;e.html(c?b:a.String.encodeHTML(b)),e.dom.parentNode.title=a.String.stripTags(a.String.decodeHTML(b)),d.rawConfig.text=b}}function j(){var a=this;n.superClass.show.apply(a,arguments)}function k(){var a=this;n.superClass.hide.apply(a,arguments)}function l(){var a=this;n.superClass.destroy.apply(a,arguments)}var m=a.getClass("netease.mail.component.Component"),n=a.createClass($N("component.TabItem"));a.Object.mix(n,m,{_cssClass:{baseclass:{cls:"nui-tabs-item",tpl:'<li class="#{compclass}" role="tab" aria-selected="false" tabindex="0"#{title}>#{border}#{text}#{closelink}</li>'}},_interactiveStyle:!0,_listeners:[{name:"mousedown",handler:function(b){var c=this,d=m.getItem(c),e=a.Event.getTarget(b),f=a.Event.get(b);3!==f.which&&(1===e.nodeType&&e.className.indexOf("-close")>-1||d.active(),a.Menu&&a.Menu.hideAllMenu(),a.Event.fire(document,"click"))}},{name:"dblclick",handler:function(){var a=this,b=m.getItem(a);b.rawConfig.nonClose||b.rawConfig.skipDbClick||b.ownerCt.remove(b.id)}},{name:"keyup",type:"dom",handler:function(a){var b=this,c=m.getItem(b);13===a.keyCode&&c.fire("click")}},{name:"render",handler:function(){var a=this,b=a.rawConfig;b.width&&(a.getEl().dom.style.width=b.width)},type:"custom"}],_events:["click"],xtype:"tabitem"},{_getData:e,initialize:d,active:f,activeStyle:g,isActive:h,title:i,show:j,hide:k,destroy:l})}($,window),function(a,b,c){function d(b,d){d=d===c?-1:d;var e=this,f=e.rawConfig,g=e.getEl().findFly("tbody");g?g=g.dom:(e.update({bodyCells:[]}),g=e.getEl().findFly("tbody").dom);var h=a(g.insertRow(d));h.addClass("nui-table-row"),h.dom.setAttribute("role","row");for(var i=0,j=b.length;j>i;i++){var k=a(h.dom.insertCell(-1)),l=b[i];k.addClass("nui-table-cell"),k.html(l.text),k.dom.setAttribute("role","gridcell"),l.colspan&&k.dom.setAttribute("colspan",l.colspan),l.cls&&k.addClass(l.cls),0===i?k.addClass("nui-table-cell-isFirst"):i===j-1&&k.addClass("nui-table-cell-isLast"),k.destroy()}f.bodyCells.push(b),h.destroy()}function e(a){a=a===c?-1:a;var b=this,d=b.rawConfig,e=b.getEl().findFly("tbody").dom;e.deleteRow(a),d.bodyCells.splice(a,1)}function f(a){var b,c,d,e,f,g,i,j,k={params:[]},l="",m="";if(a.headCells)for(b=0,d=a.headCells.length;d>b;b++)f=a.headCells[b],g=["cell"],0===b?g.push("cell-isFirst"):b===a.headCells.length-1&&g.push("cell-isLast"),f.forChk&&g.push("cell-forChk"),i=f.colspan?' colspan="'+f.colspan+'"':"",j=f.cls||"",l+='<th role="gridcell" class="'+h.spliceClass("nui-table",g)+" "+j+'"'+i+">"+f.text+"</th>";if(a.bodyCells)for(b=0,d=a.bodyCells.length;d>b;b++){for(m+=(b+1)%2?'<tr role="row" class="nui-table-row">':'<tr role="row" class="nui-table-row nui-table-row-even">',c=0,e=(a.bodyCells[b]||[]).length;e>c;c++)f=a.bodyCells[b][c],g=["cell"],0===c?g.push("cell-isFirst"):c===e-1&&g.push("cell-isLast"),f.forChk&&g.push("cell-checkbox"),i=f.colspan?' colspan="'+f.colspan+'"':"",j=(f.cls?" "+f.cls:!1)||"",m+='<td role="gridcell" class="'+h.spliceClass("nui-table",g)+j+'"'+i+">"+f.text+"</td>";m+="</tr>"}return a.hasThead!==!1&&k.params.push("hasThead"),k.head=l,k.body=m,k.tablecls=a.tablecls||"",k}var g=a.Object,h=a.getClass("netease.mail.component.Component"),i=a.createClass($N("component.Table"));g.mix(i,h,{_cssClass:{baseclass:{cls:"nui-table",tpl:'<div class="#{compclass}"><table role="grid" class="nui-table-inner #{tablecls}">#{hasThead}<tbody class="nui-table-body">#{body}</tbody></table></div>',hasThead:{tpl:'<thead class="nui-table-head"><tr role="row" class="nui-table-row">#{head}</tr></thead>'}},subclass:{normalTable:{cls:"nui-normalTable"},simpleTable:{cls:"nui-simpleTable"},settingTable:{cls:"nui-settingTable"}}},xtype:"table"},{addRow:d,removeRow:e,_getData:f})}($,window),function(a){function b(){var a=this;a.rawConfig;var b=a.getEl();b.dom;var c=a._clsEl,d=a._textEl;a._listened||(b.listen("click",function(b){var d=g.getTarget(b);d===c.dom||d.parentNode===c.dom?a.fire("closeclick"):a.fire("click")}),b.listen("mouseout",function(e){var f=g.getTarget(e);f===c.dom||f.parentNode===c.dom?c.removeClass("nui-tag-close-hover"):d.removeClass("nui-tag-text-hover"),clearTimeout(a._hideTimer),a._hideTimer=null,delete a._hideTimer,g.isMouseout(b.dom)&&b.removeClass("nui-tag-hover")}),b.listen("keyup",function(b){if(13===b.keyCode){var d=g.getTarget(b);d===c.dom||d.parentNode===c.dom?a.fire("closeclick"):a.fire("click")}}),a.listen("update",function(){a._listened=!1}),a._listened=!0)}function c(a){var b=this;i.superClass.initialize.call(b,a),a.click&&b.listen("click",a.click),a.closeclick&&b.listen("closeclick",a.closeclick)}function d(){var a=this,b=a.rawConfig,c=a.getComponentClass(a._getData(b)),d=[];return d[d.length]=['<div tabindex="0" id="',a.domId,'" class="',c.compclass,'"><span class="nui-tag-text">'].join(""),d[d.length]=b.text,d[d.length]="</span>",b.closeclick&&(d[d.length]='<span tabindex="0" class="nui-tag-close nui-close"><b class="nui-ico">x</b></span>'),d[d.length]="</div>",d.join("")}function e(a){var b={params:[]};return"iconTag"===a.subclass&&(b.text="a"),a.closeclick&&b.params.push("hasClose"),b}var f=a.Object,g=a.Event,h=a.getClass("netease.mail.component.Component"),i=a.createClass($N("component.Tag"));f.mix(i,h,{_cssClass:{baseclass:{cls:"nui-tag",tpl:'<div tabindex="0" class="#{compclass}"><span class="nui-tag-text">#{text}</span>#{hasClose}</div>',hasClose:{cls:"",tpl:'<span tabindex="0" class="nui-tag-close nui-close"><b class="nui-ico">x</b></span>'}},subclass:{iconTag:{cls:"nui-iconTag"}}},_events:["click","closeclick"],_listeners:[{name:"mouseover",handler:function(b){var c=a(this),d=h.getItem(c),e=a.Event.getTarget(b),f=d._clsEl,g=d._textEl;e===f.dom||e.parentNode===f.dom?f.addClass("nui-tag-close-hover"):g.addClass("nui-tag-text-hover"),d._hideTimer=setTimeout(function(){c.addClass("nui-tag-hover")},300),d._listenEvents()}},{name:"focus",handler:function(){var b=a(this),c=h.getItem(b);b.addClass("nui-tag-hover"),c._listenEvents()}},{name:"render",handler:function(){var a=this,b=a.getEl();a._clsEl=b.find(".nui-tag-close")||{},a._textEl=b.find(".nui-tag-text")},type:"custom"},{name:"destroy",handler:function(){var a=this;a._clsEl.destroy(),a._textEl.destroy(),delete a._clsEl,delete a._textEl},type:"custom"}],xtype:"tag"},{initialize:c,html:d,_getData:e,_listenEvents:b,_listened:!1})}($,window),function(a){function b(a){function b(a){a.showing=!0,a.getEl().dom.style.display=""}function c(a){if(a.showing){var b=a.getEl(),c=a.getParamClass("hiding");i.support||(a.showing=!1,a.hide()),b.hasClass(c)||(b.addClass(c),i.bind({el:b,type:"animationend",filter:function(a,b){return b.hasClass(c)},unsupport:function(){a.showing=!1,a.hide()},support:function(){b.removeClass(c),a.showing=!1,a.hide()}}))}}var d=j.loadingTips;if(j.forbidLoading){if(d)try{c(d)}catch(e){}}else if(d&&clearTimeout(d.timer),a){var f={subclass:"frameTips",icon:"loading",text:a||"",expires:0,type:"aside",tipsType:"loading",renderTo:document.body,hidden:!0,listeners:{render:function(){this.getEl().dom.style.left="200px",b(this)}}};k&&delete f.icon,d?(d.setText(a),d.showing?d.show():b(d)):j.loadingTips=new j(f)}else d&&(d.timer=setTimeout(function(){c(d)},1e3))}function c(){var a=j.frameTips;if(a&&a===j.frameTips)try{var b=a.getEl();if(!i.support)return a.destroy();var c=a.getParamClass("hiding");b.addClass(c),i.bind({el:b,type:"animationend",filter:function(a,b){return b.hasClass(c)},support:function(){a.destroy()},unsupport:function(){a.destroy()}})}catch(d){}}function d(a){var b=!0;return j.frameTips&&(j.frameTips.destroy(),b=!1),"string"==typeof a&&(a={text:a}),a.succ&&(a.type="suc"),a.err&&(a.type="err"),a.expires=a.expires||5e3,a.subclass="frameTips",a.renderTo=document.body,a.tipsType="frame",a.animation=b,a.listeners=a.listeners||{},a.listeners.render=function(){var c=this.getEl(),d=c.dom;d.style.left=(document.body.offsetWidth-d.offsetWidth)/2+"px",a.expires>0&&(j.timer=setTimeout(function(){j.frameTips.getEl().removeClass("nui-ani-none"),j._frameTipsDestroy()},a.expires)),b||c.addClass("nui-ani-none")},j.frameTips=new j(a),j.frameTips}function e(a,b){return!j.moduleTips&&a||(j.moduleTips&&j.moduleTips.destroy(),j.moduleTips=null,a)?("string"==typeof a&&(a={text:a}),a.succ&&(a.type="suc"),a.err&&(a.type="err"),a.expires=a.expires||0,a.subclass="frameTips",a.renderTo=document.body,a.tipsType="module",a.listeners=a.listeners||{},a.listeners.afterRender=function(){var c=this.getEl().dom;c.style.left=(document.body.offsetWidth+200-c.offsetWidth)/2+"px",c.style.top=b||"88px",a.expires>0&&(j.timer=setTimeout(function(){c.style.display="none"},a.expires)),c.style.display=""},j.moduleTips=new j(a),j.moduleTips):void 0}function f(b){var c=this,d={params:[]};if(b.icon){var e={xtype:"icon"};"object"==typeof b.icon?a.Object.extend(e,b.icon):e.type=b.icon,d.icon=c._getChildHtml(e),d.params.push("_hasIcon")}return d}var g=a.Object,h=a.getClass("netease.mail.component.Component");a.getClass("netease.mail.util.AnimationElement");var i=a.getClass("netease.mail.util.AnimationEvent"),j=a.createClass($N("component.Tips")),k=a.Browser.ie()-0<=8;g.mix(j,h,{_cssClass:{baseclass:{cls:"nui-tips",tpl:'<div class="#{compclass}">#{_hasIcon}<span class="nui-tips-text">#{text}</span></div>',_hasIcon:{cls:"",tpl:'<span class="nui-tips-icon">#{icon}</span>'}},subclass:{normalTips:{cls:"nui-normalTips"},frameTips:{cls:"nui-frameTips",tpl:'<div aria-live="polite" aria-atomic="true" class="#{compclass}">#{_hasIcon}<span class="nui-tips-text">#{text}</span></div>'}}},_listeners:[{name:"destroy",handler:function(){var a=this;j.frameTips===a&&(clearTimeout(j.timer),j.frameTips=null)},type:"custom"}],forbidLoading:!1,show:d,loading:b,module:e,_frameTipsDestroy:c,timer:null,frameTips:null,loadingTips:null,xtype:"tips"},{_getData:f})}($,window),function(a){function b(a){var b=this;f.superClass.initialize.call(b,a),a.hidden&&b.getEl().hide()}function c(a){var b,c=this,d={params:[]};if(a.path){var e='<span class="nui-title-split">'+(a.path.split||"&gt;")+"</span>",f=a.path.items;b=c._batch(f||[],"html").join(e)+e,d.path=b}return a.tips&&(d.tips=a.tips,d.params.push("hasTips")),a.extItems&&(b=c._batch(a.extItems||[],"html").join(""),d.ext=b,d.params.push("hasExt")),a.text&&(d.text=a.text,d.params.push("hasText")),d}var d=a.Object,e=a.getClass("netease.mail.component.Component"),f=a.createClass($N("component.Title"));d.mix(f,e,{_cssClass:{baseclass:{cls:"nui-title",tpl:'<div class="#{compclass}">#{path}#{hasText}#{hasTips}#{hasExt}</div>',hasTips:{cls:"",tpl:'<span class="nui-title-tips nui-txt-tips">#{tips}</span>'},hasExt:{cls:"",tpl:'<div class="nui-title-ext">#{ext}</div>'},hasText:{cls:"",tpl:'<h1 class="nui-title-text">#{text}</h1>'}}},xtype:"title"},{initialize:b,_getData:c})}($,window),function(a){function b(a){for(var b=this,c=[],d=[],e={},f=0,g=a.groups.length;g>f;f++){var h=a.groups[f],i='<div class="nui-toolbar-item"'+(h.hidden?' style="display:none"':"")+">"+b._batch(h.items||[],"html").join("")+"</div>";"ext"===h.type?d.push(i):c.push(i)}return e.text=d.length>0?c.join("")+'<div class="nui-toolbar-ext">'+d.join("")+"</div>":c.join(""),e}var c=a.Object,d=a.getClass("netease.mail.component.Component"),e=a.createClass($N("component.Toolbar"));c.mix(e,d,{_cssClass:{baseclass:{cls:"nui-toolbar",tpl:'<div role="toolbar" class="#{compclass}">#{text}</div>'}},xtype:"toolbar"},{_getData:b})}($,window),function(a,b){function c(a){try{j=$L("support.AddressSupport")}catch(b){return b}var c=this;p.superClass.initialize.call(c,a)}function d(){var a=o.getItem(this);p.show(a)}function e(){var a=o.getItem(this);p.hide(a)}function f(b){var c=b.rawConfig;(c.address||c.group||c.email)&&(clearTimeout(b.timer),b.timer=setTimeout(function(){b.layer?b.layer.show():b.layer=new($I("component.Layer"))({subclass:"userLayer",userType:c.group?"group":"contact",params:"arrUp",vip:c.vip,yixin:c.yixin,contact:c.contact,mobile:c.mobile,value:c.group?c.group:b.value||new m(c.address,c.name),renderTo:o.getScrollParent(b.getEl().dom),pointTo:b.getEl().dom,listeners:{mouseout:{handler:function(){a.Event.isMouseout(b.layer.getEl().dom)&&p.hide(b)}},mouseover:{handler:function(){a.Event.isMouseover(b.layer.getEl().dom)&&p.show(b)}}}}),o.setEvents()},b.timeout))}function g(a){clearTimeout(a.timer),a.layer&&(a.timer=setTimeout(function(){a.layer.hide()},a.timeout))}function h(){var a=this,b=a.rawConfig,c=a._getData(b);return['<span id="',a.domId,'" class="nui-user ',b.extcls||"",'" title="',c.title,'">',c.icon,c.name,"</span>"].join("")}function i(b){var c=this,d=b.email||b,e={address:d.address,defaultName:d.defaultName,domain:d.domain,name:d.name},f="2"==a.Ud.get({field:"ntes_option",flag:"sendershow"});if(f||!e.name){var g=j.getName(e);g&&(e.defaultName=e.name=g)}else e.name&&(e.name=e.name.replace(/^[+|-]/,""));b.name=e.name||e.defaultName||"未命名",b.address=e.address,c.value=e,c.value.name=l.escapeHTML(b.name),c.value.address=l.escapeHTML(e.address||"");
var h={name:c.value.name||"",title:b.title||""};try{var i=a.String.trim(b.address||e.address);if(!$S("isCorp")){var k=$I("util.Email");b.vip=k.checkVip(i),b.mobile=k.checkMobile(i)}if(b.contact)h.icon=c._getChildHtml({xtype:"icon",type:"user",subtype:"marked",title:"星标联系人"});else if(b.vip)h.icon=c._getChildHtml({xtype:"icon",type:"user",subtype:"vip",title:"VIP用户"});else if(b.yixin&&"0"==a.Ud.get({field:"huodong_option",flag:"yixinWeb"})){h.icon=c._getChildHtml({xtype:"icon",type:"user",subtype:"yixin",title:"易信用户"});try{n.cache({mbox_yixin_ul_icon_show:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(m){}if(b.mobile)try{n.cache({mbox_yixin_mobile_ul_icon_show:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(m){}}else if(b.mobile){h.icon=c._getChildHtml({xtype:"icon",type:"user",subtype:"shouji",title:"手机号码邮箱"});try{n.cache({mbox_mobile_ul_icon_show:1},function(a,b){a.value=(+a.value||0)+ +b})}catch(m){}}}catch(o){}return h}var j,k=a.Object,l=a.String,m=a.Email||b.Email,n=a.Log||b.Log,o=a.getClass("netease.mail.component.Component"),p=a.createClass($N("component.UserLabel"));k.mix(p,o,{_cssClass:{baseclass:{cls:"nui-user",tpl:'<span class="#{compclass}" title="#{title}">#{icon}#{name}</span>'}},xtype:"userlabel",_listeners:[{name:"mouseover",handler:d},{name:"mouseout",handler:e},{name:"destroy",handler:function(){var a=this;a.layer&&(a.layer.destroy(),a.layer=null,delete a.layer)},type:"custom"}],show:f,hide:g},{initialize:c,timeout:400,layer:null,html:h,_getData:i})}($,window),function(a){function b(a){var b=this;h.superClass.initialize.call(b,a),a.hidden&&b.getEl().hide()}function c(a){var b=this,c={text:"<span>"+a.text+"</span>",img:'<img src="'+a.img+'" width="140" height="84" />'};return c.cls=b.getModeClass(a.mode),c}function d(a){var b=this;if(b.rawConfig.mode!=a){b.rawConfig.mode=a;var c=b.getModeClass(a),d=b.getEl();d.setClass("item "+c)}}function e(a){var b;return b="fixed"==a?"item-disable":"drag"==a?"item-editable-drag":"new"==a?"item-editable-drag":"item-editable"}var f=a.Object,g=a.getClass("netease.mail.component.Component"),h=a.createClass($N("component.WelcomeItem"));f.mix(h,g,{_cssClass:{baseclass:{cls:"item",tpl:'<div class="item #{cls}" ><div class="preview">#{img}</div><div class="name"><div class="name-bg"></div><div class="name-txt">#{text}<span class="remark"></span></div><span class="opt"></span></div><div class="status"><b class="gWel-ico gWel-ico-right"></b></div></div>'}},_listeners:[{name:"mousedown",handler:function(b){var c=this;g.getItem(c),a.Event.getTarget(b);var d=a.Event.get(b);3===d.which}},{name:"render",handler:function(){var a=this;a.rawConfig},type:"custom"},{name:"afterRender",handler:function(){var b=this,c=b.getEl();b.rawConfig,c.find("IMG").listen("mousedown",function(){a.Event.cancel()})},type:"custom"}],xtype:"welcomeitem"},{initialize:b,setMode:d,getModeClass:e,_getData:c})}($,window),function(){function a(){k.superClass.initialize.apply(this,arguments);var a=$G.get("frameaseListeners");if(a)for(var b in a)this.listener.listen(b,a[b])}function b(a){var b=this,c=arguments;if(a instanceof i)return c.callee.call(b,a._var),void 0;var d=this.reqModule,e=this.find(d),f=this.get(a.module,a.param,a.useParam);if(!a.parent){var g="exit"in a;a.exit=g?a.exit:!1,e&&a.module&&!a.fromTabClick&&a.record!==!1?f&&f.name==e.name?(a.exit=g?a.exit:!0,a.cacheModule="cacheModule"in a?a.cacheModule:e.cacheDom):(a.cacheDom="cacheDom"in a?a.cacheDom:f?f.cacheDom:!0,a.cacheModule="cacheModule"in a?a.cacheModule:f?f.cacheModule:!0):e&&(a.fromTabClick||a.record===!1)&&(a.cacheModule=!0,a.fromTabClick&&(a.cacheDom=!0))}a.parent&&(a.record=!1),$.Browser.edge&&$.Browser.edge()&&(a.record=!1);var h=a.call;a.call=function(a){h&&h(a)},k.superClass.go.call(this,a)}function c(a){k.superClass.renderInit.call(this,a),$.Component.setEvents(5)}function d(){return this.modules,k.superClass.get.apply(this,arguments)}function e(a){if(a.listener&&a.listener._listeners){var b=a.listener._listeners;for(var c in b){var d=b[c].handler;$.Listener.unlisten(c,d)}}k.superClass.remove.call(this,a)}function f(){k.superClass.render.apply(this,arguments)}function g(a){var b={};return $.Object.extend(b,this._event),$.Object.extend(b,a),this._event=b,b}function h(){k.superClass.createContainer.apply(this,arguments)}var i=window.netease.mail.framease.ModuleClass,j=window.netease.mail.base,k=j.createClass($N("framease.Js6"));j.Object.inherit(k,window.netease.mail.framease.ModuleManager,{initialize:a,go:b,remove:e,render:f,renderInit:c,get:d,getEventObject:g,createContainer:h,css:{}})}(),function(a){$G.set("frameaseListeners",{afterGo:function(b){function c(b,c){var d,e;b.view&&(b.view.navConf||b.view.getNavConf)&&(d=b.view.navConf||b.view.getNavConf(!0)),c&&c.view&&(c.view.navConf||c.view.getNavConf)&&(e=c.view.navConf||c.view.getNavConf(!0)),d?e&&e.tree==d.tree||a.Nav.init(d):e&&a.Nav.init(d),a.Nav.getModule(b)}try{var d=b.target,e=b.fromModule,f=b["var"];if(f.parent){if(d.css){var g=d.css.split(",");a.Array.each(g,function(b,c){a.Support.loadStyleSheet(c)})}return}a.Context.module=d,d._child&&(d._child._parent=d,d._child._var.parent&&(d._child._var.parent=d),a.SM.hideAll(d._child),a.SM.show(d._child));var h={};a.Object.extend(h,f),h.notFireClick=!0;try{a.MultiTab.add(h)}catch(i){}try{a.Thread.delay(a.Function.bind(function(b){if(b&&!a.MultiTab.exist(b)&&a.Context.module!=b){var c=3==a.Ud.get({field:"ntes_option",flag:"useTab"});b._frameCtrlNoDelete||c||a.JS.remove(b)}},this,e),1e3)}catch(j){}try{if(e){var k=e.name;k&&k!=d.name&&a.Ext.useTab&&(e&&a.MultiTab.exist(e)&&(e.switchOut(),"standard"===$G.mailPattern.currentPattern&&e.mtype===a.Context.defaultModule&&a.Support.hideNewGuide()),a.MultiTab.exist(d)&&(d.switchIn(),"standard"===$G.mailPattern.currentPattern&&d.mtype===a.Context.defaultModule&&($S("isVip")?a.Support.showVipNewGuide(1,!0):a.Support.showNewGuide(1,!0))))}}catch(i){}if(d.css){var g=d.css.split(",");a.Array.each(g,function(b,c){a.Support.loadStyleSheet(c)})}c(d,e),"mbox.ListModule"==d.mtype?a.Support.pluginMailboxPromote():a.Support.pluginMailboxPromote(!0)}catch(i){}},beforeGo:function(b){var c=b.target;b.fromModule;var d=b["var"];if(3==a.Ud.get({field:"ntes_option",flag:"useTab"}),d.parent){var e=d.parent.name||d.parent;e!=a.JS.reqModule&&a.JS.go(a.JS.find(e))}d.parent||(d.param&&d.param.fullScreen||c.fullScreen?a.Frame.fullScreen("hfull"):(a.Frame.fullScreen(null,!!c.getData),c.getData&&(c.__delayShowNav__=!0)))},beforeRender:function(b){var c=b.target,d=c._var,e="";c&&c.getModuleClass?e=c.getModuleClass():c.constructor.cls&&(e=c.constructor.cls);var d=c._var;e+=" frame-main",(d.param&&d.param.fullScreen||c.fullScreen)&&(e+=" frame-main-noNav"),"student"===$G.mailPattern.currentPattern&&(e+=" frame-main-noTop"),a(c.container).addClass(e),c.container.setAttribute("role","main");var f="";c&&c.ariaLabel?f=c.ariaLabel():c.constructor.ariaLabel&&(f=c.constructor.ariaLabel),c.container.setAttribute("aria-label",f),c.__delayShowNav__&&a.fly("#dvNavContainer").show(),a.Event.listen(c.container,"focus",a.Function.bind(c.onFocus,c)),a.Frame.setViewType(null,c,d)},afterRender:function(a){a.target&&a.target.onAfterRender&&a.target.onAfterRender()},beforeRemove:function(a){a.target&&a.target.onBeforeRemove&&a.target.onBeforeRemove()},afterRemove:function(){},beforeCache:function(b){var c=b.target,d=c._var;c.__delayShowNav__&&a.fly("#dvNavContainer").show(),a.Frame.setViewType(null,c,d)},afterCache:function(){}})}($,window),function(a,b,c){a.S_OK="S_OK",a.S_PARTIAL_OK="S_PARTIAL_OK",a.EMAIL_ADDRESS="EMAIL;type=INTERNET;type=pref",a.EMAIL_ID="CID",a.EMAIL_PHONE="TEL;type=CELL;type=VOICE;type=pref",a.READ_FONT=[["默认","inherit"],["宋体","simsun"],["黑体","simhei"],["楷体","KaiTi_GB2312,KaiTi"],["隶书"],["幼圆"],["微软雅黑","Microsoft Yahei"],["Arial"],["Arial Black"],["Comic Sans MS"],["Courier"],["System"],["Times New Roman"],["Verdana"],["Georgia"]],a.LETTERFLAG=["","红旗","绿旗","橙旗","蓝旗","粉旗","青旗","黄旗","紫旗","","","","","","","灰旗"],a.EXTLIMIT=".uu.pif.scr.mim.hqx.bhx.cmd.vbs.bat.com.vbe.vb.js.wsh.",a.ADDR_LOCAL_KEY="NTES_MAIL_CONTACT",a.ADDR_CLONE_LIST=["163.com","126.com","188.com","vip.163.com","vip.126.com","yeah.net","21cn.com","vip.tom.com","tom.com","vip.sina.com","sina.com","sohu.com","139.com","qq.com","vip.qq.com","gmail.com","foxmail.com"],a.ADDR_IM_TITLE={popo:"POPO",qq:"QQ",msn:"MSN",googletalk:"GoogleTalk",aim:"AIM",skype:"Skype",icq:"ICQ",yahoo:"雅虎通",uc:"新浪UC",jabber:"Jabber",facebook:"Facebook",other:"其他"},a.ADDR_MEMORIAL_DAY={marry:"结婚纪念",know:"相识纪念",anniversary:"周年纪念",other:"其他"},a.ADDR_COUNTRY=[{value:"AU",name:"澳大利亚"},{value:"OS",name:"奥地利"},{value:"BW",name:"孟加拉国"},{value:"BX",name:"比利时"},{value:"BZ",name:"巴西"},{value:"CN",name:"加拿大"},{value:"CH",name:"智利"},{value:"CI",name:"中国"},{value:"CO",name:"哥伦比亚"},{value:"CS",name:"哥斯达黎加"},{value:"CU",name:"古巴"},{value:"CZ",name:"捷克"},{value:"DN",name:"丹麦"},{value:"EG",name:"埃及"},{value:"FR",name:"法国"},{value:"DL",name:"德国"},{value:"GR",name:"希腊"},{value:"HK",name:"香港"},{value:"HU",name:"匈牙利"},{value:"IN",name:"印度"},{value:"ID",name:"印度尼西亚"},{value:"IE",name:"爱尔兰"},{value:"IS",name:"以色列"},{value:"IY",name:"意大利"},{value:"JP",name:"日本"},{value:"KW",name:"科威特"},{value:"LX",name:"卢森堡"},{value:"MU",name:"澳门"},{value:"MS",name:"马来西亚"},{value:"MX",name:"墨西哥"},{value:"MO",name:"蒙古"},{value:"NP",name:"尼泊尔"},{value:"NL",name:"荷兰"},{value:"NZ",name:"新西兰"},{value:"NI",name:"尼日利亚"},{value:"KR",name:"朝鲜"},{value:"NO",name:"挪威"},{value:"PK",name:"巴基斯坦"},{value:"NG",name:"巴布亚新几内亚"},{value:"PH",name:"菲律宾"},{value:"PL",name:"波兰"},{value:"PO",name:"葡萄牙"},{value:"RO",name:"罗马尼亚"},{value:"RS",name:"俄罗斯"},{value:"SR",name:"新加坡"},{value:"ZA",name:"南非"},{value:"KO",name:"韩国"},{value:"SP",name:"西班牙"},{value:"SN",name:"瑞典"},{value:"SW",name:"瑞士"},{value:"TW",name:"台湾"},{value:"TH",name:"泰国"},{value:"TU",name:"土耳其"},{value:"ER",name:"阿拉伯联合酋长国"},{value:"UK",name:"英国"},{value:"US",name:"美国"},{value:"VN",name:"委内瑞拉"},{value:"VS",name:"越南"},{name:"中国香港",value:"HK"},{name:"中国澳门",value:"MU"},{name:"中国台湾",value:"TW"},{name:"中国台湾省",value:"TW"},{name:"孟加拉",value:"BW"},{name:"印尼",value:"ID"},{name:"阿拉伯",value:"ER"}],a.READ_ENCODE=[["自动选择(Default)",c],["简体中文(GB2312)","GB2312"],["繁体中文(Big5)","Big5"],["Unicode(UTF-8)","UTF-8"],["西欧(ISO-8859-1)","ISO-8859-1"],["日文(EUC-JP)","EUC-JP"],["日文(Shift-JIS)","Shift_JIS"],["韩文(ISO-2022-KR)","ISO-2022-KR"]],a.LOGIN_PRODUCT={163:"网易首页","360buy":"京东商城",alumni:"网易同学录",avatar:"泡泡秀商城",bbs:"网易论坛",bbtf:"百变金刚",bill:"计费",blog:"网易博客",cbg:"藏宝阁",cc:"网易语音",ch:"战国风云",club:"网易社区",content:"网易网站",crm:"客服系统",csa:"客服专区",csxy:"创世西游",cwwg:"宠物王国",dream:"梦幻人生",dt:"大唐豪侠",dt_dj:"大唐1道具版",dtws:"大唐无双",ecard:"点卡",ekeysales:"将军令销售系统",epay:"网易宝",ewallet:"网易宝",ff:"飞飞",flashmail:"闪电邮",game:"三国世界",gamebbs:"游戏论坛",gamedc:"游戏产品数据中心",gamesales:"游戏推广",gps:"周边商城",itown:"天空之城",job:"网易招聘",love:"交友",mail:"wap邮箱",mail126:"126邮箱",mail126_aqs:"126邮箱",mail126_aqxs:"126邮箱",mail126_mmbh:"126邮箱",mail163:"163邮箱",mail163_aqs:"163邮箱",mail163_aqxs:"163邮箱",mail163_mmbh:"163邮箱",mail188:"188邮箱",mailvip:"vip邮箱",mailyeah:"yeah邮箱",mailyeah_aqs:"yeah邮箱",mailyeah_aqxs:"yeah邮箱",mailyeah_mmbh:"yeah邮箱",mf:"魔法火枪团",mm:"非常男女",mobilemail:"手机邮",newff:"新飞飞",photo:"相册",pointcard:"点卡",popo:"网易泡泡",popogame:"泡泡游戏",popomail:"泡泡收邮件",qn:"倩女幽魂",search:"有道搜索",sg:"易三国",sgtx_web:"三国天下",sms:"无线",smsblog:"移动博客",smsdating:"同城约会",smsgw:"手机密码保护",smshoney:"野蛮女生",spg:"网络小程序",t:"微博",tj:"爱之屋",tx2:"天下贰",urs:"网易通行证",xy2:"大话西游2",xy3:"大话西游3",xy3wz:"大话西游3外传",xyc:"卡牌对决",xyq:"梦幻西游",xyw:"大话西游外传",yihaodian:"1号店商城",yuehui:"网易约会",pop3:"POP3"},a.LOGIN_PROVINCE={shd:"山东省",guz:"贵州省",jix:"江西省",chq:"重庆市",nmg:"内蒙古",hub:"湖北省",lin:"辽宁省",hun:"湖南省",jil:"吉林省",fuj:"福建省",shh:"上海市",bej:"北京市",gux:"广西",gud:"广东省",sic:"四川省",han:"海南省",yun:"云南省",anh:"安徽省",jis:"江苏省",zhj:"浙江省",qih:"青海省",nix:"宁夏",hlj:"黑龙江省",tij:"天津市",sxi:"陕西省",gas:"甘肃省",xij:"新疆",hen:"河南省",heb:"河北省",shx:"山西省",xiz:"西藏"},a.COMPOSE_PRIORITY=["紧急"],a.HOLIDAY=[{start:"09-19",end:"09-21",name:"中秋节"},{start:"10-01",end:"10-07",name:"国庆节"},{start:"12-30",end:"01-01",name:"元旦"}]}($,window),function(){$G.set("customEvents",{"compose:send":function(){},"compose:imageUpload":function(){},"sync:request":function(){},"sync:cache":function(){},"sync:health":function(){},"folder:add":function(){},"folder:modify":function(){},"folder:remove":function(){},"folder:empty":function(){},"folder:update":function(){},"folder:keep":function(){},"tag:add":function(){},"tag:modify":function(){},"tag:remove":function(){},"tag:setshow":function(){},"search:removeall":function(){},"letter:update":function(){},"letter:rollback":function(){},"letter:allread":function(){},"letter:setspam":function(){},"letter:setfilter":function(){},"letter:setfilterrule":function(){},"letter:schedule":function(){},"letter:closead":function(){},"read:recall":function(){},"read:wmsvrDelete":function(){},"read:mailStatusUpdate":function(){},"addr:dataInit":function(){},"addr:dataReset":function(){},"addr:dataMark":function(){},"global:uidChanged":function(){},"global:resize":function(){},"accountRelate:getCount":function(){},"accountRelate:unRelate":function(){},"accountRelate:add":function(){},"rslist:add":function(){},"options:modify":function(){},"options:inboxModify":function(){},"options:composeModify":function(){},"options:readModify":function(){},"options:contactModify":function(){},"options:personalModify":function(){},"options:skinChange":function(){},"options:ecardModify":function(){},"options:signModify":function(){},"welcome:setting":function(){},"mailcenter:del":function(){},"mailcenter:verify":function(){},"mailcenter:add":function(){},"mailcenter:update":function(){},"schedule:list":function(){},"schedule:insert":function(){},"schedule:remove":function(){},"clubsign:sign":function(){},"tab:modify":function(){},"tab:reset":function(){},"global:navchange":function(){},"global:showpopup":function(){},"global:sweeplogout":function(){},"zoom:changed":function(){},"user:avatarChanged":function(){},"plugin:yixin_loaded":function(){},"plugin:mailmaster_photouploader_loaded":function(){},"appmanager:modify":function(){},"msgcenter:init":function(){},"appcenter:init":function(){},"ad:dataChange":function(){}})}($,window),function(a,b){var c=a.Ud;$G.set("extConf",{letterPaper:{domain:["free"],resource:[$G.environment.mimgUrl+"external/letter.js"],autoLoad:!1},letterPaperVip:{domain:["vip"],resource:[$G.environment.mimgUrl+"vip/letter/vipmail/js/letter.js"],autoLoad:!1},letterTop:{autoLoad:!0},letterRecall:{autoLoad:$G.attrs.cos.perm_recall_mail},readTran_enable:{domain:["free","vip","corp"],autoLoad:!0},readNewPic:{domain:["yeah.net"],condition:function(){return Math.random()<.25},autoLoad:!0},read_noSsidRead:{domain:["free"],autoLoad:!0},read_mailService:{domain:["free"],autoLoad:!0},mobileAccount:{domain:["free","vip"],autoLoad:!0},photo:{domain:["vip.163.com","163.com","126.com"],autoLoad:!0},stamp:{domain:["free"],autoLoad:!0},smspack:{domain:["free"],condition:function(){return"1"==c.get({field:"ntes_global",flag:"sendSms"})},autoLoad:!0},smspack_vip:{domain:["vip"],autoLoad:!0},lab:{domain:["free"],autoLoad:!0},pass2:{autoLoad:!0},music:{domain:["free","vip"],condition:function(){var a=navigator.appVersion.toLowerCase();return a.indexOf("iphone")>-1||a.indexOf("ipad")>-1||a.indexOf("ipod")>-1?!1:!0},autoLoad:!0},thread:{autoLoad:!0,condition:function(){return $I("init.Thread").check(null,!0)}},prev:{autoLoad:!0},localStorage:{domain:["free"],labid:28,autoLoad:!0},memo:{autoLoad:!0},pushmail:{domain:["free"],condition:function(){return Math.random()<1&&$E("product.PushMail",function(c){c.init(),a.Ext.webim||a.Ext.webim_yeah||(c.subscribe(),b.MailMsg.onListen(function(){c.login()}))}),!0},timeout:5e3,autoLoad:!0},useNewAd:{domain:["163.com","126.com"],autoLoad:!0},useTab:{condition:function(){return!0},autoLoad:!0},deliver:{autoLoad:!0},recovery:{domain:["free","vip.163.com"],autoLoad:!0,condition:function(){return $G.attrs.cos.pref_mail_preserving_days>0}},accountRelate:{autoLoad:!0},accountRelateHttps:{domain:["free"],autoLoad:!0},scheduleMbox:{domain:["free","vip.163.com","corp"],autoLoad:!0,condition:function(){var a=$G.attrs.user.ntes_rd_config;return a&&"1"==a.substring(0,1)}},scheduleRead:{domain:["free","vip.163.com","corp"],autoLoad:!0},notification:{autoLoad:!0,condition:function(){var a=$I("util.Notification"),b=a.checkPermission();return b==a.PERMISSION_ALLOWED||b==a.PERMISSION_NOT_ALLOWED}},tag:{autoLoad:!0},summary:{autoLoad:!0,domain:["free","vip"],condition:function(){return!a.Browser.isIE("<9")&&$S("attrs").cos.perm_mail_threading===!0}},domainstat:{domain:["163.com"],autoLoad:$G.environment.now>new Date(2011,11,2,12,59)?!0:!1},contact_record:{domain:["free","vip"],autoLoad:!0},undo_send:{autoLoad:!0},ynote:{domain:["free","vip"],autoLoad:!0},signFilter:{autoLoad:!0,condition:function(){return!0}},linkedin:{domain:["free"],autoLoad:!0},selectFolder:{autoLoad:!0},rollback:{autoLoad:!0},shortcut:{condition:function(){return"0"==c.get({field:"ntes_option",flag:"shortcut_enable"})},autoLoad:!0},contactCorrect:{domain:["free","vip"],condition:function(){return"0"==c.get({field:"ntes_letter",flag:"remindShow"})},autoLoad:!0},optimizer:{domain:["free"],autoLoad:!0},mailFilterHistory:{domain:["free","vip","corp"],autoLoad:!0},mailFilterLock:{domain:["free"],autoLoad:!0},newAttach:{autoLoad:!0},appCenter:{domain:["free"],autoLoad:!0},msgCenter:{domain:["free"],autoLoad:!0},msgCenterPush:{domain:["free"],condition:function(){var b=["hsb001_mobile@163.com","snoopy424@163.com","capacabana@163.com","chenjl_1204@163.com","jayyouth@163.com","lianglong2000@163.com","4002@163.com","5767@163.com","rabbler@163.com","rabbler@yeah.net","huaxinjiayou@126.com","huaxinjiayou@163.com","lemoncn@163.com","xyz1234556789@163.com ","7372@163.com","dccd@163.com","dongua81@163.com","dongua81@126.com","dongua81@yeah.net","chiyulin8@163.com","jocelyntest@163.com","iris-yuan0608@163.com","symbolnice@126.com","suizi@yeah.net","thekai@163.com","wortherm@163.com","scsf1989@163.com","kekedqf@163.com","echo96092@163.com","junex99@126.com","mwl_test1@163.com","mwl_test2@163.com","mwl_test3@163.com","flower_12301@163.com","guolitest1@163.com","guolitest2@163.com","guolitest3@163.com","yu_test01@163.com","yu_test01@126.com","yu_test01@yeah.net","luckytest1@163.com","dleo@126.com","innayyx@163.com","jftan83@163.com","sanlly@163.com","echo96092@126.com","jiajia_snoopy@163.com","ntes10@163.com","ntes1010@163.com","ntes2012@163.com","benwei@163.com","benwei76@126.com"];return a.Array.has(b,$S("uid"))},autoLoad:!0},avMail:{autoLoad:!0},brand:{domain:["free"],autoLoad:!0},defer:{autoLoad:!0},archive:{autoLoad:!0,condition:function(){return $G.attrs.cos.pref_mail_archive_lite_quota>0&&$G.user.archiveMessageCount>0&&$G.user.archiveMessageSize>0}},yixin_im:{domain:["free"],condition:function(){if("standard"===$G.mailPattern.currentPattern){var b=1===c.get({field:"huodong_option",flag:"yixinWeb"})-0;return b?!1:a.Browser.isIE("<8")?!1:!0}},autoLoad:!0},yixin_logo:{domain:["free"],autoLoad:!0},yixin_in_read:{domain:["free"],autoLoad:!0},read_smart_tag:{domain:["free"],autoLoad:!0},plugin_cloudmusic:{domain:["free","vip"],condition:function(){var b=!1;if("standard"===$G.mailPattern.currentPattern){if(a.Browser.isIE("<9")||(b=!0),$S("isFree")||$S("isVip"))if(a.Uri.urls.music_outlink)a.Uri.urls.music_outlink=new a.Uri({key:"music_outlink",url:"http://music.163.com/musicbox?ref=mail&host=$host$&sid=$sid$&uid=$uid$#http://$host$/app/cloudmusic/proxy.html",title:"网易云音乐"},a.Uri.type.URL);else{var c=$G.get("uriConf").all;c.music_outlink=["http://music.163.com/musicbox?ref=mail&host=$host$&sid=$sid$&uid=$uid$#http://$host$/app/cloudmusic/proxy.html","网易云音乐"],$G.set("uriConf",{all:c})}return b}},autoLoad:!0},compose_scene:{autoLoad:!0,domain:["free"],condition:function(){return 6==a.Browser.ie()?!1:!0}},compose_card:{condition:function(){if($S("isVip"));else if($S("isFree")){var a=new Date;a.getMonth(),a.getDate();var b=!1;return b}return!1},autoLoad:!0},human_trans:{domain:["free"],autoLoad:!0},avatar_show:{domain:["free","vip","corp"],autoLoad:!0},constellation_show:{domain:[],autoLoad:!0,condition:function(){return!0}},limit_max:{domain:["free","vip"],autoLoad:!0,condition:function(){return a.Browser.isIE("<9")}},mobile_upload:{domain:["free"],autoLoad:!0},plugin_vipMsgCenter:{domain:["vip"],autoLoad:!0},editor_tips:{domain:["vip"],autoLoad:!0,condition:function(){var a=new Date,b=a.getMonth(),c=a.getDate();return b>=1&&c>=10?!0:!1}},smart:{domain:["free"],autoLoad:!0,condition:function(){var a=$I("init.Tag");a.init();var b=!1;for(var c in a.smarts){var d=a.get(c,"smart",!0);if(d){b=!0;break}}return b}},notary:{domain:["free","vip"],autoLoad:!0},attach_online_modify:{domain:["corp"],autoLoad:!1},attach_online_list:{domain:["corp"],autoLoad:!0},netfolder_enable:{autoLoad:!0,condition:function(){if($S("isCorp")){if($G.user.qiyeNfEnable){var a=$G.user.accountRight;if(a&&1==a.wp)return!0}return!1}return!0}},bigattach_enable:{autoLoad:!0,condition:function(){if($S("isCorp")){if($G.user.qiyeNfEnable){var a=$G.user.accountRight;if(a&&1==a.bigattach)return!0}return!1}return!0}},chromeCapture:{autoLoad:!1}})}($,window),function(a){var b,c=a.String,d=a.Loader,e=d.loaderConf,f=d.isDebug;d.loaderConf=f?{call:function(a,b,d){var f=e.call(a,b,d);return c.has(b,$N("component.editor"))||c.has(b,$N("component.contact"))||c.has(b,$N("component.emailinput"))?(a="http://mimg.127.net/p/common/develop/",f=e.call(a,b,d)):$G.mailPattern[$G.mailPattern.currentPattern][$RN(b)]&&(a=$G.environment.cacheRootPath+"pattern/"+$G.mailPattern.currentPattern+"/js/",f=e.call(a,b,d)),f}}:{call:function(a,d,f){var g=e.call(a,d,f);if($G.mailPattern[$G.mailPattern.currentPattern][$RN(d)]){var h=$G.environment.cacheRootPath+"pattern/"+$G.mailPattern.currentPattern+"/js/";g=e.call(h,d,f)}if("standard"!==$G.mailPattern.currentPattern)return c.has(d,$N("component.editor"))?(b=a+"lib/",g=e.call(b,$N("editor"),f)):(c.has(d,$N("component.emailinput"))||c.has(d,$N("component.contact")))&&(b=a+"lib/",g=e.call(b,$N("otherCommon"),f)),g;if(c.has(d,$N("module.contact")))g=e.call(a,$N("module.contact.Contact"),f);else if(c.has(d,$N("module.apps")))g=f?e.call(a,$N("module.apps.Apps"),f):$I("core.Plugin").getJs(d,f);else if(c.has(d,$N("module.thread")))g=e.call(a,$N("module.thread.Thread"),f);else{if(d==$N("module.options.RecommendSignlist"))return g;c.has(d,$N("module.options"))?g=d==$N("module.options.BaseOptionModule")||d==$N("module.options.BaseOptionView")||d==$N("module.options.BaseOptionAction")||d==$N("module.options.NavConf")||d==$N("module.options.BaseSection")?e.call(a,$N("module.options.Base"),f):c.has(d,$N("module.options.MailFilter"))?e.call(a,$N("module.options.MailFilter"),f):c.has(d,$N("module.options.BaseSet"))?e.call(a,$N("module.options.BaseSet"),f):c.has(d,$N("module.options.AccountCenter"))?e.call(a,$N("module.options.AccountCenter"),f):c.has(d,$N("module.options.AntiSpam"))||c.has(d,$N("module.options.BaseListSection"))||c.has(d,$N("module.options.SectionRefuseList"))||c.has(d,$N("module.options.SectionSafeList"))?e.call(a,$N("module.options.AntiSpam"),f):e.call(a,$N("module.options.Options"),f):c.has(d,$N("component.editor"))?(b=a+"lib/",g=e.call(b,$N("editor"),f)):(c.has(d,$N("component.emailinput"))||c.has(d,$N("component.contact")))&&(b=a+"lib/",g=e.call(b,$N("otherCommon"),f))}return g}}}($,window),function(){$G.set("uriConf",{all:{credits_info:["http://$host$/app/jifen/js6_jifen.jsp","积分信息"],address_clone_gmail:["http://alist2.mail.163.com/alist2/gmailimport.jsp?sid=$sid$&uid=$uid$&host=$host$"],address_sysc_help:["http://mail.163.com/html/110825_sync/?from=js6&domain=$domain$"],compose_club:["http://club.$fullDomain$/privilege/func.do"],compose_upload_url:["http://$host$/js6/compose/upload.jsp?sid=$sid$"],compose_upload_swf:["http://$host$/js6/flash/v1/FileSplitUploader.swf"],compose_upload_fix_swf:["http://$host$/js6/flash/v1/FileUploader.swf"],compose_attach:["http://$host$/js5/compose/attach.jsp?type=photo&sid=$sid$"],compose_attach_icon:["http://mimg.127.net/xm/all/fj/ico-bfile-"],compose_attach_super:["http://fs.163.com/fs/service/?"],compose_attach_plugin:["http://download.mail.126.net/mailassist/mailassist.xpi"],compose_attach_firefox:["http://download.mail.126.net/mailassist/mailassist_np.xpi"],compose_attach_chrome:["http://download.mail.126.net/mailassist/mailassist.crx"],compose_attach_chrome21:["https://chrome.google.com/webstore/detail/oanccpnpelojggkdnnifnhlnpdklionk"],compose_attach_chrome21_setup:["http://mail.163.com/html/webmail/plusin/setup_forchrome.htm"],compose_attach_chrome_capture:["https://chrome.google.com/webstore/detail/jmhbgmmcnagjjihogbfmghlfegaidcfj"],compose_attach_setup:["http://$host$/js6/compose/setup.jsp"],compose_attach_fakeurl:["http://$host$/app/api/fakeurl.jsp?sid=$sid$"],compose_attach_mobile:["http://imagemupload.$fullDomain$"],compose_attach_mobile_mailmaster:["http://mail.163.com/client/dl.html?from=mail59"],compose_attach_mobile_help1:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2cbbea25a4807ddc5"],compose_attach_mobile_help2:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2cbbea25a4807ddc5"],compose_attach_mac_plugin:["http://wisp.dl.126.net/wisp/legacy/webmail/latest-mac-general.dmg"],compose_attach_mac_firefox:["http://wisp.dl.126.net/wisp/legacy/webmail/latest-mac-firefox.xpi"],compose_get_data:["http://$host$/js6/s?func=mbox:getComposeData&sid=$sid$"],compose_typo:["http://spell.$fullDomain$/typo.service"],letterpaper_tips:["http://config.$fullDomain$/letterpaper/getTips.do"],letterpaper_set:["http://config.$fullDomain$/letterpaper/pageLetterPaper.do"],letterpaper_create:["http://config.$fullDomain$/letterpaper/createLetterPaper.do"],letterpaper_default:["http://config.$fullDomain$/letterpaper/getDefaultLetterPaper.do"],compose_preview:["http://$host$/js6/compose/preview.jsp"],compose_graphsign:["http://my.$fullDomain$/getUserCardList.m"],compose_stamp_get:["http://stamp.$fullDomain$/mailstamp/stamp/getStamp.do?userName=$uid$&gui=2012"],compose_notary_sign:["http://notary.$fullDomain$/vipnotaryapp/notarysign.m"],compose_notary_suc:["http://notary.$fullDomain$/vipnotaryapp/html/sendSuc.html"],compose_scene:["http://$host$/app/compose/?sid=$sid$"],compose_avmail_swf:["http://$host$/js6/h/avmail2.swf"],video_swf:["http://$host$/js6/h/videomailplayer.swf"],audio_swf:["http://$host$/js6/h/audiomailplayer.swf"],file_center:["http://$host$/app/filecenter/index.jsp","文件中心"],nf_center:["http://$host$/app/filecenter/index.jsp","网盘"],photo_center:["http://album.$fullDomain$/album/index.jsp","网易相册"],image_attach:["http://$host$/app/filecenter/index.jsp#list/waterfall","附件图集"],accountRelate:["http://reg.163.com/services/accountRelateChg"],getRelateAccount:["http://reg.163.com/services/getRelateAccountForWeb"],option_lock:["http://advlock.$fullDomain$/advlock/Login.do?username=$uid$&style=js5","安全锁设置"],setadvlock:["http://advlock.$fullDomain$/advlock/Login.do?username=$uid$&style=js5","安全锁设置"],resetadvlock:["http://advlock.$fullDomain$/advlock/Login.do?username=$uid$&style=js5&rspindex=","安全锁设置"],logout:["http://$host$/js6/logout.jsp?sid=$sid$&uid=$uid$"],club:["http://club.mail.$domain$/jifen/internal.do","邮箱俱乐部"],stamp_album:["http://stamp.$fullDomain$/mailstamp/stamp/showAlbum.do?userName=$uid$&from=stampCenter","集邮中心"],sms:["http://dxyy.$fullDomain$/smspack/userconf/index.do?from=shoujifuwu"],myblog:["http://blog.$fullDomain$/apps/notebook/mailnote.do?username=$uid$&email=$uid$","记事本"],cards_read:["http://postcard.$fullDomain$/mailcards/send.do","贺卡"],assist:["http://mimg.$domain$/assist/index.htm?from=1","百宝箱"],lab:["http://lab.$fullDomain$/labweb/lab.do?m=lab&keyfrom=jisu_new.index","实验室"],reader:["http://yuedu.163.com/mysubs.do"],name_card_new:["http://ecard.$fullDomain$/ecard/new.do","电子名片"],name_card_edit:["http://ecard.$fullDomain$/ecard/edit.do","电子名片"],name_card:["http://ecard.$fullDomain$/ecard/index.do?onerr=errorPage&from=service","电子名片"],mobile:["http://security.$fullDomain$/mobileserv/verifyInfo.do?","手机服务"],read_data:["http://$host$/js6/read/readdata.jsp?sid=$sid$"],read_pic:["http://$host$/js6/read/readpic.jsp?sid=$sid$"],read_thumbnail:["http://picmk.$fullDomain$/photoview/CoremailServlet?sid=$sid$&mailHost=$domain$"],read_decrypt_data:["http://$host$/js6/read/decryptdata.jsp?sid=$sid$"],read_decrypt_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac29830ec81fe715b2b"],read_pack:["http://$host$/js6/read/readpack.jsp?sid=$sid$"],read_head:["http://$host$/js6/s?func=mbox:getMessageData&sid=$sid$&mode=text"],read_mail:["http://$host$/js6/read/viewmail.jsp?sid=$sid$"],read_trans_provide:["http://fanyi.youdao.com/translate?keyfrom=$domain$"],read_trans:["http://sr.mail.163.com/smartresult?sid=$sid$&from=js6"],read_yjzp:["http://mail.163.com/html/yjzp/"],read_postcard:["http://postcard.$fullDomain$/mailpostcard/send.do","明信片"],read_courseassist:["http://course.mail.163.com/courseassist/ajax/student/verifyURL.do"],read_recall_notary:["http://notary.$fullDomain$/vipnotaryapp/recallMail.m?sid=$sid$&username=$uid$"],read_mail_service:["http://$host$/msapp/form"],tran_search:["http://fanyi.youdao.com/openapi.do?keyfrom=ntesmail&key=1307913387&type=data&doctype=jsonp&version=1.2&q="],tran_var:["http://dict.youdao.com/search?doctype=xml&keyfrom=$product$mail"],tran_noresult:["http://www.youdao.com/search?keyfrom=dictajaxnoresult&q="],tran_flash:["http://dict.youdao.com/test.nobound.swf?audio="],trans_ad1:["http://f.youdao.com/?vendor=163mail.menu"],trans_ad2:["http://f.youdao.com/?vendor=163mail.fanyi"],yixin_ad_roaming:["http://mail.163.com/html/140310_yixin/index.html?from=js6&uid=$uid$"],yixin_ad_pub:["http://mail.163.com/html/140315_yixin/index.html?from=js6&uid=$uid$"],yixin_api:["http://$host$/yixinproxy/API.do?sid=$sid$&uid=$uid$"],smart_mailtag:["http://$host$/mailtag/tag.do?sid=$sid$&mail_uid=$uid$"],smart_mailtag2:["http://$host$/mailtag/tag2.do?sid=$sid$&mail_uid=$uid$"],addAccountRelate:["http://config.$fullDomain$/multiAccount/mail/relatepage.do","添加关联邮箱"],addAccountRelateHttps:["https://ssl.$fullDomain$/config.$fullDomain$/multiAccount/mail/relatepage.do","添加关联邮箱"],addAccountRelateService:["http://config.$fullDomain$/multiAccount/service/relateAccount.do?sid=$sid$","添加关联邮箱"],addAccountRelateHttpsService:["https://ssl.$fullDomain$/config.$fullDomain$/multiAccount/service/relateAccount.do?sid=$sid$","添加关联邮箱"],unrelateAccount:["http://config.$fullDomain$/multiAccount/unrelateAccount.do"],unrelateAccountNew:["http://config.$fullDomain$/multiAccount/service/unrelateAccount.do"],setEmphasisAccount:["http://config.$fullDomain$/multiAccount/service/chgAccountStatus.do"],setEmphasisAccountHttps:["https://ssl.$fullDomain$/config.$fullDomain$/multiAccount/service/chgAccountStatus.do"],pop3_server:["http://popsch.mail.163.com/sch/g.do"],option_pop3:["http://config.$fullDomain$/settings/index.jsp","客户端设置"],popDelQuery:["http://config.$fullDomain$/settings/pop3notify/query.do"],popDelSet:["http://config.$fullDomain$/settings/pop3notify/set.do?pop3notifytipsoff=on"],opt_mobileBrowser:["http://security.$fullDomain$/mobileserv/verifyInfo.do?from=option"],dxyy:["http://dxyy.$fullDomain$/smspack/userconf/index.do","短信通知"],opt_iPad:["http://mimg.$domain$/optmobilemail/iPad.htm?sid=$sid$&from=option"],opt_mobileStandard:["http://mimg.$domain$/optmobilemail/mobileStandard.htm?sid=$sid$&from=option"],option_passwd:["http://reg.163.com/setinfo/ChangePwd_1.jsp?noheader=1&product=webmail&username=$uid$","修改密码"],find_passwd:["http://reg.163.com/chg/ShowBaomiInfo.jsp?noheader=1&product=webmail&username=$uid$","找回密码"],option_security:["http://security.$fullDomain$/msc/in/entry.do","安全系数"],option_sender_nick:["http://config.$fullDomain$/settings/sender/nickname.do?"],option_personal:["http://uinfo.mail.163.com/servlet/personal.xsp?url=http://$host$/js5/h/personal.htm&act=get"],music_outlink:["http://$host$/js5/project/musicbox/index.jsp","音乐盒"],weibo:["http://buzz.mail.$domain$/signup/passport?keyfrom=mailLaunch","网易微博"],backurl:["http://$host$/app/api/service_backurl.jsp?sid=$sid$&callback="],schedule:["http://daily.$fullDomain$/schedulemanager/schedule.do?opt=index","日程管理"],secondauth:["https://ssl.$fullDomain$/secondauth/index.jsp"],recovery:["http://$host$/app/recovery/index.jsp"],ynote:["http://note.youdao.com/"],firstInWelcome:["http://jf.$fullDomain$/apps/welcome/firstInWelcome.m"],urs2city:["http://$host$/js6/welcome/urs2city.jsp","urs地址转pos"],urs_passwd:["https://reg.163.com/setinfo/ChangePwd_1.jsp"],welcome_master:["http://mail.163.com/html/150612_master/index.htm"],welcome_duobao:["https://3c.163.com/html/170116_r2ai/index.htm"],welcome_yanxuan:["http://you.163.com/act/static/awNkTx0lUa.html"],appsList:["http://jf.$domain$/apps/mailapps/callback/listApps.m"],apps_calendar:["http://mimg.$domain$/assist/calendar/index.htm"],apps_calc:["http://mimg.$domain$/assist/computer/jsq_shuxue.htm"],apps_money:["http://money.mail.$domain$/mybill/user.do?method=login"],apps_idiomdict:["http://mimg.$domain$/assist/chengyu/index.htm"],apps_fest:["http://mimg.$domain$/assist/holiday/index.htm"],apps_dynastytable:["http://mimg.$domain$/assist/chaodai/zl_chaodai.htm"],apps_travelguide:["http://163.niuzhu.com/chuguo/index.html?autoheight=true&host=mimg.$domain$"],apps_cookbook:["http://mimg.$domain$/assist/caipu/home.htm"],apps_psychometry:["http://lady.163.com/special/00262MKM/psychological.html?mimg.$domain$"],apps_serialstory:["http://$product$.17k.com/"],apps_constellation:["http://mimg.$domain$/assist/xingzuo/zl_xingzuo.htm"],apps_blog:["http://blog.163.com/"],apps_games:["http://nie.163.com/mailcenter/?game=default&uid=$uid$&host=$host$"],apps_menghuan:["http://nie.163.com/mailcenter/xyq.html?game=xyq&uid=$uid$&host=$host$"],apps_dahua2:["http://nie.163.com/mailcenter/xy2.html?game=xy2&uid=$uid$&host=$host$"],apps_tianxia3:["http://nie.163.com/mailcenter/tx3.html?game=tx3&uid=$uid$&host=$host$"],apps_wushuang:["http://nie.163.com/mailcenter/dt2.html?game=dt2&uid=$uid$&host=$host$"],apps_qiannv:["http://nie.163.com/mailcenter/qn.html?game=qn&uid=$uid$&host=$host$"],apps_wow:["http://nie.163.com/mailcenter/wow.html?game=wow&uid=$uid$&host=$host$"],apps_starcraft:["http://nie.163.com/mailcenter/sc2.html?game=sc2&uid=$uid$&host=$host$"],apps_shop:["http://mall.163.com/promoter/mail.htm"],apps_train:["http://huoche.kuxun.cn/wangyi.html?fromid=Kbbx-S1312061-T1076521&backdomain=mimg.$domain$&host=$host$"],apps_quan:["http://quan.163.com/hui/blue/top.do"],apps_charge:["http://mall.163.com/promoter/mail/fill.html"],apps_chexian:["http://baoxian.163.com/car/iframe/mail.html","保险-车险"],apps_openclass:["http://v.163.com/special/open-for-mail/","网易公开课"],apps_caipiao:["http://caipiao.163.com/activity/mailapp_index.html","网易彩票"],apps_baojian:["http://baojian.163.com/mailIframe.html#from=mailapp","网易保健品"],apps_huihui:["http://www.huihui.cn/minisite/mailapp","惠惠网"],apps_snake:["http://mail.163.com/html/games/snake/","贪吃蛇2013"],apps_gentie:["http://tie.163.com/plaza/email/recommend.html","网易跟贴"],apps_yuehui:["http://yuehui.163.com/?neteaseMail=1","同城约会"],apps_cai:["http://money.163.com/special/licaiyi_mailpush/","财易通"],app_xiuxiu:["http://xiuxiu.web.meitu.com/app/mail163.html?host=$host$&sid=$sid$","美图秀秀"],apps_car_counter:["http://baoxian.163.com/car/iframe/mail2.html","车险计算器"],urs_security_upgrade:["https://id.163.com/gj/"],apps_accounts:["http://accounts.$fullDomain$/accounts/index.do?uid=$uid$&host=$host$","帐号通"],linkedin:["https://ssl.$fullDomain$/linkedin/{action}.do?username=$uid$&sid=$sid$&from=web"]}})
}($,window),function(){$G.set("uriConf",{"163.com":{compose_sms_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2279f719127a68ac3"],compose_cloud_feedback:["http://zhidao.mail.163.com/zhidao/newsugg.jsp#附件"],compose_cloud_notice:["http://$host$/app/h/bigattach.htm"],compose_cloud_help:["http://help.mail.163.com/faq.do?m=list&categoryID=163"],compose_attach_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac25128a1e7205d19e7"],compose_update_vip:["http://jf.vip.163.com/apps/upgrade/unauth/index.m?from=163qunfa"],address_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac215b05bfdbcc4f67e"],errorpage:["http://mail.163.com/errorpage/err_163.htm"],sender_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2c1a50f1b03590258"],related_guide:["http://help.mail.163.com/faq.do?m=list&categoryID=80"],read_recall_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2864428042ebda7d1"],pop3_qqgmail_guide:["http://help.mail.163.com/faq.do?m=list&categoryID=81"],backout:["http://config.mail.163.com/settings/withdrawIndex.jsp","邮件撤回"],oauth:["http://oauth.mail.163.com/user/tokenlist.jsp?uid=$uid$"],optimizer_full:["http://config.mail.163.com/optimizer/main.do?mode=full","优化大师"],optimizer_clean:["http://config.mail.163.com/optimizer/main.do?mode=clean","优化大师"],optimizer_unread:["http://config.mail.163.com/optimizer/main.do?mode=unread","优化大师"],optimizer_folder:["http://config.mail.163.com/optimizer/main.do?mode=folder","优化大师"],optimizer_health:["http://config.mail.163.com/optimizer/main.do?mode=health","邮箱健康指数"],optimizer_get:["http://config.mail.163.com/optimizer/optimize/get.do"],settingwithdraw_query:["http://config.mail.163.com/settings/withdraw/query.do"],settingwithdraw_set:["http://config.mail.163.com/settings/withdraw/set.do"],pop3notify_query:["http://config.mail.163.com/settings/pop3notify/query.do"],optimizer_getdetail:["http://config.mail.163.com/optimizer/optimize/getDetail.do"],optimizer_check:["http://config.mail.163.com/optimizer/main.do?mode=check"],vip_upgrade:["http://jf.vip.163.com/apps/upgrade/unauth/index.m?from=fmail163_"],mailfilter_upgrade:["http://reg.vip.163.com/register.m?from=fmail163_sort#tab=upgrade","来信分类VIP升级"]},"126.com":{compose_cloud_feedback:["http://zhidao.mail.126.com/zhidao/newsugg.jsp#附件"],compose_cloud_notice:["http://$host$/app/h/bigattach.htm"],compose_cloud_help:["http://help.mail.163.com/faq.do?m=list&categoryID=163"],compose_attach_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac25128a1e7205d19e7"],compose_update_vip:["http://jf.vip.126.com/apps/upgrade/unauth/index.m?from=126qunfa"],address_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac215b05bfdbcc4f67e"],errorpage:["http://mail.126.com/errorpage/err_126.htm"],sender_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2c1a50f1b03590258"],related_guide:["http://help.mail.163.com/faq.do?m=list&categoryID=80"],read_recall_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2864428042ebda7d1"],pop3_qqgmail_guide:["http://help.mail.163.com/faq.do?m=list&categoryID=81"],backout:["http://config.mail.126.com/settings/withdrawIndex.jsp","邮件撤回"],oauth:["http://oauth.mail.126.com/user/tokenlist.jsp?uid=$uid$"],optimizer_full:["http://config.mail.126.com/optimizer/main.do?mode=full","优化大师"],optimizer_clean:["http://config.mail.126.com/optimizer/main.do?mode=clean","优化大师"],optimizer_unread:["http://config.mail.126.com/optimizer/main.do?mode=unread","优化大师"],optimizer_folder:["http://config.mail.126.com/optimizer/main.do?mode=folder","优化大师"],optimizer_health:["http://config.mail.126.com/optimizer/main.do?mode=health","邮箱健康指数"],optimizer_get:["http://config.mail.126.com/optimizer/optimize/get.do"],settingwithdraw_query:["http://config.mail.126.com/settings/withdraw/query.do"],settingwithdraw_set:["http://config.mail.126.com/settings/withdraw/set.do"],pop3notify_query:["http://config.mail.126.com/settings/pop3notify/query.do"],optimizer_getdetail:["http://config.mail.126.com/optimizer/optimize/getDetail.do"],optimizer_check:["http://config.mail.126.com/optimizer/main.do?mode=check"],vip_upgrade:["http://jf.vip.126.com/apps/upgrade/unauth/index.m?from=fmail126_"],mailfilter_upgrade:["http://jf.vip.126.com/apps/upgrade/unauth/index.m?from=fmail126_sort","来信分类VIP升级"]},"yeah.net":{compose_cloud_feedback:["http://zhidao.mail.yeah.net/zhidao/newsugg.jsp#附件"],compose_cloud_notice:["http://$host$/app/h/bigattach.htm"],compose_cloud_help:["http://help.mail.163.com/faq.do?m=list&categoryID=163"],compose_attach_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac25128a1e7205d19e7"],compose_update_vip:["http://jf.vip.163.com/apps/upgrade/unauth/index.m?from=yeahqunfa"],address_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac215b05bfdbcc4f67e"],errorpage:["http://mail.yeah.net/errorpage/err_yeah.htm"],sender_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2c1a50f1b03590258"],read_recall_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2864428042ebda7d1"],related_guide:["http://help.mail.163.com/faq.do?m=list&categoryID=80"],pop3_qqgmail_guide:["http://help.mail.163.com/faq.do?m=list&categoryID=81"],backout:["http://config.mail.yeah.net/settings/withdrawIndex.jsp","邮件撤回"],oauth:["http://oauth.mail.yeah.net/user/tokenlist.jsp?uid=$uid$"],optimizer_full:["http://config.mail.yeah.net/optimizer/main.do?mode=full","优化大师"],optimizer_clean:["http://config.mail.yeah.net/optimizer/main.do?mode=clean","优化大师"],optimizer_unread:["http://config.mail.yeah.net/optimizer/main.do?mode=unread","优化大师"],optimizer_folder:["http://config.mail.yeah.net/optimizer/main.do?mode=folder","优化大师"],optimizer_health:["http://config.mail.yeah.net/optimizer/main.do?mode=health","邮箱健康指数"],optimizer_get:["http://config.mail.yeah.net/optimizer/optimize/get.do"],settingwithdraw_query:["http://config.mail.yeah.net/settings/withdraw/query.do"],settingwithdraw_set:["http://config.mail.yeah.net/settings/withdraw/set.do"],pop3notify_query:["http://config.mail.yeah.net/settings/pop3notify/query.do"],optimizer_getdetail:["http://config.mail.yeah.net/optimizer/optimize/getDetail.do"],optimizer_check:["http://config.mail.yeah.net/optimizer/main.do?mode=check"],vip_upgrade:["http://jf.vip.163.com/apps/upgrade/unauth/index.m?from=fmailyeah_"],mailfilter_upgrade:["http://reg.vip.163.com/register.m?from=fmailyeah_sort#tab=upgrade","来信分类VIP升级"]},free:{groups:["http://groups.$fullDomain$/mailteam/frames.html","邮件列表"],smartSplitURL:["../contact_knowledage/knowledage/cmdsvr?sid=$sid$&uid=$uid$&cmd=","姓名、地址分词"],address_clone_ssl:["https://ssl.$fullDomain$/alist2.mail.163.com/alist2/import"],address_cloneimg:["https://ssl.mail.163.com/alist2.mail.163.com/alist2/validcode"],help:["http://help.mail.163.com/index.do"],lcy:["http://money.$fullDomain$/mybill/user.do?method=login","个人理财"],gift:["http://gift.$fullDomain$/birdayremind/giftlist.do?type=i&status=a&product=birthday_remind&from=service","礼物"],subscribe:["http://subscribe.$fullDomain$/subscribe/index.do","更新通知"],free_sms:["http://mobileserv.$fullDomain$/freemsg/web/index.do","免费短信通知"],domainstat:["http://config.mail.163.com/domainstat/index.do","他域邮件监测"],compose_ud_suc:["http://vip.163.com/xm/green/sendSuc.htm"],compose_ecard:["http://ecard.$fullDomain$/ecard/api/list.do?sid=$sid$&uid=$uid$"],compose_ecard_entry:["http://ecard.$fullDomain$/ecard/index.do?from=compose","电子名片"],compose_attach_tips:["http://u.163.com/fj_0"],compose_portrait:["http://$host$/app/api/portrait.jsp"],compose_sms_free:["http://mobilemail.$fullDomain$/mobilemail/webmail/fsms.do"],compose_sms_priority:["http://mobilemail.$fullDomain$/mobilemail/webmail/smsNoticeMul.do"],compose_sms_flash:["http://dxyy.$fullDomain$/smspack/mailapi/smsNoticeMul.do?_asyn=1"],compose_sms_flashindex:["http://dxyy.$fullDomain$/smspack/userconf/index.do","随身邮"],compose_sms_flashpack:["http://dxyy.$fullDomain$/smspack/mailsubEntry.do","随身邮"],compose_sms_flashcharge:["http://dxyy.$fullDomain$/smspack/pay/charge.do","随身邮"],compose_netfolder:["http://nf.$fullDomain$/netfolder/service"],compose_netfolder_download:["http://cloud.$fullDomain$/dfs/server/"],letterpaper_get:["http://config.$fullDomain$/letterpaper/getPage.do"],flash_out:["medialetter.$fullDomain$"],previewattach:["http://preview.$fullDomain$/preview"],humanTrans:["http://sr.mail.163.com/zyfy/","网易专业翻译"],getMobileServiceNo:["http://msas.mail.163.com/msas/mobile/getMobileServiceNo.do","手机服务号码"],myresume:["http://resume.$fullDomain$/huntjob/old/fistdo.do","简历中心"],upgradeunlimit:["http://autoupg.$fullDomain$/upgrade-capacity/upgrade.do?type=infinite&from=webmail"],mobile_set:["http://e.$fullDomain$/mobilemail/inner2/home.do","手机号码邮箱"],recommend_app:["http://$host$/app/appcenter/main.jsp?sid=$sid$","应用中心"],appcenter_privilege:['http://$host$/app/appcenter/main.jsp?sid=$sid$#module=outlink.OutlinkModule|{"key":"privilege","title":"","group":"privilege"}',"应用中心"],msgcenter:["http://$host$/app/msgcenter/main.jsp","消息中心"],getPhone:["http://security.$fullDomain$/mobileserv/getPhoneNumber.do","获取帐号绑定手机"],ecardList:["http://ecard.$fullDomain$/ecard/api/list.do","获取电子名片"],ecardSetDefault:["http://ecard.$fullDomain$/ecard/api/setDefault.do","设置默认电子名片"],cityMap:["http://mimg.127.net/p/js6/lib/js/citylist.js","城市信息"],weather:["http://weather.mail.163.com/weather/xhr/weather/info.do","天气接口"],feedback:["http://help.mail.163.com/feedback.do?m=add&categoryName=%e6%9e%81%e9%80%9f6.0","意见反馈"],faceauth:["http://faceauth.$fullDomain$/faceauth/index.do","人脸识别"],pop3_skip_info:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac28b7a41b4d9a69196"],what_is_pop:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2929d9b17dd0dc3b1"],font_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac20c98887ebe358a06"],compose_sms_help:["http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac2279f719127a68ac3"],urs_setting_phone:["http://reg.163.com/mibao/controller/mob/bindsubmit.jsp?noheader=1"],urs_update_phone:["http://reg.163.com/mibao/controller/mob/replace.jsp?noheader=1"],welcome_club:["http://$host$/app/jifen/wel_js6.jsp","积分获取"],welcome_constellation:["http://yuehui.163.com/activities/constellationajax.do","星座获取"],happy_time:["http://3g.163.com/ntes/special/003406KF/mailapp-funtime-latest.html","轻松一刻"],mobile_bind_send:["https://ssl.mail.163.com/security.mail.163.com/mobileserv/scodeSend.do","绑定手机号码下发短信验证"],mobile_bind_verify:["https://ssl.mail.163.com/security.mail.163.com/mobileserv/scodeValidate.do","验证绑定手机号码"],mailarchive_get:["http://config.$fullDomain$/settings/mailarchive/query.do","邮件归档"],mailarchive_set:["http://config.$fullDomain$/settings/mailarchive/set.do","邮件归档设置"],read_courseassist:["http://course.mail.163.com/courseassist/ajax/student/verifyURL.do"],savetonf_sub:["http://nf.$fullDomain$/netfolder/service?op=saveAttachment"],savetonf_new:["http://$host$/app/wp/tree_new.jsp"],privileges_product:["http://pay.mail.163.com/mpay/mailpay/prdinfo.m","邮箱特权商品"],privileges_buy:["http://pay.mail.163.com/mpay/#page=pay","购买入口"],privileges_buy_record:["http://pay.mail.163.com/mpay/mailpay/payrecd.mx","购买结果查询"],privileges_cloudFile:["http://$host$/filehub/bg/user","云附件接口"],privileges_expire:["http://pay.mail.163.com/mpay/mailpay/prdexptime.mx"],welcome_lofter:["http://www.lofter.com/newNotice.do","lofter接口"],options_updateVip:["http://activity.vip.163.com/activity/redirect_ug.html?from=freeshezhi","升级到vip邮箱"],option_mailfilter_fw:["http://config.$fullDomain$/settings/filterfw/prepareSMS.do?filter=1&sid=$sid$&uid=$uid$","来信分类转发验证(免费邮)或激活(vip)"],option_authCode:["http://config.$fullDomain$/settings/freeAuthCodeIndex.jsp","客户端授权密码"],smsPushVerifyCode:["http://msas.mail.163.com/msas/verifymsg/vsmspush.do","下发认证短信"],smsVerifyCode:["http://msas.mail.163.com/msas/verifymsg/vsmsverify.do","验证认证短信"],autoForward:["http://config.$fullDomain$/settings/fw/prepareSMS.do","设置自动转发"],welcome_noAd:["http://vip.163.com/xm/green/","欢迎页无广告"],kaola_fixtab:["http://www.kaola.com/indexIframe.html?__da_gv3kdY_HssOaY"],xiupin_fixtab:["http://www.xiupin.com/?__da_hBbVoI_FJPAGB"],yanxuan_fixtab:["http://you.163.com/?from=web_in_morenye"],62001:["http://pin.mail.163.com?utm_source=webmail&utm_medium=tab"],152000:["http://pin.mail.163.com?utm_source=webmail&utm_medium=tab"],yxds_sms_send:["http://smsspub.$fullDomain$/mobileserv/fsms.do?product=mailmasterhp&template=ds75"],yxds_sms_verify:["http://smsspub.$fullDomain$/mobileserv/verifyCodeImg.jsp"],super_member:["https://v.mail.163.com/?from="]}})}($,window),function(){$G.set("topNavConf",[])}($,window),function(a,b){$G.set("topSkinConf",{items:[{img:"http://mimg.127.net/ggimg/all/img19/150820_js6_157x70.jpg",title:"纯净邮箱",value:-1,type:"big"},{value:96,img:"http://mimg.127.net/ggimg/all/img18/130103_js6skin_2.jpg"},{value:42,img:"http://mimg.127.net/ggimg/all/img18/130103_js6skin_3.jpg"},{value:51,img:"http://mimg.127.net/ggimg/all/img18/130103_js6skin_4.jpg"},{value:16,img:"http://mimg.127.net/ggimg/all/img18/130103_js6skin_5.jpg"},{value:15,img:"http://mimg.127.net/ggimg/all/img18/130103_js6skin_6.jpg"}]}),$G.set("topNavConf",[{disable:function(){return!0},tabIndex:-1,cls:"pm1 hM1",icon:"phone",click:function(){a.Nav.entry("OptionInterface",{module:"LinkModule",linkName:"mobile_set_option"})},onRender:function(){var b=this.getDom(),c=a.SenderList.getMobile()?"手机号码邮箱"+a.SenderList.getMobile()+"收信有免费短信通知":"一箱双号，使用“手机号码@"+$S("domain")+"”也能登录和收发邮件！";b.firstChild.setAttribute("title",c)}},{text:"手机版",split:"before",tabIndex:-1,mouseover:function(c){b.setTimeout(function(){if(0===a.Ud.get({field:"ntes_contact",flag:"TopNavMasterMailTips"})-0){var d=a(c);b.gMasterMailTips=new a.Layer({uniqueLayer:!0,content:'<div class="APP-dashi-topTips-tit">网易18年最新力作——邮箱大师</div><ul class="APP-dashi-topTips-list"><li class="APP-dashi-topTips-list-item">免费邮件实时提醒</li><li class="APP-dashi-topTips-list-item">电脑手机操作同步</li><li class="APP-dashi-topTips-list-item">密保安全又省流量</li><li class="APP-dashi-topTips-list-item">同时管理多个邮箱</li></ul><a class="APP-dashi-topTips-more" href="javascript:;" onclick="window.open(\'http://mail.163.com/client/dl.html?from=mail25\');gMasterMailTips.fire(\'closeclick\', \'more\')" title="了解更多"></a></div>',params:"hasArr arrTop hasClose",extcls:"APP-dashi-topTips",doNotHide:!0,pointTo:d,listeners:{closeclick:function(c){a.Ud.set({field:"ntes_contact",flag:"TopNavMasterMailTips",value:"1"}),b.gMasterMailTips.destroy(),"more"===c?a.Log.cache({TopNavMailMasterMoreClick:1}):a.Log.cache({TopNavMailMasterCloseClick:1})}}}),b.gMasterMailTips.render(),a.Log.cache({TopNavMailMasterShow:1})}},200)},click:function(){a.Log.cache({TopNavMailMasterClick:1}),b.open("http://mail.163.com/client/dl.html?from=mail25")}},{text:"升级VIP",split:"before",tabIndex:-1,click:function(){a.Log.cache({TopNavUpgradeVipClick:1}),b.open("http://reg.vip.163.com/register.m?from=mailtop#tab=upgrade")},cls:"highlight"},{text:"升级服务",showArrow:!0,split:"before",tabIndex:-1,logName:"upgradeService",onRender:function(){$S("TopNavUpgradeServiceCmpt",this)},menu:{extcls:"sC0",groups:[{items:[{text:"积分俱乐部",click:function(){b.open("http://club.mail.163.com/jifen/index.do"),a.Log.cache({TopNavJifenClubClick:1})}}]},{items:[{text:"安全升级",click:function(){b.open(a.Uri.getUrl("urs_security_upgrade",!0)+"?from=mail_safeup1","_blank"),a.Log.cache({TopNavSettingUrsSecurityUpgrade:1})}},{text:"升级VIP邮箱",icon:"vip-color",click:function(){b.open(a.Uri.getUrl("vip_upgrade",!0)+"set","_blank"),a.Log.cache({TopNavSettingVipUpgrade:1})}},{text:"网易超级会员",icon:{url:"https://mimg.127.net/ggimg/all/img19/170417_super_vip_color_small.png",onRender:function(){var a=this.el;a&&a.css({width:"14px",height:"14px"})}},click:function(){b.open(a.Uri.getUrl("super_member",!0)+"upgrade","_blank"),a.Log.cache({TopNavSettingSuperMember:1})}},{text:"开通网易公正邮",icon:"hammer",click:function(){b.open("http://gzy.mail.163.com/?from=shezhi","_blank"),a.Log.cache({TopNavSettingJudgeMail:1})}},{text:"手机号码邮箱",click:function(){a.Nav.entry("OptionInterface",{module:"LinkModule",linkName:"mobile_set_option"}),a.Log.cache({TopNavSettingMobileMail:1})}},{text:"帐号通",click:function(){$E("interface.OutlinkInterface",function(a){a.goOutlink({key:"apps_accounts",title:"帐号通",pureUrl:!0,fullScreen:!0})}),a.Log.cache({TopNavAccountLink:1})}},{text:"邮箱特权",menu:{groups:[{items:[{text:"误删恢复",click:function(){a.AppCenterInterface.entry({name:"appcenter_privilege"}),a.Log.cache({TopNavSettingPrivilegeRecover:1})}},{text:"延长云附件存放期",click:function(){a.AppCenterInterface.entry({name:"appcenter_privilege"}),a.Log.cache({TopNavSettingPrivilegDisk:1})}}]}],listeners:{show:function(){a.Log.cache({TopNavSettingMoreServiceShow:1})}}}},{text:"更多升级服务",menu:{groups:[{items:[{text:"网盘升级计划",click:function(){$E("product.FileCenter",function(a){a.entry("file_center",{hash:"user/fsupload"})}),a.Log.cache({TopNavSettingDiskUpgrade:1})}},{text:"他域邮件监测",click:function(){$E("interface.OutlinkInterface",function(a){a.goOutlink({key:"domainstat",showDefTree:!0})}),a.Log.cache({TopNavSettingMailChecking:1})}}]}],listeners:{show:function(){a.Log.cache({TopNavSettingMoreServiceShow:1})}}}},{text:'一起拼<b style="float:none;margin:7px 0 0 4px;vertical-align:top;" class="nui-ico nui-ico-new"></b>',split:"before",click:function(){a.AppCenterInterface.gotoYiqipin("otherProductIntro"),a.Log.cache({TopNavSettingYiqiPinLink:1})}},{text:"易商城",click:function(){a.AppCenterInterface.gotoApp(143002),a.Log.cache({TopNavSettingDuobaoLink:1})}},{text:"网易严选",click:function(){$E("interface.OutlinkInterface",function(a){a.goOutlink({key:"yanxuan_fixtab",title:"网易严选",fullScreen:!0,group:"yanxuan_fixtab",url:"http://you.163.com/?from=web_in_morenye"})}),a.Log.cache({TopNavSettingYanxuanLink:1})}},{text:"网易有钱",click:function(){b.open("http://u.163.com/youqian40","_blank"),a.Log.cache({TopNavSettingYouqianLink:1})}},{text:"轻松一刻",click:function(){$I("init.CustomAppManager").startApp({name:"123000",appId:123e3,text:"轻松一刻",key:"happy_time"}),a.Log.cache({TopNavSettingQingsongLink:1})}},{text:"更多网易产品服务",menu:{groups:[{items:[{text:"网易CC",click:function(){a.AppCenterInterface.gotoApp(149e3),a.Log.cache({TopNavSettingCCLink:1})}},{text:"云阅读",click:function(){a.AppCenterInterface.gotoApp(7),a.Log.cache({TopNavSettingReadLink:1})}}]}],listeners:{show:function(){a.Log.cache({TopNavSettingMoreNtesProductShow:1})}}}}]}]}},{text:"设置",title:"邮箱设置",showArrow:!0,split:"before",tabIndex:-1,logName:"setting",onRender:function(){$S("TopNavSettingCmpt",this)},menu:{extcls:"sC0",groups:[{items:[{text:"常规设置",icon:"setting",click:function(){$E("interface.OptionInterface",function(a){a.entry()}),a.Log.cache({TopNavSettingGoOption:1})}},{text:"邮箱密码修改",split:"before",click:function(){b.open("https://reg.163.com/setinfo/ChangePwd_1.jsp","_blank"),a.Log.cache({TopNavSettingPasswordLink:1})}},{text:"帐号与邮箱中心",click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"options.AccountCenterModule"})}),a.Log.cache({TopNavSettingAccountCenterLink:1})}},{text:"邮箱安全设置",click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"options.MailSecurityModule"})}),a.Log.cache({TopNavSettingSecurityLink:1})}},{text:"手机服务",click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"mobile_browser",link:"opt_mobileBrowser"})}),a.Log.cache({TopNavSettingMobileService:1})}},{text:"POP3/SMTP/IMAP",click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"options.LinkModule",link:"option_pop3"})}),a.Log.cache({TopNavSettingPOP3Link:1})}},{text:"换肤",icon:"skin",click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"options.SkinModule"})}),a.Log.cache({TopNavSettingMoreTheme:1})}}]},{items:[{extcls:"pe0",subclass:"pureItem",onRender:function(){var b,c=this.getEl(),d=$G.get("topSkinConf").items,e=["<div>"];a.Array.each(d,function(c,d){b="big"===d.type?'<div class="fg0"><img src="{0}"><span class="jd0"><b class="gG0"></b><span class="fW0">{1}</span></span></div>':"",b=a.Support.format(b,d.img,d.title||"",d.more||""),e.push(a.Component.html({html:b,listeners:{click:{handler:function(){var b=d.value;a.Support.changeTheme(b),a.Log.cache({TopNavSettingThemeClick:c})}}}}))}),e.push("</div>"),c.html(e.join("")),a.Component.setEvents()}}]}]}},{text:"帮助",split:"before",tabIndex:-1,showArrow:!0,logName:"serviceCenter",menu:{extcls:"sC0",groups:[{items:[{text:"邮箱帮助",click:function(){b.open(a.Uri.getUrl("help")),a.Log.cache({TopNavSettingHelpMailHelp:1})}}]},{items:[{text:"意见反馈",icon:"feedBack-l",click:function(){b.open("http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac26a9fce45e613cae8"),a.Log.cache({TopNavSettingFeedback:1})}},{text:"自助查询",click:function(){b.open("http://"+$G.environment.host+"/app/service/index.jsp?sid="+$G.user.sid),a.Log.cache({TopNavSettingHelpAutoQuery:1})}},{text:"常见问题解答",click:function(){b.open(" http://help.mail.163.com/faqDetail.do?code=d7a5dc8471cd0c0e8b4b8f4f8e49998b374173cfe9171305fa1ce630d7f67ac24ebe7a3165848018"),a.Log.cache({TopNavSettingHelpFaq:1})}},{text:"邮箱6.0版介绍",click:function(){b.open("http://mail.163.com/html/ntesmail6/"),a.Log.cache({TopNavSettingHelpMailIntro:1})}},{text:"官方博客",click:function(){b.open("http://mail.blog.163.com/"),a.Log.cache({TopNavSettingHelpOfficialBlog:1})}},{text:"官方微博",click:function(){b.open("http://weibo.com/163email"),a.Log.cache({TopNavSettingHelpOfficialWeibo:1})}}]}]}},{text:"公正邮",split:"before",tabIndex:-1,click:function(){a.AppCenterInterface.gotoApp(147e3),a.Log.cache({TopNavJudgeMailLink:1})},onRender:function(){var c=this;c.hide(),c.el.pre().hide(),$S("navJudgeMailEl",this.getEl());var d=function(c){b.setTimeout(function(){var d=!0;try{if(c){var e=a.Cookie.get("JudgeMailOverdueTipsClose")-0;if(e)return;var f=a.Cookie.get("JudgeMailOverdueTipsTimes")-0;if(f>=3)return;a.Cookie.set("JudgeMailOverdueTipsTimes",f+1,{path:"/",expires:7,domain:$S("fullDomain")})}else{var g=a.Cookie.get("JudgeMailPayTipsTime")-0,h=new Date(g),i=24,j=(new Date-h)/36e5;if(i>j)return d=!1,void 0}}catch(k){}if(d){var l=$S("navJudgeMailEl"),m="即将到期";c&&(m="<strong>已经过期</strong>"),b.gJudgeMailPayTips=new a.Layer({uniqueLayer:!0,width:"210px",content:"<div>公正邮服务"+m+"，请及时续费，否<br>则会影响您的存证信息&nbsp;&nbsp;<a href=\"javascript:void(0)\" class=\"nui-txt-link\" onclick=\"window.open('http://pay.mail.163.com/mpay/#page=pay&gid=1&from=freedaohang', '_blank');gJudgeMailPayTips.fire('closeclick')\">立即续费&gt;&gt;</a></div>",params:"hasArr arrTop hasClose",doNotHide:!0,pointTo:l,listeners:{closeclick:function(){c?a.Cookie.set("JudgeMailOverdueTipsClose",1,{path:"/",expires:360,domain:$S("fullDomain")}):a.Cookie.set("JudgeMailPayTipsTime",(new Date).valueOf(),{path:"/",expires:7,domain:$S("fullDomain")}),b.gJudgeMailPayTips.destroy()}}}),a.Ext.yixin_im?a.Listener.listen("plugin:yixin_loaded",function(){b.setTimeout(function(){b.gJudgeMailPayTips.render()},5e3)}):b.setTimeout(function(){b.gJudgeMailPayTips.render()},2e3)}},3e3)},e=function(b){if(b&&200===b.code-0&&(c.show(),c.el.pre().show(),a.Cookie.set("JudgeMailNavLinkShow",1,{path:"/",expires:365,domain:$S("fullDomain")})),b.overdue_time){var e=b.overdue_time-0,f=(new Date).valueOf(),g=f-e;if(e>0)if(g>0)d(!0);else{var h=6048e5;h+g>0&&d(!1)}}};$S("clientWidth")>1086&&a.Ud.getProxy({field:"product.notary.userpro",call:function(b){if(b&&1===b["product.notary.userpro"]-0)try{var c="http://notary."+$S("fullDomain")+"/vipnotaryapp/queryUserInfo.m";a.Ajax.jsonp(c,function(a){e(a)},"callback")}catch(d){}}})}},{text:"退出",split:"before",click:function(){a.Log.cache({TopNavLogout:1}),$I("util.Misc").logout()}}])}($,window),function(){$G.set("multiTabConf",[])}($,window),function(a){var b=[{tabid:"t0",nonClose:!0,module:"welcome.WelcomeModule",param:{},name:"home",text:"首页",def:"standard"===$G.mailPattern.currentPattern,display:1,active:function(a){return"welcome.WelcomeModule"===a.mtype?!0:void 0}},{tabid:"t1",module:"contact.ContactModule",display:1,param:{},nonClose:!0,text:"通讯录",name:"address",icon:"address"},{name:"recommend_app",tabid:"t2",text:"应用中心",display:1,group:"appMoudle",nonClose:!0,icon:"app",fullScreen:!0,onRender:function(){}},{tabid:"t3",nonClose:!0,module:"mbox.ListModule",param:{fid:1},def:"student"===$G.mailPattern.currentPattern,display:1,text:"收件箱",icon:"inbox",name:"inbox",group:"mbox.ListModule",entry:function(){$E("interface.MboxInterface",function(a){a.entry({fid:1})})}},{tabid:"t10",name:"pin_fixtab",isPromoteTab:1,text:"一起拼",display:1,icon:"pin163",fullScreen:!0,module:"outlink.OutlinkModule",param:{key:"pin_fixtab"},group:location.host.indexOf("o.mail")>-1||location.host.indexOf("d.mail")>-1?62001:152e3,entry:function(){a.AppCenterInterface.gotoYiqipin("tab")},onRender:function(){var b=a.Misc.getTime();new Date(2016,10,25,0)>b||this.getEl().append('<div class="nui-tabs-item-status" style="right: 15%;top:3px;"><b class="nui-ico" style="background-image: url(http://mimg.127.net/ggimg/all/img19/170323_qiangxin.png);width: 25px;height: 16px;"></b></div>')}},{tabid:"t21",name:"kaola_fixtab",isPromoteTab:1,isTempPromoteTab:1,promoteConfig:{hiddenCloseMsg:1,hiddenIntervalInHour:144,removeTimes:3},text:"考拉海购",display:1,icon:"kaola",fullScreen:!0,module:"outlink.OutlinkModule",param:{key:"kaola_fixtab"},group:"kaola_fixtab",entry:function(){$E("interface.OutlinkInterface",function(b){b.goOutlink({key:"kaola_fixtab",title:"考拉海购",fullScreen:!0,group:"kaola_fixtab",url:"http://global.163.com/urs/redirect.html?target="+encodeURIComponent(a.Uri.getUrl("kaola_fixtab"))})})}},{tabid:"t14",name:"yanxuan_fixtab",isPromoteTab:1,promoteConfig:{hiddenCloseMsg:1},text:"网易严选",display:1,icon:"yanxuan",fullScreen:!0,module:"outlink.OutlinkModule",param:{key:"yanxuan_fixtab"},group:"yanxuan_fixtab",entry:function(){$E("interface.OutlinkInterface",function(b){b.goOutlink({key:"yanxuan_fixtab",title:"网易严选",fullScreen:!0,group:"yanxuan_fixtab",url:a.Uri.getUrl("yanxuan_fixtab")})})},onRender:function(){var b=a.Misc.getTime();new Date(2017,4,12,0)>b||new Date(2017,4,24,0)<b||this.getEl().find(".nui-ico-new")||this.getEl().append('<div class="nui-tabs-item-status" style="right: 14%;top: 3px;"><b class="nui-ico" style="background-image: url(http://mimg.127.net/ggimg/all/img19/170510_yx520.png);width: 20px;height: 16px;"></b></div>')}},{tabid:"t12",name:"xiupin_fixtab",isPromoteTab:1,text:"网易秀品",display:0,icon:"xiupin",fullScreen:!0,module:"outlink.OutlinkModule",param:{key:"xiupin_fixtab"},group:"xiupin_fixtab",entry:function(){$E("interface.OutlinkInterface",function(b){b.goOutlink({key:"xiupin_fixtab",title:"网易秀品",fullScreen:!0,group:"xiupin_fixtab",url:"http://paopao.163.com/authAndRedirect?redirectURL="+encodeURIComponent(a.Uri.getUrl("xiupin_fixtab"))})})}}];$G.set("multiTabConf",b)}($,window),function(){$G.set("dockConf",[])}($,window),function(){var a=[{icon:"mailcenter",display:0,id:"m5",isModule:!0,text:"邮箱中心",defaultIcon:!1},{icon:"lab",display:0,id:"m4",isModule:!0,text:"实验室",defaultIcon:!1},{icon:"app",display:0,id:"m3",isModule:!0,text:"应用中心",defaultIcon:!1},{icon:"address",display:0,id:"m2",isModule:!0,text:"通讯录",defaultIcon:!1},{icon:"inbox",display:0,id:"m6",isModule:!0,text:"收件箱",defaultIcon:!1},{icon:"home",display:0,id:"m0",isModule:!0,text:"首页",defaultIcon:!1},{icon:"netfolder",display:1,id:1,isModule:!0,name:"nf_center",text:"网盘",defaultIcon:!0},{icon:"compose",display:1,id:"m1",isModule:!0,text:"写信",defaultIcon:!0},{icon:"shouji",display:1,id:"m8",isModule:!0,text:"手机号码邮箱",defaultIcon:!1},{icon:"weibo",display:0,id:5,isModule:!1,text:"网易微博",defaultIcon:!0},{icon:"club",display:0,id:35,defaultIcon:!0},{icon:"resume",display:0,id:2,defaultIcon:!0},{icon:"stamp",display:0,id:37,defaultIcon:!0},{icon:"postcard",display:0,id:3,defaultIcon:!0},{icon:"card",display:0,id:4,defaultIcon:!0}];location.href.indexOf("yeah.net")>-1&&a.splice(14,1),$G.set("dockConf",a)}($,window),function(){var a={},b={},c={};$G.set("customConf",a),$G.set("appsIconConf",b),$G.set("appIdToAppCenter",c)}($,window),function(){var a={"163.com":[{name:"club",id:18,text:"用户俱乐部",def:!0,listen:!0,display:1},{name:"nf_center",id:115,text:"网盘",def:!0,display:1,lockid:"nf"},{name:"myresume",id:13,text:"简历中心",def:!0,listen:!0,display:1},{name:"schedule",id:122,text:"日程管理",def:!0,display:1},{name:"stamp_album",id:4,text:"集邮中心",def:!0,display:1},{name:"read_postcard",id:7,text:"明信片",def:!0,display:1},{name:"cards_read",id:8,text:"邮箱贺卡",def:!0,display:1},{name:"weibo",id:22,text:"网易微博",def:!0,display:1},{name:"myblog",id:3,text:"记事本",def:!1,lockid:"ntes_notebook",display:0},{name:"reader",id:5,text:"网易云阅读",def:!1},{name:"music_outlink",id:10,text:"邮箱音乐盒",def:!1},{name:"gift",id:12,text:"礼物",def:!1},{name:"name_card",id:14,text:"电子名片",def:!1},{name:"subscribe",id:16,text:"更新通知",def:!1},{name:"apps_calendar",id:102,text:"万年历",def:!1},{name:"apps_calc",id:103,text:"万用计算器",def:!1},{name:"apps_money",id:104,text:"理财易",def:!1},{name:"apps_idiomdict",id:105,text:"成语词典",def:!1},{name:"apps_fest",id:106,text:"节日一览表",def:!1},{name:"apps_dynastytable",id:107,text:"中国朝代表",def:!1},{name:"apps_travelguide",id:108,text:"出国游指南",def:!1},{name:"apps_cookbook",id:109,text:"家常菜谱",def:!1},{name:"apps_psychometry",id:110,text:"心理测试",def:!1},{name:"apps_serialstory",id:111,text:"小说连载",def:!1},{name:"apps_constellation",id:112,text:"星座",def:!1},{name:"apps_games",id:114,text:"游戏天地",def:!1},{name:"sms",id:117,text:"随身邮",def:!1},{name:"free_sms",id:118,text:"免费短信通知",def:!1,listen:!0},{name:"apps_train",id:119,text:"火车票查询",def:!1},{name:"apps_quan",id:120,text:"网易优惠券",def:!1},{name:"apps_charge",id:121,text:"充值中心",def:!1},{name:"apps_chexian",id:124,text:"保险-车险",def:!1},{name:"apps_openclass",id:125,text:"网易公开课",def:!1},{name:"apps_caipiao",id:126,text:"网易彩票",def:!1},{name:"apps_baojian",id:127,text:"网易保健品",def:!1},{name:"apps_huihui",id:128,text:"惠惠网",def:!1},{name:"apps_snake",id:129,text:"贪吃蛇2013",def:!1},{name:"apps_gentie",id:131,text:"网易跟贴",def:!1},{name:"apps_yuehui",id:132,text:"同城约会",def:!1},{name:"apps_cai",id:133,text:"财易通",def:!1}],"126.com":[{name:"club",id:18,text:"用户俱乐部",def:!0,listen:!0,display:1},{name:"nf_center",id:115,text:"网盘",def:!0,display:1},{name:"myresume",id:13,text:"简历中心",def:!0,listen:!0,display:1},{name:"schedule",id:122,text:"日程管理",def:!0,display:1},{name:"stamp_album",id:3,text:"集邮中心",def:!0,display:1},{name:"read_postcard",id:6,text:"明信片",def:!0,display:1},{name:"cards_read",id:7,text:"邮箱贺卡",def:!0,display:1},{name:"weibo",id:22,text:"网易微博",def:!0,display:1},{name:"myblog",id:5,text:"记事本",def:!1,lockid:"ntes_notebook"},{name:"music_outlink",id:8,text:"邮箱音乐盒",def:!1},{name:"gift",id:10,text:"礼物",def:!1},{name:"name_card",id:14,text:"电子名片",def:!1},{name:"subscribe",id:16,text:"更新通知",def:!1},{name:"apps_calendar",id:102,text:"万年历",def:!1},{name:"apps_calc",id:103,text:"万用计算器",def:!1},{name:"apps_money",id:104,text:"理财易",def:!1},{name:"apps_idiomdict",id:105,text:"成语词典",def:!1},{name:"apps_fest",id:106,text:"节日一览表",def:!1},{name:"apps_dynastytable",id:107,text:"中国朝代表",def:!1},{name:"apps_travelguide",id:108,text:"出国游指南",def:!1},{name:"apps_cookbook",id:109,text:"家常菜谱",def:!1},{name:"apps_psychometry",id:110,text:"心理测试",def:!1},{name:"apps_serialstory",id:111,text:"小说连载",def:!1},{name:"apps_constellation",id:112,text:"星座",def:!1},{name:"apps_games",id:114,text:"游戏天地",def:!1},{name:"reader",id:123,text:"网易云阅读",def:!1},{name:"sms",id:117,text:"随身邮",def:!1},{name:"free_sms",id:118,text:"免费短信通知",def:!1,listen:!0},{name:"apps_train",id:119,text:"火车票查询",def:!1},{name:"apps_quan",id:120,text:"网易优惠券",def:!1},{name:"apps_charge",id:121,text:"充值中心",def:!1},{name:"apps_chexian",id:124,text:"保险-车险",def:!1},{name:"apps_openclass",id:125,text:"网易公开课",def:!1},{name:"apps_caipiao",id:126,text:"网易彩票",def:!1},{name:"apps_baojian",id:127,text:"网易保健品",def:!1},{name:"apps_huihui",id:128,text:"惠惠网",def:!1},{name:"apps_snake",id:129,text:"贪吃蛇2013",def:!1},{name:"apps_gentie",id:131,text:"网易跟贴",def:!1},{name:"apps_yuehui",id:132,text:"同城约会",def:!1},{name:"apps_cai",id:133,text:"财易通",def:!1}],"yeah.net":[{name:"club",id:18,text:"用户俱乐部",def:!0,listen:!0,display:1},{name:"nf_center",id:115,text:"网盘",def:!0,display:1},{name:"myresume",id:13,text:"简历中心",def:!0,listen:!0,display:1},{name:"schedule",id:122,text:"日程管理",def:!0,display:1},{name:"read_postcard",id:4,text:"明信片",def:!0,display:1},{name:"cards_read",id:5,text:"邮箱贺卡",def:!0,display:1},{name:"weibo",id:22,text:"网易微博",def:!0,display:1},{name:"name_card",id:100,text:"电子名片",def:!1},{name:"myblog",id:2,text:"记事本",def:!1,lockid:"ntes_notebook"},{name:"gift",id:7,text:"礼物",def:!1},{name:"subscribe",id:8,text:"更新通知",def:!1},{name:"apps_calendar",id:102,text:"万年历",def:!1},{name:"apps_calc",id:103,text:"万用计算器",def:!1},{name:"apps_money",id:104,text:"理财易",def:!1},{name:"apps_idiomdict",id:105,text:"成语词典",def:!1},{name:"apps_fest",id:106,text:"节日一览表",def:!1},{name:"apps_dynastytable",id:107,text:"中国朝代表",def:!1},{name:"apps_travelguide",id:108,text:"出国游指南",def:!1},{name:"apps_cookbook",id:109,text:"家常菜谱",def:!1},{name:"apps_psychometry",id:110,text:"心理测试",def:!1},{name:"apps_constellation",id:112,text:"星座",def:!1},{name:"apps_games",id:114,text:"游戏天地",def:!1},{name:"reader",id:123,text:"网易云阅读",def:!1},{name:"music_outlink",id:130,text:"邮箱音乐盒",def:!1},{name:"sms",id:117,text:"随身邮",def:!1},{name:"free_sms",id:118,text:"免费短信通知",def:!1,listen:!0},{name:"apps_train",id:119,text:"火车票查询",def:!1},{name:"apps_quan",id:120,text:"网易优惠券",def:!1},{name:"apps_charge",id:121,text:"充值中心",def:!1},{name:"apps_chexian",id:124,text:"保险-车险",def:!1},{name:"apps_openclass",id:125,text:"网易公开课",def:!1},{name:"apps_caipiao",id:126,text:"网易彩票",def:!1},{name:"apps_baojian",id:127,text:"网易保健品",def:!1},{name:"apps_huihui",id:128,text:"惠惠网",def:!1},{name:"apps_snake",id:129,text:"贪吃蛇2013",def:!1},{name:"apps_gentie",id:131,text:"网易跟贴",def:!1},{name:"apps_yuehui",id:132,text:"同城约会",def:!1},{name:"apps_cai",id:133,text:"财易通",def:!1}]},b={myblog:{icon:"notepad",defaultIcon:!1},cards_read:{icon:"card",defaultIcon:!0},read_postcard:{icon:"postcard",defaultIcon:!0},reader:{icon:"ntesreader",defaultIcon:!1},music_outlink:{icon:"music",defaultIcon:!1},nf_center:{icon:"netfolder",defaultIcon:!0},myresume:{icon:"resume",defaultIcon:!0},sms:{icon:"phonemail",defaultIcon:!1},free_sms:{icon:"message",defaultIcon:!1},apps_calendar:{icon:"calendar",defaultIcon:!1},apps_calc:{icon:"calc",defaultIcon:!1},apps_money:{icon:"money",defaultIcon:!1},apps_idiomdict:{icon:"idiomdict",defaultIcon:!1},apps_fest:{icon:"festivaltable",defaultIcon:!1},apps_dynastytable:{icon:"dynastytable",defaultIcon:!1},apps_train:{icon:"huoche",defaultIcon:!1},name_card:{icon:"ecard",defaultIcon:!1},apps_travelguide:{icon:"travelguide",defaultIcon:!1},apps_cookbook:{icon:"cookbook",defaultIcon:!1},apps_openclass:{icon:"openclass",defaultIcon:!1},apps_psychometry:{icon:"psychometry",defaultIcon:!1},apps_serialstory:{icon:"serialstory",defaultIcon:!1},apps_constellation:{icon:"constellation",defaultIcon:!1},apps_blog:{icon:"blog",defaultIcon:!1},apps_games:{icon:"games",defaultIcon:!1},apps_quan:{icon:"quan",defaultIcon:!1},apps_charge:{icon:"ntescharge",defaultIcon:!1},apps_chexian:{icon:"chexian",defaultIcon:!1},club:{icon:"club",defaultIcon:!0},weibo:{icon:"weibo",defaultIcon:!0},stamp_album:{icon:"stamp",defaultIcon:!0},apps_caipiao:{icon:"caipiao",defaultIcon:!1},apps_baojian:{icon:"baojian",defaultIcon:!1},apps_huihui:{icon:"huihui",defaultIcon:!1},apps_snake:{icon:"snake",defaultIcon:!1},apps_gentie:{icon:"gentie",defaultIcon:!1},apps_yuehui:{icon:"yuehui",defaultIcon:!1},apps_cai:{icon:"cai",defaultIcon:!1}},c={"163.com":{18:"35",115:"1",13:"2",122:"36",4:"37",7:"3",8:"4",22:"5",3:"6",2:"",5:"7",9:"",10:"8",12:"38",14:"9",16:"39",102:"10",103:"11",104:"12",105:"13",106:"14",107:"15",108:"16",109:"17",110:"18",111:"19",112:"20",113:"",114:"21",116:"",117:"22",118:"23",119:"24",120:"25",121:"26",124:"40",125:"27",126:"28",127:"29",128:"30",129:"31",131:"32",132:"33",133:"34"},"126.com":{18:"35",115:"1",13:"2",122:"36",3:"37",6:"3",7:"4",22:"5",5:"6",2:"",123:"7",11:"",8:"8",10:"38",14:"9",16:"39",102:"10",103:"11",104:"12",105:"13",106:"14",107:"15",108:"16",109:"17",110:"18",111:"19",112:"20",113:"",114:"21",116:"",117:"22",118:"23",119:"24",120:"25",121:"26",124:"40",125:"27",126:"28",127:"29",128:"30",129:"31",131:"32",132:"33",133:"34"},"yeah.net":{18:"35",115:"1",13:"2",122:"36",4:"3",5:"4",22:"5",2:"6",1:"",123:"7",11:"",130:"8",7:"38",100:"9",8:"39",102:"10",103:"11",104:"12",105:"13",106:"14",107:"15",108:"16",109:"17",110:"18",111:"19",112:"20",113:"",114:"21",116:"",117:"22",118:"23",119:"24",120:"25",121:"26",124:"40",125:"27",126:"28",127:"29",128:"30",129:"31",131:"32",132:"33",133:"34"}};
$G.set("customConf",a),$G.set("appsIconConf",b),$G.set("appIdToAppCenter",c)}($,window),function(){$G.set("mailMasterPromoteConf",{mainLink:"http://u.163.com/gift?from=tanchu",iOSLink:"http://mail.163.com/client/dl.html?from=mail1",andriodLink:"http://mail.163.com/client/dl.html?from=mail1",wrapperStyle:"height:100px;background-color:#3b84c0;",contentStyle:"background-image:url(http://res.126.net/p/dbqb/resupload/onlinepath/2015/3/5/1/8cfd434e07a5b30b7f0cbef57cf72698.gif);height:100%;",mainStyle:"display:block;width:660px;height:100%;position: absolute;top:0;left:50%;margin-left:-480px;",iOSStyle:"display:block;width:115px;height:31px;position: absolute;top:32px;left:50%;margin-left:294px;",andriodStyle:"display:block;width:115px;height:31px;position: absolute;top:63px;left:50%;margin-left:294px;"})}($,window),function(a,b,c){$G.set("navConf",{top:{html:'<ul class="tJ0"></ul>',items:[{html:'<li class="ra0 nb0" tabindex="0" role="button" hidefocus="hidefocus"><span class="om0"><b class="nui-ico fn-bg hC0"></b></span><span class="oz0">收 信</span></li>',listeners:{mouseover:{handler:function(){a(this).addClass("gr0")}},mouseout:{handler:function(){a(this).removeClass("gr0")}},mousedown:{handler:function(){var b=a(this);b&&(b.removeClass("gr0"),b.addClass("gd0"))}},mouseup:{handler:function(){var b=a(this);b&&(b.removeClass("gd0 gu0"),b.addClass("gr0")),a.Nav.focus(!0)}},click:{handler:function(){$E("interface.MboxInterface",function(a){a.entry({fid:1},{receive:!0})}),a.Log.cache({LeftNavRecieveMailClick:1})}},keyup:{handler:function(b){13===b.keyCode&&($E("interface.MboxInterface",function(a){a.entry({fid:1},{receive:!0})}),a.Event.fire(this,"mouseup"))}},keydown:{handler:function(b){13===b.keyCode&&a.Event.fire(this,"mousedown")}},focus:{handler:function(){var b=a(this);b&&b.addClass("gu0")}},blur:{handler:function(){var b=a(this);b&&b.removeClass("gu0 gr0 gd0")}}},baseBtnCls:"nb0"},{html:'<li class="ra0 mD0" tabindex="0" role="button" hidefocus="hidefocus"><span class="om0"><b class="nui-ico fn-bg ga0"></b></span><span class="oz0">写 信</span></li>',listeners:{mouseover:{handler:function(){a(this).addClass("gc0")}},mouseout:{handler:function(){a(this).removeClass("gc0")}},mousedown:{handler:function(){var b=a(this);b.removeClass("gc0"),b.addClass("fe0")}},mouseup:{handler:function(){var b=a(this);b.removeClass("fe0"),b.addClass("gc0")}},click:{handler:function(){$E("interface.ComposeInterface",function(a){a.entry()}),a.Log.cache({LeftNavGotoComposeClick:1})}},keyup:{handler:function(b){13===b.keyCode&&($E("interface.ComposeInterface",function(a){a.entry()}),a.Event.fire(a(this).dom,"mouseup"))}},keydown:{handler:function(b){13===b.keyCode&&a.Event.fire(a(this).dom,"mousedown")}},focus:{handler:function(){var b=a(this);b&&b.addClass("gb0")}},blur:{handler:function(){var b=a(this);b&&b.removeClass("gb0 gc0 fe0")}}},baseBtnCls:"mD0"}]},tree:[{name:"folder",text:"文件夹",showInRoot:!0,getData:function(){var b=a.Folder.list("system").concat(a.Folder.list("custom")),d={id:a.Nav.redFolderId,name:a.Nav.redFolderText},e={id:"defer",name:"待办邮件"},f={id:"smartTag",name:"智能标签"};return a.Ext.smart||(f=c),b.splice(1,0,d,e,f),b},displayTitle:function(a){var b;if("defer"===a){var c=$I("init.Defer").getInfo("expire");b="您有"+c+"封待办邮件需要处理"}return b},getCustom:function(a){return this.customed=a.folder?!0:!1,a?a.folder:""},getCount:function(b){if($S("isCorp")&&($G.common.nounreadids=[]),a.Array.has($G.common.nounreadids,b))return 0;var d=0;return b==a.Nav.redFolderId||(d="defer"===b?$I("init.Defer").getInfo("expire"):a.Folder.getInfo(b,2==b?c:"unread","count")),d>0?d:void 0},getItemExtLnk:function(){},getExtIcon:function(a){if("-2"==a)return{xtype:"icon",type:"flag",subtype:"1",extcls:"nv1"};if("defer"===a){var b={xtype:"icon",type:"todo",subtype:"transparent",extcls:"nw1"},c=$I("init.Defer").getInfo("expire");return c>0&&(b.subtype="selected"),b}if("smartTag"===a){var b={xtype:"icon",type:"category",extcls:"mQ1"};return b}},getExtIcon2:function(a){return"3"==a?{xtype:"icon",type:"mailLv",subtype:"1",hidden:!0,extcls:"pH1"}:void 0},getContextMenu:function(a){var b=a.id;return b-0>-3||"defer"===b?$G.get("contextMenu").folder[b]||$G.get("contextMenu").folder["default"]:$G.get("contextMenu").title.folder},defaultDisplay:function(a,b){if(b)return 1;var c=a-0;return c>3?17===c||18===c?2:0:1},enableSetDisplay:function(a){return 1!==a-0&&-3!==a-0&&"defer"!==a},focus:function(b){var c;if(b&&b.extend&&"function"==typeof b.extend){var d=b.extend("subtype");switch(d){case"folder":c=b.param("fid");break;case"flag":c=a.Nav.redFolderId;break;case"defer":c="defer";break;case"contacts":var e=b.extend("contact");c=e&&e.id;break;case"tag":if(b.extend("smart"))c="smartTag";else{var f=b.param("tag");c=f&&f.length&&f[0]}}}return c},onRender:function(a,b){"defer"===b&&$S("LeftNavDeferItem",a)},onclick:function(b){$E("interface.MboxInterface",function(c){b-0>a.Nav.redFolderId-0?c.entry({fid:b-0}):"defer"===b?c.defer():"smartTag"===b?c.smarts():c.entry({filter:{label0:1}})})}},{name:"cusfolder",text:'<span id="spnHideFolders">其他文件夹</span>',getData:function(){var c=this,d=a.Folder.list("system").concat(a.Folder.list("custom"));return d.splice(1,0,{id:a.Nav.redFolderId,name:a.Nav.redFolderText}),b.setTimeout(function(){var b=c.displayCount;try{a.Nav.tree.getEl().find("#spnHideFolders").html("其他"+(b?b+"个":"")+"文件夹")}catch(d){}},500),d},fixDisplay:function(a,b){var c=!b;return c},getCustom:function(a){return this.customed=a.folder?!0:!1,a?a.folder:""},getCount:function(b){if($S("isCorp")&&($G.common.nounreadids=[]),a.Array.has($G.common.nounreadids,b))return 0;var d=a.Folder.getInfo(b,2==b?c:"unread");return d>0?d:void 0},getItemExtLnk:function(){},getTitleExtLnk:function(){return[{xtype:"icon",extcls:"rS0",title:"新建文件夹",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13===b.keyCode&&(a.Event.fire(this,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){$E("support.Folder",function(a){a.add()}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavFolderAddClick:1})}}}},{xtype:"icon",extcls:"qE0",title:"管理文件夹",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13===b.keyCode&&(a.Event.fire(this,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){$E("interface.OptionInterface",function(a){a.entry("options.FolderTagModule")}),a.Log.cache({LeftNavFolderManageClick:1}),a.Event.cancelBubble()}}}}]},getExtIcon:function(a){return"-2"==a?{xtype:"icon",type:"flag",subtype:"1",extcls:"nv1"}:void 0},getContextMenu:function(a){var b=a.id;return $G.get("contextMenu").folder[b]||$G.get("contextMenu").folder["default"]},getTitleContextMenu:function(){return $G.get("contextMenu").title.cusfolder},clickTitleCaseEmpty:function(){},defaultDisplay:function(a,b){return $G.get("navConf").tree[0].defaultDisplay(a,b)},enableSetDisplay:function(a){return 1!=a-0&&-3!=a-0},focus:function(a){return a._var&&a._var.param&&a._var.param.fid&&"mbox.ListModule"==a._var.module?a._var.param.fid:void 0},onclick:function(a){$E("interface.MboxInterface",function(b){a-0>$I("init.Nav").redFolderId-0?b.entry({fid:a-0}):b.entry({filter:{label0:1}})})}},{name:"contactMail",text:"星标联系人邮件",titleUd:{field:"ntes_contact",flag:"navContactMail"},extcls:"xH0",insertAfter:function(){return a.Ext.smart?"smartTag":"defer"},limitWidth:105,groupExtIcon:function(){var a={xtype:"icon",type:"star",subtype:"selected",extcls:"lt1"};return a},useGroupIcon:!0,getData:function(){function b(b){a.Array.each(b,function(a,b){b.cid&&(b.id=b.cid)})}var c=$S("contactInit")?$I("support.AddressSupport").getMarkData():$S("firstMarkedContacts")?$S("firstMarkedContacts"):{},d=a.Object.clone(c.contact)||[];b(d);var e=d;return $S("navContactMailData",e),e},getCustom:function(){},displayTitle:function(a,b){return b.email||b.name},onRender:function(){},clickTitleCaseEmpty:function(){$E("interface.MboxInterface",function(a){a.emails()})},getCount:function(b){var c=$S("contactInit")?$I("support.AddressSupport").getMarkData():{},d=c.contact||[];c.recommend||[];var e=a.Array.findObject(d,"cid",b);return e?$I("init.Contacts").getInfo(e,"unread"):0},getTitleExtLnk:function(){return[{xtype:"icon",extcls:"rS0",title:"添加星标联系人",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){a.Support.addContactMail(),a.Event.stop(),a.Log.cache({LeftNavContactMailAddClick:1})}}}},{xtype:"icon",extcls:"qE0",title:"管理星标联系人邮件",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){$E("interface.AddressInterface",function(a){a.entry({action:"marked"})}),a.Event.stop(),a.Log.cache({LeftNavContactMailManageClick:1})}}}}]},getIcon:function(a){return[{xtype:"icon",type:"group"===a.ctype?"stars":"starSml",subtype:"selected"}]},getItemExtLnk:function(a){return"group"===a.ctype?"组":"人",[]},getExtIcon:function(){},getContextMenu:function(){},defaultDisplay:function(){return 1},enableSetDisplay:function(){},focus:function(){},onclick:function(){var a=this;$E("interface.MboxInterface",function(b){b.contacts(a)})}},{name:"tag",extcls:"vm0",text:"邮件标签",getData:function(){try{var a=$I("init.Tag").list()}catch(b){}var c=[];if(a)for(var d in a){var e=a[d];e.text=e.alias,e.color=a[d].color,e.id=e.name,c.push(e)}return c},getEmptyContent:function(){return{id:"sysDefault",html:'<li class="nui-tree-item sd0" role="treeitem" tabindex="0"><div class="qq0"></div><div class="nh0">为邮件标记不同颜色的标签，更好的管理各类邮件。<br />'+a.Link.html({text:"添加标签",extcls:"nui-txt-link",icon:{extcls:"ku0 fn-bg"},click:function(){$E("support.Tag",function(a){a.add({from:"nav"})}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavTagTipsAddClick:1})}})+"</div></li>"}},getCount:function(b){var c=a.Array.findObject(a.Array.findObject($G.get("navConf").tree,"name","tag").items,"id",b),d=$I("init.Tag").getInfo(c.name,"unread");return d>0?d:void 0},clickTitleCaseEmpty:function(){$E("interface.OptionInterface",function(a){a.entry("options.FolderTagModule")})},getTitleExtLnk:function(){return[{xtype:"icon",extcls:"rS0",title:"添加标签",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){$E("support.Tag",function(a){a.add({from:"nav"})}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavTagAddClick:1})}}}},{xtype:"icon",extcls:"qE0",title:"管理标签",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){$E("interface.OptionInterface",function(a){a.entry({module:"FolderTagModule"})}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavTagManageClick:1})}}}}]},getExtIcon:function(){},getIcon:function(b){return[{xtype:"icon",type:"tag",subtype:b.color,onRender:function(){a.Support.getTagMenu(b.id,b.text).attachTo({clickFrom:this.getEl()}),a.Log.cache({from:"nav",action:"showTagMenu"})}}]},defaultDisplay:function(a){var b=$I("init.Tag").list(),c=b[a],d=c&&(c.show||0)||0;return d},enableSetDisplay:function(){},getContextMenu:function(){return $G.get("contextMenu").tag["default"]},getTitleContextMenu:function(){return $G.get("contextMenu").title.tag},focus:function(){},onclick:function(b){var c=a.Event.getTarget();c&&c.tagName&&"B"==c.tagName.toUpperCase()||$E("interface.MboxInterface",function(c){var d=a.Array.findObject(a.Array.findObject($G.get("navConf").tree,"name","tag").items,"id",b);c.entry({tag:[d.name]})})}},{name:"pop",extcls:"pQ0",text:"邮箱中心",revTitleFold:!0,getData:function(){var b=a.Folder.list("pop");return b},getEmptyContent:function(){return{id:"sysDefault",html:'<li class="nui-tree-item sd0" role="treeitem" tabindex="0"><div class="qq0"></div><div class="nh0">通过POP3自动收取，管理其他邮箱的邮件。<br />'+a.Link.html({text:"添加其他邮箱",extcls:"nui-txt-link",icon:{extcls:"ku0 fn-bg"},click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter"}})}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterTipsAddClick:1})}})+"</div></li>"}},getCustom:function(a){return a?a.folder:""},getCount:function(a){var b=$I("init.Folder").getInfo(a,"unread","count");return b>0?b:void 0},clickTitleCaseEmpty:function(){$E("interface.OptionInterface",function(a){a.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter"}})})},getTitleExtLnk:function(){return[{xtype:"icon",extcls:"qp0",title:"收取全部邮箱的邮件",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){var b;try{b=$L("support.MailCenter",this)}catch(c){return c}b.receiveAll(),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterReceiveAllClick:1})}}}},{xtype:"icon",extcls:"rS0",title:"迁移其他邮箱",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){$E("interface.OptionInterface",function(a){a.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter"}})}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterAddClick:1})}}}},{xtype:"icon",extcls:"qE0",title:"管理邮箱中心",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){a.Nav.entry("OptionInterface",{module:"options.AccountCenterModule"}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterManageClick:1})}}}}]},getItemExtLnk:function(b){return[{xtype:"icon",extcls:"qp0",title:"收取"+b.flags.username+"邮箱的邮件",ariaLabel:"",tabindex:"0",role:"link",listeners:{keyup:{handler:function(b){13==b.keyCode&&(a.Event.fire(this.getEl().dom,"click"),a.Event.cancelBubble(),a.Event.fire(document.body,"click"))}},click:{handler:function(){$E("support.MailCenter",function(a){a.receive({fid:b.id})}),a.Event.cancelBubble(),a.Event.fire(document.body,"click"),a.Log.cache({LeftNavMailCenterReceive20Click:1})}}}}]},getIcon:function(a){return[{xtype:"icon",type:"folder",subtype:a.flags.iconSubtype||"other"}]},defaultDisplay:function(){return 1},enableSetDisplay:function(){return!0},getContextMenu:function(){return $G.get("contextMenu").pop["default"]},getTitleContextMenu:function(){return $G.get("contextMenu").title.pop},focus:function(a){return a._var&&a._var.param&&a._var.param.fid&&"mbox.ListModule"==a._var.module?a._var.param.fid:void 0},onclick:function(a){$E("interface.MboxInterface",function(b){a-0>$I("init.Nav").redFolderId-0?b.entry({fid:a-0}):b.entry({filter:{label0:1}})})}},{name:"filecenter",text:"文件中心",showInRoot:"qiye.163.com"!=$G.environment.domain,getData:function(){if($S("isCorp")){var b=[];return a.Ext.netfolder_enable&&b.push({id:"1",text:"个人网盘",lockid:"nf"}),0!==$G.user.accountRight.qiyewp-0&&b.push({id:"2",text:"3"===$G.user.domainType?"校园网盘":"企业网盘"}),a.Ext.bigattach_enable&&b.push({id:"3",text:"云附件"}),b.push({id:"4",text:"附件管理"}),a.Ext.attach_online_modify&&b.push({id:"5",text:"Office文档"}),b}return[{id:"0",name:"file_center",text:"文件中心"}]},getExtIcon:function(){},getCustom:function(a){return a?a.filecenter:""},getTitleExtLnk:function(){},getTitleContextMenu:function(){},getContextMenu:function(){},defaultDisplay:function(){return 1},enableSetDisplay:function(){return!0},focus:function(){},onclick:function(b){var c={0:"file_center",1:"qiye_grwp",2:"qiye_qywp",3:"qiye_yfj",4:"qiye_fj",5:"qiye_office"},d=c[b];$E("product.FileCenter",function(a){a.entry(d)}),a.Log.cache({LeftNavFileCenterClick:1})}},{name:"filecenter",text:"附件图集",isFold:!1,showInRoot:!0,disabled:"qiye.163.com"==$G.environment.domain||"student"==$G.mailPattern.currentPattern,getData:function(){return[{id:"6",name:"image_attach",text:"附件图集"}]},defaultDisplay:function(){return 1},enableSetDisplay:function(){return!0},focus:function(){},onclick:function(){$E("product.FileCenter",function(a){a.entry("image_attach")}),a.Log.cache({LeftNavFileCenterImageAttachClick:1})}}]})}($,window),function(a,b){$G.set("contextMenu",{operate:{openFolder:{text:"打开",click:function(a){$E("interface.MboxInterface",function(b){b.entry({fid:a-0})})}},openDefer:{text:"打开",click:function(){$E("interface.MboxInterface",function(a){a.defer()})}},checkUnread:{text:"查看未读",click:function(a){$E("interface.MboxInterface",function(b){b.entry({fids:[a],filter:{flags:{read:!1}}},{type:"list",subtype:"read"})})}},setUnread:{text:"全部标为已读",click:function(a){$E("interface.MboxInterface",function(b){b.setAllRead({fid:a})})}},checkSentStatus:{text:"查询投递状态",click:function(){var a,c=$S("sid"),d=$S("host");a=$S("isCorp")?"http://mail.qiye.163.com/rdmailquery/main.ftl?sid="+c:"http://"+d+"/app/service/sendCheck"+($S("isFree")?"":"_vip")+".jsp?sid="+c,b.open(a)}},empty:{text:"清空",click:function(a){$E("support.Folder",function(b){b.empty({fid:a})})}},setFilter:{text:"分类设置",click:function(a){$E("interface.OptionInterface",function(b){b.goFilter({folder:a})})}},receive:{text:"收取",click:function(a){$E("support.MailCenter",function(b){b.receive({fid:a})})}},openContact:{text:"打开通讯录",click:function(){$E("interface.AddressInterface",function(a){a.entry({action:"Welcome"})})}},addContact:{text:"快速添加",click:function(){$E("support.AddressSupport",function(a){a.fastContact({type:"add"})})}},openMailList:{text:"打开邮件列表",click:function(){$E("interface.OutlinkInterface",function(b){b.goOutlink({url:a.Uri.getUrl("groups"),key:"groups",title:"邮件列表"})})}},openSchedule:{text:"打开",click:function(){$E("interface.OutlinkInterface",function(a){a.goOutlink({key:"schedule",title:"日程管理"})})}},quickSchedule:{text:"快速写日程",click:function(){}},openMailCenter:{text:"打开",click:function(){a.Nav.entry("OptionInterface",{module:"options.AccountCenterModule"})}},receiveAll:{text:"收取所有",click:function(){$E("support.MailCenter",function(a){a.receiveAll()})}},compose:{text:"写信",click:function(a){var b=$I("init.Folder").getPopInfo(a);$E(["interface.ComposeInterface","init.SenderList"],function(a,c){var d=c.isSender(b.username),e=null;d&&(e={info:{account:d.toString()}}),a.compose(e)})}},createPop:{text:"迁移其他邮箱",click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter"}})})}},openFileCenter:{text:"打开",click:function(){$E("product.FileCenter",function(a){a.entry()})}},openFujian:{text:"打开",click:function(){$E("product.FileCenter",function(a){a.entry("fj_center")})}},openNf:{text:"打开",click:function(){$E("product.FileCenter",function(a){a.entry("nf_center")})}},uploadNf:{text:"上传文件",click:function(){$E("product.FileCenter",function(){$E("product.FileCenter",function(a){a.entry("nf_center",{param:{upload:!0}})})})}},openMega:{text:"打开",click:function(){$E("product.FileCenter",function(a){a.entry("bj_center")})}},uploadMega:{text:"上传文件",click:function(){$E("product.FileCenter",function(a){a.entry("bj_center",{param:{upload:!0}})})}},openPhoto:{text:"打开",click:function(){$E("product.FileCenter",function(a){a.entry("photo_center")})}},uploadPhoto:{text:"上传文件",click:function(){var a=$S("uid"),c=a.split("@")[0],d=$S("domain");"126.com"==d?c+="@126":"yeah.net"==d?c+="@yeah":"188.com"==d?c+="@188":"vip.163.com"==d?c+=".vip":"vip.126.com"==d&&(c=a),b.open("http://photo.163.com/"+c+"/upload/#p=0")}},configPhoto:{text:"管理",click:function(){var a=$S("uid"),c=a.split("@")[0],d=$S("domain");"126.com"==d?c+="@126":"yeah.net"==d?c+="@yeah":"188.com"==d?c+="@188":"vip.163.com"==d?c+=".vip":"vip.126.com"==d&&(c=a),b.open("http://photo.163.com/"+c+"/?u="+c+"#p=0&m=0&page=1")}},openSevice:{text:"打开",click:function(b){var c=a.Array.findObject(a.AppManager.getAppsList(),"id",b);$E("interface.OutlinkInterface",function(a){a.goOutlink({key:c.name,title:c.text,lockid:c.lockid})})}},configService:{text:"设置",click:function(){a.Nav.entry("CustomInterface")}},hideService:{text:"隐藏",click:function(b){a.Nav.setServiceEnable({key:b,group:"service",disabled:!0})}},setCustom:{text:"自定义显示项",click:function(){a.Nav.entry("CustomInterface")}},configFolder:{text:"管理文件夹",click:function(){$E("interface.OptionInterface",function(a){a.entry("options.FolderTagModule")})}},createFolder:{text:"新建文件夹",click:function(){$E("support.Folder",function(a){a.add()})}},hideFolder:{text:"折叠",click:function(b){a.Nav.setServiceEnable({key:b,group:"folders",disabled:!0})}},showFolder:{text:"显示",click:function(b){a.Nav.setServiceEnable({key:b,group:"folders"})}},hide:{text:"折叠",click:function(b,c){a.Nav.setServiceEnable({key:b,group:c,disabled:!0})}},show:{text:"显示",click:function(b,c){"cusfolder"==c&&(c="folder"),a.Nav.setServiceEnable({key:b,group:c})}},openRed:{text:"打开",click:function(){$E("interface.MboxInterface",function(a){a.entry({filter:{label0:1}})})}},rename:{text:"重命名",click:function(a){$E("support.Folder",function(b){b.rename({fid:a-0})})}},moreFlag:{text:"其他旗帜",getItems:function(){for(var b=[],c=0;c<a.LETTERFLAG.length;c++){var d=a.LETTERFLAG[c];d&&b.push({extcls:"nui-txt-flag"+c,icon:{type:"flag",subtype:c},text:d,click:a.Function.bind(function(a){$E("interface.MboxInterface",function(b){b.entry({filter:{label0:a}})})},this,c)})}return b}},openTag:{text:"打开",click:function(b){$E("interface.MboxInterface",function(c){var d=a.Array.findObject(a.Nav.getItem("name","tag").items,"id",b);c.entry({fid:0,showTag:!0,tag:[d.name]}),a.Log.cache({from:"nav"})})}},createTag:{text:"添加标签",click:function(){$E("support.Tag",function(b){a.Log.cache({from:"nav"}),b.add()})}},manageTag:{text:"管理标签",click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"FolderTagModule"})})}},editTag:{text:"修改标签",click:function(b){$E("support.Tag",function(c){c.modify({name:b,callback:function(){a.Nav.show()}})})}}},folder:{1:["openFolder","checkUnread","setUnread"],2:["openFolder","checkUnread","setUnread"],3:/@(188\.com)|(vip\.188\.com)|(vip\.126\.com)/.test($G.user.uid)?["openFolder"]:["openFolder","checkSentStatus"],4:["openFolder"],5:["openFolder","checkUnread","setUnread","setFilter"],7:["openFolder","checkUnread","setUnread","setFilter"],15:["openFolder","checkUnread","setUnread","setFilter"],18:["openFolder","checkUnread","setUnread","setFilter"],"-2":["openRed","moreFlag"],defer:["openDefer"],"default":["openFolder","checkUnread","setUnread","setFilter","rename"]},pop:{"default":["openFolder","checkUnread","compose"]},tag:{"default":["openTag","editTag"]},address:{contact:["openContact","addContact","openMailList"],schedule:["openSchedule"]},filecenter:{fj_center:["openFujian"],nf_center:["openNf","uploadNf"],bj_center:["openMega","uploadMega"],photo_center:["openPhoto","uploadPhoto","configPhoto"]},title:{folder:["setCustom","configFolder","createFolder"],cusfolder:["configFolder","createFolder"],tag:["createTag","manageTag"],pop:["openMailCenter","receiveAll","createPop"],filecenter:["openFileCenter"]}})}($,window),function(a){$G.set("shortcutConf",{go:{description:"正在跳转",shortcut:{gi:{call:function(){a.Nav.entry("MboxInterface",{fid:1})},description:'转到"收件箱"'},gd:{call:function(){a.Nav.entry("MboxInterface",{fid:2})},description:'转到"草稿箱"'},gt:{call:function(){a.Nav.entry("MboxInterface",{fid:3})},description:'转到"已发送"'},gc:{call:function(){a.Nav.entry("AddressInterface",{action:"Welcome"})},description:'转到"通讯录"'},dongua:{call:function(){$E("interface.OutlinkInterface",function(a){a.goOutlink({url:"http://buzz.mail.$domain$/dongua",title:"dongua的微博"})})}},zhouyi:{call:function(){$E("interface.OutlinkInterface",function(a){a.goOutlink({url:"http://buzz.mail.$domain$/sky",title:"周奕的微博"})})}}}},select:{description:"选择列表",shortcut:{"*a":{call:function(){try{a.Context.getModule().view.select("all")}catch(b){}},description:"选择所有邮件",module:["mbox.ListModule"]},"*n":{call:function(){try{a.Context.getModule().view.select("none")}catch(b){}},description:"取消选择所有邮件",module:["mbox.ListModule"]},"*r":{call:function(){try{a.Context.getModule().view.select("read")}catch(b){}},description:"选择已读邮件",module:["mbox.ListModule"]},"*u":{call:function(){try{a.Context.getModule().view.select("unread")}catch(b){}},description:"选择未读邮件",module:["mbox.ListModule"]}}},app:{description:"应用程序",shortcut:{C:{shiftKey:!0,call:function(){$E("interface.ComposeInterface",function(a){a.entry()})},description:"新建写信"},s:{ctrlKey:!0,call:function(){},module:["compose"],description:"保存草稿"},"/":{call:function(){$S("searchInput").focus()},description:"聚焦到搜索框"},"?":{call:function(){$I("util.ShortCut").showHelp()},description:"显示快捷键帮助"},M:{shiftKey:!0,call:function(){$E("interface.MboxInterface",function(a){a.entry({fid:1},{receive:!0})})},description:"检查新邮件"}}},operate:{description:"操作",shortcut:{R:{shiftKey:!0,call:function(){try{a.Context.getModule().reader.assistant.reply()}catch(b){}},module:["read.ReadModule"],description:"回复"},A:{shiftKey:!0,call:function(){try{a.Context.getModule().reader.assistant.fullReply()}catch(b){}},module:["read.ReadModule"],description:"回复所有"},F:{shiftKey:!0,call:function(){try{a.Context.getModule().reader.assistant.forward()}catch(b){}},module:["read.ReadModule"],description:"转发"},I:{call:function(){try{a.Context.getModule().view.setRead(!0)}catch(b){}},shiftKey:!0,description:"标记为已读",module:["mbox.ListModule"]},U:{call:function(){try{a.Context.getModule().view.setRead(!1)}catch(b){}},shiftKey:!0,description:"标记为未读",module:["mbox.ListModule"]},D:{shiftKey:!0,call:function(){try{a.Context.getModule().view.move(4)}catch(b){}},module:["mbox.ListModule"],description:"删除邮件"},"[":{call:function(){try{a.Context.getModule().enterSibling("pre")}catch(b){}},description:"上一封",module:["read.ReadModule","thread.ThreadModule"]},"]":{call:function(){try{a.Context.getModule().enterSibling("next")}catch(b){}},description:"下一封",module:["read.ReadModule","thread.ThreadModule"]}}},hidden:{shortcut:{jasmine:{call:function(){a.JS.go({module:"jasmine.JasmineModule"})}}}}})}($,window),function(a,b){var c={},d=[];d.push({type:"speed",start:new Date(2012,7,15),end:new Date(2013,7,15),call:function(a){if(a){var b="http://count.mail.163.com/beacon/webmail.gif?sid="+$S("sid")+"&uid="+$S("uid");for(var c in a)b+="&"+c+"="+a[c];return b}}}),d.push({type:"attach",start:new Date(2012,8,25),end:new Date(2013,8,25),call:function(a){if(a){var b="http://jslog.mail.126.com/count/a.htm?sid="+$S("sid")+"&uid="+$S("uid");for(var c in a)b+="&"+c+"="+a[c];return b+="&t="+(new Date).valueOf()}}}),d.push({type:"apps",call:function(a){if(a){var c="http://count.mail.163.com/beacon/webmail.gif?sid="+$S("sid")+"&uid="+$S("uid")+"&module=apps";for(var d in a)c+="&"+d+"="+a[d];return c+="&t="+(new b.Date).getTime()}}}),d.push({type:"appCenter",call:function(c){if(c){var d="http://appcenter.mail."+$S("domain")+"/ftentry.do?func=mapp:log4app&sid="+$S("sid")+"&var=";return c.uid=$S("uid"),d+=a.Util.obj2Str({params:JSON.stringify(c)}),d+="&retype=0",d+="&t="+(new b.Date).getTime()}}}),d.push({type:"readFlashAd",start:new Date(2013,8,2),end:new Date(2013,8,17),call:function(a){if(a){var c="http://count.mail.163.com/beacon/webmail.gif?sid="+$S("sid")+"&uid="+$S("uid")+"&module=read";for(var d in a)c+="&"+d+"="+a[d];return c+="&t="+(new b.Date).getTime()}}}),d.push({type:"brandClick",start:new Date(2014,4,2),end:new Date(2014,5,30),call:function(a){if(a){var b="http://r.mail.163.com/stat.gif?_r_ignore_statId="+a+"&_r_ignore_uid="+$S("uid");return b}}}),c.logConf=d,$G.set("logConf",c)}($,window),function(){$G.set("mailTipsConf",{})}($,window),function(){var a={rcmd:{ads:[{html:'<div style="width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><div style="position:relative;z-index:2;"><img src="http://mimg.127.net/ggimg/all/img19/150702a_js6_560x190.png" width="560" height="190"></div><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;background:#fff;opacity:0;filter:alpha(opacity=0);" target="_blank" href="http://mail.163.com/dashi/?from=mail28">&nbsp;</a></div>'},{html:'<div style="width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><div style="position:relative;z-index:2;"><img src="http://mimg.127.net/ggimg/all/img19/150709b_js6_560x190.png" width="560" height="190"></div><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;background:#fff;opacity:0;filter:alpha(opacity=0);" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'},{html:'<div style="width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><div style="position:relative;z-index:2;"><img src="http://mimg.127.net/ggimg/all/img19/150702c_js6_560x190.png" width="560" height="190"></div><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;background:#fff;opacity:0;filter:alpha(opacity=0);" target="_blank" href="http://mail.163.com/dashi/activity/gift/index.jsp">&nbsp;</a></div>'},{html:'<div style="width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><div style="position:relative;z-index:2;"><img src="http://mimg.127.net/ggimg/all/img19/150702d_js6_560x190.png" width="560" height="190"></div><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;background:#fff;opacity:0;filter:alpha(opacity=0);" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'},{html:'<div style="width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><div style="position:relative;z-index:2;"><img src="http://mimg.127.net/ggimg/all/img19/150709e_js6_560x190.png" width="560" height="190"></div><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;background:#fff;opacity:0;filter:alpha(opacity=0);" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'},{html:'<div style="width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><div style="position:relative;z-index:2;"><img src="http://mimg.127.net/ggimg/all/img19/150709f_js6_560x190.png" width="560" height="190"></div><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;background:#fff;opacity:0;filter:alpha(opacity=0);" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'},{html:'<div style="width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><div style="position:relative;z-index:2;"><img src="http://mimg.127.net/ggimg/all/img19/150709g_js6_560x190.png" width="560" height="190"></div><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;background:#fff;opacity:0;filter:alpha(opacity=0);" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'}],ie6_ads:[{html:'<div style="background:url(http://mimg.127.net/ggimg/all/img19/150702a_js6_560x190.jpg) no-repeat;width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;" target="_blank" href="http://mail.163.com/dashi/?from=mail28">&nbsp;</a></div>'},{html:'<div style="background:url(http://mimg.127.net/ggimg/all/img19/150709b_js6_560x190.jpg) no-repeat;width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'},{html:'<div style="background:url(http://mimg.127.net/ggimg/all/img19/150702c_js6_560x190.jpg) no-repeat;width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;" target="_blank" href="http://mail.163.com/dashi/activity/gift/index.jsp">&nbsp;</a></div>'},{html:'<div style="background:url(http://mimg.127.net/ggimg/all/img19/150702d_js6_560x190.jpg) no-repeat;width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'},{html:'<div style="background:url(http://mimg.127.net/ggimg/all/img19/150709e_js6_560x190.jpg) no-repeat;width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'},{html:'<div style="background:url(http://mimg.127.net/ggimg/all/img19/150709f_js6_560x190.jpg) no-repeat;width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'},{html:'<div style="background:url(http://mimg.127.net/ggimg/all/img19/150709g_js6_560x190.jpg) no-repeat;width:560px;height:190px;position:absolute;overflow:hidden;top:0;left:121px;text-align:left;"><a style="position:absolute;left:0;top:0;width:100%;height:100%;display:block;z-index:3;" target="_blank" href="http://1.163.com/?from=mailwelcome&gid=116">&nbsp;</a></div>'}],dft:0},letter:{ads:[{div:'<div style="background-color: #f7f7f7;padding: 0 25px 0 12px;overflow-y: hidden;height: 48px;line-height: 48px;border: 1px solid #f1f1f1;font-size: 12px;position: relative;color: #999;"><span style="float: right;">[<a href="http://mail.163.com/html/131114_yixin/" class="gIbx-ext-txtLink" style="color:#999;" target="_blank">易信</a>]</span><a href="http://mail.163.com/html/131114_yixin/" class="gIbx-ext-txtLink" style="vertical-align: middle;font-size: 16px;" target="_blank">手机号码邮箱直接登录易信，免注册！</a><span style="padding: 0 4px;">-</span><a href="http://mail.163.com/html/131114_yixin/" class="gIbx-ext-txtLink" style="color: #1F8919;" target="_blank">了解更多</a><div style="position: absolute;right: 0;top: 8px;width: 25px;height: 22px;overflow: hidden;padding-top: 5px;"><a href="javascript:void(0)" style="color:#bfbfbf;margin-left: 1px;float: left;width: 16px;height: 16px;overflow: hidden;display: inline-block;+display: inline;+zoom:1;vertical-align: middle;" hidefocus="hidefocus" onclick="gAd.util.closeInbox(this);" title="关闭"><b class="nui-ico nui-ico-close" style="margin-top: 5px;margin-left: 5px;vertical-align: top;"></b></a></div></div>'}]},read:{div:""},greet:{ads:[{div:"有事做有所期待，日子就是幸福的。"}]},welBanner:{div:'<a style="display:inline-block" href="http://mail.163.com/html/131114_yixin/" target="_blank"><img src="http://mimg.127.net/ggimg/all/img18/140113_js62_190x360.jpg" alt="易信"></a>'},compose:{div:'<a style="display:inline-block" href="http://mail.163.com/html/131114_yixin/" target="_blank"><img src="http://mimg.127.net/ggimg/all/img18/140113_js62_620x330.jpg" alt="易信"></a>'},composeBanner:{div:'<a style="display:inline-block" href="http://mail.163.com/html/131114_yixin/" target="_blank"><img src="http://mimg.127.net/ggimg/all/img18/140113_js62_260x330.jpg" alt="易信"></a>'},brand:{ads:[]},inboxBottom:{div:'<a href="http://mail.163.com/html/131114_yixin/" target="_blank" hidefocus="hidefocus" style="display:block;width:100%;height:96px;position:relative;overflow:hidden;background-color:#E2F0E3"><img style="position:absolute;left:50%;top:0;margin-left:-390px" src="http://mimg.127.net/ggimg/all/img18/140218_yixin_780x96.jpg" alt="手机号码邮箱登录易信" /></a>'}};
$G.set("promote",a)}($,window),function(){function a(a){var b=this,c="";switch(a.type){case"file":case"file32":var d=a.name.replace(/(.|\n)*\./,"").toLowerCase();c=b.icoFileIndex[d]?b.icoFileIndex[d]:"";break;case"folder":c=b.icoPop3Index[a.domain]?b.icoPop3Index[a.domain]:"dft"}return c}function b(a){var b=this,c="";switch(a.type){case"file":case"file32":var d=a.name.replace(/(.|\n)*\./,"").toLowerCase();c=b.icoPre[a.type]+(b.icoFileIndex[d]?b.icoFileIndex[d]:"");break;case"folder":c=b.icoPre[a.type]+(b.icoPop3Index[a.domain]?b.icoPop3Index[a.domain]:"dft")}return c}var c=$.createClass($N("util.Icon"));$.Object.extend(c,{getSubtype:a,getClass:b,icoFileIndex:{xls:"2",xlsx:"2",csv:"2",xlsm:"2",xlt:"2",xltx:"2",xltm:"2",doc:"3",docx:"3",dot:"3",dotm:"3",dotx:"3",docm:"3",ppt:"4",pptx:"4",pot:"4",potm:"4",potx:"4",pps:"4",ppsx:"4",pptm:"4","7z":"5",rar:"6",cab:"6",jar:"6",arj:"6",tar:"6",gz:"6",tgz:"6",taz:"6",cpgz:"6",zip:"7",war:"7",ear:"7",z:"7",bz:"7",bz2:"7",tbz:"7",tbz2:"7",cpio:"7",ar:"7",crx:"7",sext:"7",iso:"8",img:"8",nrg:"8",mdf:"8",mds:"8",eml:"9",htm:"10",html:"10",shtml:"10",xhtml:"10",mht:"10",asp:"10",aspx:"10",js:"11",css:"12",ini:"12",inf:"12",xml:"12",hlp:"13",chm:"13",exe:"14",app:"14",com:"14",bat:"15",cmd:"15",ttf:"16",fon:"16",pdf:"17",psd:"18",pdd:"18",ps:"18",ai:"19",eps:"19",fla:"20",swf:"21",flv:"21",txt:"22",java:"22",jsp:"22",c:"22",cpp:"22",h:"22",hpp:"22",py:"22",cs:"22",sh:"22",rtf:"23",reg:"24",ra:"25",ram:"25",rpm:"25",rmx:"25",rm:"25",rmvb:"25",wm:"26",wma:"26",wmv:"26",asf:"26",wmp:"26",mov:"27",qt:"27","3gp":"27","3gpp":"27",amr:"27",avi:"28",mkv:"28",mp4:"28",mpg:"28",mpeg:"28",vob:"28",dat:"28",ts:"28",tp:"28",m2ts:"28",evo:"28",pmp:"28",vp6:"28",ivf:"28",dsm:"28",dsv:"28",dsa:"28",dss:"28",fli:"28",flc:"28",flic:"28",roq:"28",mpa:"29",m1a:"29",m2a:"29",mp2:"29",mp3:"29",ac3:"29",dts:"29",ddp:"29",flac:"29",ape:"29",mac:"29",apl:"29",shn:"29",tta:"29",wv:"29",cda:"29",wav:"29",aac:"29",m4a:"29",mka:"29",ogg:"29",mpc:"29","mp+":"29",au:"29",aif:"29",aifc:"29",aiff:"29",mid:"29",midi:"29",rmi:"29",todo:"30",jpg:"31",jpeg:"31",gif:"32",png:"33",bmp:"34",dib:"34",rle:"34",tif:"35",tiff:"35",xif:"35",emf:"36",wmf:"37",ico:"38",icl:"38",cur:"38",ani:"38",raw:"39",mos:"39",fff:"39","032":"39",bay:"39",cdr:"40",csl:"40",cmx:"40",wpg:"40",dll:"41",ocx:"41",chk:"41",manifest:"41",torrent:"42",wps:"43",wpt:"43",dps:"44",et:"45",msi:"46"},icoPop3Index:{"163.com":"ntes","126.com":"ntes","yeah.net":"ntes","188.com":"ntes","vip.188.com":"ntes","vip.163.com":"ntes","vip.126.com":"ntes","qiye.163.com":"ntes","netease.com":"ntes","corp.netease.com":"ntes","qq.com":"qq","vip.qq.com":"qq","foxmail.com":"foxmail","sina.com":"sina","sina.cn":"sina","sina.com.cn":"sina","vip.sina.com":"sina","sohu.com":"sohu","vip.sohu.com":"sohu","msn.com":"msn","msn.cn":"msn","live.cn":"msn","live.com":"msn","hotmail.com":"msn","outlook.com":"msn","yahoo.com":"yahoo","yahoo.com.cn":"yahoo","yahoo.cn":"yahoo","gmail.com":"gmail","21cn.com":"21cn","21cn.net":"21cn","tom.com":"tom","eyou.com":"eyou","china.com":"china"}})}(),function(a){function b(b){var c=a.Ext.shortcut,f=b||event||top.event,g=e.getTarget(f),h=f.shiftKey,i=f.ctrlKey,j=f.altKey,k=a.Context.getModule()||{},l=f.charCode||f.keyCode,m=!1,n=String.fromCharCode(l),o=["INPUT","TEXTAREA"],p=a.Context.msgBox,q=d.conf;if((c||"?"===n)&&(a.Context.keys||(a.Context.keys=[]),g&&g.tagName&&a.Array.has(o,g.tagName.toUpperCase())&&(m=!0),!m&&!p)){a.Context.shortCutTimer&&(clearTimeout(a.Context.shortCutTimer),delete a.Context.shortCutTimer),a.Context.keys.push(n),a.Context.shortCutTimer=setTimeout(function(){a.Context.keys=[]},1e3);var r,s;if(!r&&a.Context.keys.length>1)for(s in q)if(r=q[s].shortcut[a.Context.keys.join("")])break;if(!r)for(s in q)if((r=q[s].shortcut[n])||(r=q[s].shortcut[l]))break;if(r){if(r.shiftKey&&!h)return;if(r.altKey&&!j)return;if(r.ctrlKey&&!i)return;if(r.module&&!a.Array.has(r.module,k.mtype))return;"string"==typeof r.call?a.Eval.exec(r.call):r.call(),a.Event.stop(f)}}}function c(){var b=a.Ext,c=a.Ud,e=b.shortcut,f=a.Link.html({text:e?"禁用快捷键":"启用快捷键",click:function(){c.set({field:"ntes_option",flag:"shortcut_enable",value:e?"1":"0"}),e=!e,b.shortcut=e,this.getEl().html(e?"禁用快捷键":"启用快捷键");var d=a("#spnEnableShortCut"),f="键盘快捷键已"+(e?"启用！":"禁用！"),g=e?"nui-txt-s14 nui-txt-suc":"nui-txt-s14 nui-txt-err";d.html(f),d.setClass(g);try{var h=a.Context.getModule();if(h&&h.mtype&&"options.BaseSetModule"===h.mtype){var i=h.view.sections[h.view.sections.length-1],j="#"+i.createId("shortcut"),k=a.Component.find(j);k.setChecked(e,!0)}}catch(l){}}}),g=e?"启用":"禁用",h=e?"nui-txt-s14 nui-txt-suc":"nui-txt-s14 nui-txt-err",i=['<p style="padding:5px 12px"><strong id="spnEnableShortCut" class="'+h+'">键盘快捷键已'+g+'！</strong><span class="txt-info">'+f+"</span></p>"];i.push('<div class="nui-msgbox-scrollArea nui-scroll" style="padding:8px 12px">');for(var j in d.conf)if("hidden"!=j){var k=d.conf[j],l=k.description,m=k.shortcut;i.push('<div class="nui-title"><h3 class="nui-title-text">'+l+"</h3></div>"),i.push('<table style="margin:10px 0">');for(var n in m){var o=m[n],p=o.description;if(p)if(n.length>1){for(var q=[],r=0;r<n.length;r++)q.push('<b class="nui-txt-mark">'+n.substr(r,1)+"</b>");i.push('<tr><td style="width:150px;padding-right:10px;text-align:right" class="txt-info">'+q.join(" 然后 ")+"："+"</td><td >"+p+"</td></tr>")}else{var s=o.shiftKey,t=o.ctrlKey,u=[];t&&u.push('<b class="nui-txt-mark">&lt;Ctrl&gt;</b>'),s&&u.push('<b class="nui-txt-mark">&lt;Shift&gt;</b>'),u.push('<b class="nui-txt-mark">'+("\r"==n?"&lt;Enter&gt;":n.toLowerCase())+"</b>"),i.push('<tr><td style="width:150px;padding-right:10px;text-align:right" class="txt-info">'+u.join(" + ")+"："+"</td><td>"+p+"</td></tr>")}}i.push("</table>")}i.push("</div>"),a.Msgbox.show({content:i.join(""),contentType:"wide",noFooter:!0,header:"快捷键帮助"}),a.Component.setEvents()}var d=a.createClass($N("util.ShortCut")),e=a.Event;a.Ext,a.Object.extend(d,{globalListener:b,conf:$G.get("shortcutConf"),showHelp:c})}($,window),function(){function a(a){var c=$.Event,d=$.Event.get();b.menu&&b.menu.hide();var e=b.menu=new $.Menu({left:d.pageX+"px",top:d.pageY+"px",groups:a.groups,renderTo:document.body,width:a.width});e._relatedEventTarget=$.Event.getTarget(d),c.stop();var f=e.getEl(),g=f.dom.offsetWidth,h=f.dom.offsetHeight,i=f.offset(),j=i[0],k=i[1],l=document.documentElement,m=l.clientWidth+l.scrollLeft,n=l.clientHeight+l.scrollTop;g+j>m&&(f.dom.style.left=j-g+"px"),h+k>n&&(f.dom.style.top=k-h+"px")}var b=$.createClass($N("util.Contextmenu"));$.Object.extend(b,{menu:null,show:a})}(),function(a,b){function c(){var a=j.PERMISSION_NOT_SUPPORT,c=b.webkitNotifications||b.Notification;if(c){if(c.checkPermission)a=c.checkPermission();else{var d=c.permission;switch(d){case"default":a=j.PERMISSION_NOT_ALLOWED;break;case"granted":a=j.PERMISSION_ALLOWED;break;case"denied":a=j.PERMISSION_DENIED}}j.notification=c}return a}function d(a){function b(){a&&a()}j.checkPermission()===j.PERMISSION_NOT_ALLOWED&&j.notification.requestPermission(b)}function e(){var b=!1;if(j.checkPermission()===j.PERMISSION_ALLOWED&&a.Ext.notification){var c=a.Ud.get({field:"ntes_option",flag:"notification"})-0;b=0===c}return b}function f(a){if(j.check()){var b,c=a.iconUrl||"http://mimg.127.net/p/js4/lib/img/newmail.png",d=a.title||"",e=a.body||"",f=j.notification;return b=f.createNotification?f.createNotification(c,d,e):new f(d,{body:e,icon:c})}}function g(b){if(j.check()){var c=b.notification,d=b.info,e=b.event,f=b.timeout||0;return c||(c=j.create(d)),e&&i.each(e,function(b,d){a.Event.listen(c,b,d)}),c.show&&c.show(),f>0&&setTimeout(function(){j.cancel(c)},f),c}}function h(a){j.check()&&(a.cancel?a.cancel():a.close())}var i=a.Object,j=a.createClass($N("util.Notification"));i.extend(j,{notification:null,PERMISSION_ALLOWED:0,PERMISSION_NOT_ALLOWED:1,PERMISSION_DENIED:2,PERMISSION_NOT_SUPPORT:-1,checkPermission:c,requestPermission:d,check:e,create:f,show:g,cancel:h})}($,window),function(){function a(a,b,c){function d(a,b,c){return a!=b&&a!=c&&b!=c?!0:!1}var e=$.Event.getEvent(),f=this.checkbox;if(e.shiftKey&&f&&a!=f){for(var g=!1,h=0,i=b.length;i>h;h++){var j=b[h];if(g){if(!d(j,f,a))break;j.checked||(j.setChecked(!0),c&&c(h,j,!0))}else d(b[h],f,a)||(g=!0)}try{window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}catch(k){}}this.checkbox=a.checked?a:null}var b=$.createClass($N("util.Shift"));$.Object.extend(b,{checkbox:null,handle:a})}(),function(){function a(a){l.extend(this,a),this.listen()}function b(){try{var a=$L("support.AddressSupport")}catch(b){return b}var c=this;this.input.listen("keyup",function(){if(13!=$.Event.get().which){var b=c.data||a.data.extDataMap.contactLiteArray;b.length>500&&$.Browser.isIE()?(c.createMenuTimeout?window.clearTimeout(c.createMenuTimeout):c.createMenuTimeout=window.setTimeout(function(){c.createMenu()},150),window.setTimeout(function(){c.createMenu()},100)):c.createMenu()}}),this.input.listen("keydown",function(){c.operate()})}function c(){var a=this,b=$.Event.getEvent(),c=b.keyCode,d=a.div,e=a.table;if(d&&e){var g=e.rows.length,h=this.selectedIndex;switch(c){case 9:$.Event.cancel();case 13:var h=this.selectedIndex;if("undefined"!=typeof h){var i=this.table.rows[h];this.groupFill&&i.groupIndex>=0?this.groupFill(i.groupIndex):this._fill(i.name),this._remove()}return;case 27:if(this.div)return this._remove(),void 0;break;case 38:a.finishMenu(),"undefined"==typeof h?this.selectedIndex=0:0===h?this.selectedIndex=g-1:this.selectedIndex--;break;case 40:a.finishMenu(),"undefined"==typeof h?this.selectedIndex=0:h==g-1?this.selectedIndex=0:this.selectedIndex++}f.call(this)}}function d(){var a;try{a=$L("support.AddressSupport")}catch(b){return b}var c,d=this;c=d.data?d.data:a.getContactLiteArray("all");var e=[],g=d.match,h=d.input.dom.value;if(!h)return d.div&&d._remove(),void 0;if(h!=d.key||!d.div){d.div&&d._remove();var i=c;d.key&&0===h.indexOf(d.key)&&d.last&&!d.nostore&&(d.groupMatch&&d.key.length<=2||(i=d.last)),d.last=[];for(var j=0,k=i.length;k>j;j++){var l=i[j],n=g(h,l);n&&(e.push(n),d.last.push(l))}var o=[];if(d.groupData){var p=d.groupData;d.key&&0===h.indexOf(d.key)&&d.lastGroup&&(p=d.lastGroup),d.lastGroup=[];for(var j=0;j<p.length;j++){var q=p[j];d.groupMatch(h,q)&&(o.push(q),d.lastGroup.push(q))}}d.key=h;var r=e.length+o.length;if(r){var s=d.inputDiv||d.input,t=s.offset(),u=t[1]+s.dom.offsetHeight+1,v=t[0]-1,w=document,x=w.createElement("DIV");x.className="nui-menu nui-menu-scroll nui-menu-hasMaxHeight nui-scroll",x.style.styleFloat="left",x.setAttribute("unselectable","on"),x.style.top=u+"px",d.rightAlign?(x.style.right="0px",x.style.left="auto"):x.style.left=v+"px",d.isTop&&(x.style.zIndex=1e3);var y=w.createElement("TABLE");y.setAttribute("unselectable","on");var z=w.createElement("TBODY");if(z.setAttribute("unselectable","on"),y.appendChild(z),x.appendChild(y),w.body.appendChild(x),d.div=x,d.table=y,$.Array.each(e,function(a,b){if(a>d.MAX_COLUMN&&0===o.length)return d.toFinish=!0,d.matchData=e,$.BREAK;d.toFinish=!1,d.matchData=null;var c=b.replace(new RegExp(h,"g"),"__strong_start__"+h+"__strong_end__");c=m.encodeHTML(c),c=c.replace(new RegExp("__strong_start__","g"),'<strong unselectable="on">'),c=c.replace(new RegExp("__strong_end__","g"),"</strong>"),c='<span class="nui-menu-item-text" unselectable="on">'+c+"</span>";var f=z.insertRow(-1);f.setAttribute("unselectable","on"),f.name=b,f.className="nui-menu-item";var g=f.insertCell(-1);g.setAttribute("unselectable","on"),g.style.cursor="pointer",g.className="nui-menu-item-link",g.innerHTML=c,$(f).listen("click",$.Function.bind(d._click,d)),$(f).listen("mouseover",$.Function.bind(d._mouseover,d))}),o.length>0){var A=z.insertRow(-1);A.setAttribute("unselectable","on");var B=A.insertCell(-1);B.setAttribute("unselectable","on"),B.className="nui-menu-split nui-split"}$.Array.each(o,function(a,b){var c=b.N,e=c.replace(new RegExp(h,"g"),"__strong_start__"+h+"__strong_end__");e=m.encodeHTML(e),e=e.replace(new RegExp("__strong_start__","g"),"<strong>"),e=e.replace(new RegExp("__strong_end__","g"),"</strong>"),e='<span class="nui-menu-item-icon" style="top:9px;"><b class="nui-ico nui-ico-user nui-ico-user-group" unselectable="on"></b></span><span class="nui-menu-item-text" unselectable="on"> '+e+' <span class="txt-info" unselectable="on">(联系组)</span></span>';var f=z.insertRow(-1);f.groupIndex=b.index,f.setAttribute("unselectable","on");var g=f.insertCell(-1);g.setAttribute("unselectable","on"),g.style.cursor="pointer",g.className="nui-menu-item-link",g.innerHTML=e,$(f).listen("click",$.Function.bind(d._click,d)),$(f).listen("mouseover",$.Function.bind(d._mouseover,d))}),d.selectNon||(d.selectedIndex=0),$.Browser.isIE()||$(x).listen("mousedown",d._mousedown),d.toFinish&&$(x).listen("scroll",$.Function.bind(d.finishMenu,d)),d.docClick=$.Function.bind(d._remove,d),$.Event.listen(w,"click",d.docClick),f.call(d),x.offsetWidth+x.offsetLeft>w.body.offsetWidth&&(x.style.right="0px",x.style.left="auto")}}}function e(){var a=this;if(a.toFinish){a.toFinish=!1;var b=a.key,c=a.table.firstChild;$.Array.each(a.matchData,function(d,e){if(d<=a.MAX_COLUMN)return $.CONTINUE;var f=e.replace(new RegExp(b,"g"),"__strong_start__"+b+"__strong_end__");f=m.encodeHTML(f),f=f.replace(new RegExp("__strong_start__","g"),'<strong unselectable="on">'),f=f.replace(new RegExp("__strong_end__","g"),"</strong>"),f='<span class="nui-menu-item-text" unselectable="on">'+f+"</span>";var g=c.insertRow(-1);g.setAttribute("unselectable","on"),g.name=e,g.className="nui-menu-item";var h=g.insertCell(-1);h.setAttribute("unselectable","on"),h.style.cursor="pointer",h.className="nui-menu-item-link",h.innerHTML=f,$(g).listen("click",$.Function.bind(a._click,a)),$(g).listen("mouseover",$.Function.bind(a._mouseover,a))}),a.matchData=null}}function f(a){var b=this,c=b.selectedIndex;if("undefined"!=typeof c){var d=b.table.rows[c];if(b.div&&d){var e=this.currItem;if(e&&(e.className="nui-menu-item"),d.className="nui-menu-item nui-menu-item-hover",this.currItem=d,!a){var f=200,g=27*c-f+15;b.div.scrollTop=g>0?g+100:0}}}}function g(a){var b=this;b.fill?b.fill(a):b.input.dom.value=a}function h(){var a=this,b=a.div;if(b){try{b.parentNode.removeChild(b)}catch(c){try{b.removeNode(!0)}catch(d){b.style.display="none",b.id=""}}delete this.selectedIndex,b=null,a.div=null,a.table=null}var e=a.isTop?top.document:window.document;a.docClick&&$.Event.unlisten(e,"click",a.docClick),a.removing=!0,setTimeout(function(){a.removing=!1},0)}function i(){var a=this.selectedIndex;if("undefined"!=typeof a){var b=this.table.rows[a];this.groupFill&&b.groupIndex>=0?this.groupFill(b.groupIndex):this._fill(b.name),this._remove()}}function j(a){for(var b=this,c=$.Event.getTarget(a);"TR"!=c.tagName;)c=c.parentNode;if("TR"==c.tagName)for(var d=b.table.rows,e=0,g=d.length;g>e;e++)if(d[e]==c){b.selectedIndex=e,f.call(b,!0);break}}function k(){$.Event.cancel()}var l=$.Object,m=$.String,n=$.createClass($N("util.AutoComplete"));l.extend(n.prototype,{initialize:a,listen:b,createMenu:d,finishMenu:e,operate:c,_remove:h,_click:i,_mouseover:j,_mousedown:k,_fill:g,product:"",MAX_COLUMN:20,_timer:0,nostore:!1,match:null,input:null,last:null,data:null})}(),function(){function a(a,c){var d=a.toString(),e=b.items,f=(new Date).getTime();for(var g in e){var h=e[g],i=h.time,j=h.diff;f-i>=j&&delete e[g]}var k=e[d];return k||c>0&&(e[d]={time:f,diff:c}),k}var b=$.createClass($N("util.TimeFlag"));$.Object.extend(b,{items:{},handle:a})}(window),function(){function a(){k=$.Object.clone($G.get("customConf")),l=$.Object.clone($G.get("multiTabConf")),m=$.Object.clone($G.get("dockConf"))}function b(){n=null,q=!0}function c(){return l||(l=$.Object.clone($G.get("multiTabConf"))),$.Object.clone(l)}function d(){return m||(m=$.Object.clone($G.get("dockConf"))),$.Object.clone(m)}function e(a){var b=this,c=$S("domain");a=a||{};var d=a.type,e=a.call,j={"vip.163.com":"vip163","vip.126.com":"vip126","188.com":"188"},l="";if($S("isFree")||(d="url",l=j[c]),("url"!==d||$S("isCorp"))&&(d="predefine"),n||a.firstInit)return $.Object.clone(n||[]);var m=$G.attrs.user.ntes_product||"{}",p=$G.attrs.user.ntes_config||"{}",r=$G.attrs.user.ntes_service||"{}",s=$.Ud.get({field:"ntes_buzz",flag:"importedApp"})-0,t=$.Ud.get({field:"ntes_buzz",flag:"importedTab"})-0,u=$.Ud.get({field:"ntes_buzz",flag:"importedDock"})-0,v=m&&m.indexOf("app")>-1;if($.Ext.appCenter){try{var w=new o,x="uapp:listApps",y={},z=JSON.parse(m).app||[],A=JSON.parse(p).tab||[],B=JSON.parse(r).dock||[],C=!1;if(0===z.length){if(A.length>0){for(var D=0,E=A.length;E>D;D++){var F=A[D],G=F[0]+"";0!==G.indexOf("t")&&1===F[1]&&z.push(F)}C=!0}if(B.length>0){for(var D=0,E=B.length;E>D;D++){var F=B[D],G=F[0]+"";0!==G.indexOf("m")&&1===F[1]&&z.push(F)}C=!0}}s||!v&&!C||(x="uapp:updateAppsList",y={ids:g(z),result:!0});var H={func:x,url:"http://"+$S("host")+"/appcenter/ftentry.do?sid="+$S("sid"),body:y,voidRetry:!0,error:function(a){return $.Log.cache({from:"appcenter",appAction:"dataInitialize",appCode:(a||{}).code||"security_error"}),n=[],$.Listener.fire("appcenter:init"),!0},call:function(a){var b=a["var"];if(!s){var c="ntes_buzz";$.Ud.set({field:c,flag:"importedApp",value:"1",call:function(){}})}if(!t){var d=h(A),g={};g.tab=d,$.Ud.set({field:"ntes_config",value:JSON.stringify(g),call:function(){}});var c="ntes_buzz";$.Ud.set({field:c,flag:"importedTab",value:"1",call:function(){}})}if(!u){var i=h(B),j={};j.dock=i,$.Ud.set({field:"ntes_service",value:JSON.stringify(j),call:function(){}});var c="ntes_buzz";$.Ud.set({field:c,flag:"importedDock",value:"1",call:function(){}})}n=f(b),q=!1,e&&e(n),$.Listener.fire("appcenter:init")}};$S("isyeah")&&(H.url="http://appcenter.mail."+$S("domain")+"/ftentry.do?sid="+$S("sid"),H.type=o.FLASH),q||0!==A.length||0!==B.length?($S("useAppCenter",!0),w.wmsvr(H)):(n=[],e&&e(n),$.Listener.fire("appcenter:init"))}catch(I){}return[]}if("url"!==d&&(d="predefine"),"predefine"===d){if(k||(k=$.Object.clone($G.get("customConf"))),n=k[c],t){var J=i(JSON.parse(p).tab||[]),K={};K.tab=J,$.Ud.set({field:"ntes_config",value:JSON.stringify(K),call:function(){}});var L="ntes_buzz";$.Ud.set({field:L,flag:"importedTab",value:"0",call:function(){}})}if(u){var M=i(JSON.parse(r).dock||[]),N={};N.dock=M,$.Ud.set({field:"ntes_service",value:JSON.stringify(N),call:function(){}});var L="ntes_buzz";$.Ud.set({field:L,flag:"importedDock",value:"0",call:function(){}})}return $.Listener.fire("appcenter:init"),$.Object.clone(n||[])}if($.Ext.appCenter);else if(!n&&b._getListOnce){var O=$.Uri.getUrl("appsList",!0),P={requestType:$.Ajax.SCRIPT,charset:"GBK",url:O+"?domain="+l,paddingFunc:function(a){a.code===$.S_OK&&(n=a.appsList,$.Array.each(n,function(a,b){b.display=b.def?1:0,b.newWindow=!!(b.newwindow&&b.newwindow|!1);var c=$G.get("vipLockAppConf")&&$G.get("vipLockAppConf")[b.name];c&&(b.lockid=c.lockid)}),$S("AppDataPrepared",!0),e&&e(n),$.Listener.fire("appcenter:init"))}};$.Ajax.request(P)}return $.Object.clone(n||[])}function f(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];d.id=d.appId,d.text=d.name,d.name=d.appId,d.display=1,d.fullScreen=!0,d.isAppcenterApp=!0,d.url&&0!==d.url.indexOf("http")&&(d.name=d.url)}return a}function g(a){for(var b=$G.get("appIdToAppCenter")[$S("domain")],c=[],d=0;d<a.length;d++){var e=a[d];if(e[1]){var f=b[e[0]+""]-0;f&&c.push(f)}}return c}function h(a){for(var b=$G.get("appIdToAppCenter")[$S("domain")],c=[],d=0;d<a.length;d++){var e=a[d],f=e[0]+"";if(0===f.indexOf("t")||0===f.indexOf("m"))c.push(e);else{var g=b[f]-0;g&&c.push([g,e[1]])}}return c}function i(a){for(var b=j($G.get("appIdToAppCenter")[$S("domain")]),c=[],d=0;d<a.length;d++){var e=a[d],f=e[0]+"";if(0===f.indexOf("t")||0===f.indexOf("m"))c.push(e);else{var g=b[f]-0;g&&c.push([g,e[1]])}}return c}function j(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}var k,l,m,n,o=$I("core.DataAction"),p=$.createClass($N("init.CustomAppDataSource")),q=!1;$.Object.extend(p,{_getListOnce:!0,init:a,reset:b,getPredefineTabApps:c,getPredefineDockApps:d,getAppsList:e})}(window),function(){function a(){function a(){b._updateCustomSetting(b.APP_TYPE.Tab,b._generateAppOrderStringByType(b.APP_TYPE.Tab,b.getTabAppsList())),b._updateCustomSetting(b.APP_TYPE.Dock,b._generateAppOrderStringByType(b.APP_TYPE.Dock,b.getDockAppsList()))}var b=this;b.customAppDataSource=$I("init.CustomAppDataSource"),b.customAppDataSource.init(),b.constructor.appmodifyListened||(N.listen("appmanager:modify",function(){a()}),b.constructor.appmodifyListened=!0)}function b(a){for(var b=this,c=b._getCustomListFromGlobalUserAttrByType(b.APP_TYPE.App),d=b.customAppDataSource.getAppsList(a),e=0,f=d.length;f>e;e++)d[e].display=d[e].display?1:0;if(0===c.length)return d;for(var g=[],h=0,i=d.length;i>h;h++){var j=d[h];$.Ext.appCenter||(j.display=b._getAppDisplaySetting(c,j.id)),g.push(j)}return $.Ext.appCenter||(b._orderByCustomOrder(g,c),b._orderByProperty(g,"display")),g}function c(a){for(var b=this,c=b.APP_TYPE,d=b.getAppsList(a),e=b._getCustomListFromGlobalUserAttrByType(b.APP_TYPE.Tab),f=b.customAppDataSource.getPredefineTabApps(),g=[],h=0,i=f.length;i>h;h++)f[h].id=f[h].tabid,f[h].module?g.push(f[h]):g.push(b._initialApp(c.Tab,f[h],f[h].display));for(h=0,i=d.length;i>h;h++){var j=d[h];j.display&&!j.newWindow&&g.push(b._initialApp(b.APP_TYPE.Tab,j))}return b._orderByCustomOrder(g,e),b._orderByProperty(g,"display"),b._orderByProperty(g,"isPromoteTab",!0),g}function d(){for(var a,b=this,c=b.getAppsList(),d=b.customAppDataSource.getPredefineDockApps(),e=b._getCustomListFromGlobalUserAttrByType(b.APP_TYPE.Dock),f=[],g=0,h=d.length;h>g;g++){var i=d[g];if(a=$.Array.findObject(c,"id",d[g].id),i.isModule&&!a){var j=i.icon;i.name&&(j=i.name),f.push({id:i.id,dockid:i.id,display:i.display||0,text:i.text,isModule:!0,name:j,icon:$.Ext.appCenter?i.icon:i.defaultIcon&&i.icon,isDef:!0})}}for(g=0,h=c.length;h>g;g++){var k,l,m=c[g];m.display&&(l=b._initialApp(b.APP_TYPE.Dock,m),k=$.Array.findObject(d,"id",m.id),k&&(l.isDef=!0,l.display=k.display||0),f.push(l))}if($S("isFree")){var n=$.AppCenterInterface.appIdForYiqipin(),o={id:n,dockid:n,display:1,text:"一起拼",icon:"pin163"},p=$.Array.indexOf(f,function(a){return a.id===n});p>-1&&f.splice(p,1),f.splice(0,0,o)}return b._orderByCustomOrder(f,e),$S("isFree")&&(p=$.Array.indexOf(f,function(a){return a.id===n}),p>-1&&M(f,p,0)),b._orderByProperty(f,"display"),f}function e(a){var b=this,c=b.APP_TYPE;return a===c.App?this.getAppsList():a===c.Tab?this.getTabAppsList():a===c.Dock?this.getDockAppsList():[]}function f(a){var b=this.getAppsList(),c=$.Array.findObject(b,"id",a);return c?c.display||0:0}function g(a){var b=this.getAppsList(),c=$.Array.findObject(b,"id",a);return c||{}}function h(a,b){var c=this,d=c.APP_TYPE;c._updateCustomSetting(a,"",b),a===d.Tab&&c.setTempPromoteTabStatus(!0),(a===d.Tab||a===d.App)&&$.Listener.fire("tab:reset"),a===d.App&&$.Listener.fire("appmanager:modify","reset")}function i(a,b){var c,d=this;if($.Ext.appCenter){var e,f;"object"==typeof a?(e=a,f=e.call):("string"==typeof a||"number"==typeof a)&&(c=d.getAppsList(),e=$.Array.findObject(c,"id",a),f=b);var g=e.url||"",h=e.text||e.apptext,i=e.appId||e.id,j=e.name;$E("interface.OutlinkInterface",function(a){a.goOutlink({key:j,title:h,text:h,url:g,isAppCenter:!0,fullScreen:!0,group:e.group||j,appId:i,call:f,lockid:e.lockId,cross:e.canCross,param:{log:JSON.stringify({AppCenter_AppId:i,uid:$S("uid")})}})})}else{c=this.getAppsList();var k=$.Array.findObject(c,"id",a);$E("interface.OutlinkInterface",function(a){a.goOutlink({key:k.name,title:k.text,lockid:k.lockid,cross:k.listen})})}}function j(a,b,c,d,e){var f=$S("fullDomain");if(c&&c.indexOf("$fullDomain$")>-1&&(c=c.replace("$fullDomain$",f)),d)return window.open(c),void 0;var g;$S("isVip")&&"recovery"===a&&(g=!0),"object"==typeof b?$E("interface.OutlinkInterface",function(c){c.goOutlink({key:a,title:b.title,text:b.title,url:b.url,group:b.group,noCache:g,param:b.param})}):$E("interface.OutlinkInterface",function(d){d.goOutlink({key:a,title:b,text:b,url:c,noCache:g,group:e})})}function k(a,b,c){var d=this,e=d.getAppTypeFromList(a);if(e===d.APP_TYPE.Tab){for(var f=0,g=0,h=a.length;h>g;g++)a[g].display&&f++;if(f>d.maxTabWindows)return $.Msgbox.show({title:"最多只能设置"+d.maxTabWindows+"个自定义标签窗口。"}),void 0}d._addOrRemoveAppByType(e,a,b,c)}function l(a,b){var c=this,d=c.getAppsList();c.addApp(d,a,b)}function m(a,b){var c=this,d=c.getTabAppsList();c.addApp(d,a,b)}function n(a,b){var c=this,d=c.getDockAppsList();c.addApp(d,a,b)}function o(a,b,c){var d=this,e=d.getAppTypeFromList(a);d._addOrRemoveAppByType(e,a,b,c,!1)}function p(a,b,c){var d=this,e=d.getAppTypeFromList(a);d._addOrRemoveAppDataSourceByType(e,a,b,c,!1)}function q(a,b){var c=this,d=c.getAppsList();c.removeApp(d,a,b)}function r(a,b,c,d){var e=this,f=e.getAppTypeFromList(a);e._moveAppByType(f,a,b,c,d)}function s(a){for(var b=0,c=0,d=a.length;d>c;c++)a[c].display&&(b+=1);return b}function t(a){var b=this,c=b.APP_TYPE,d=c.App;return a&&a[0]&&(a[0].tabid?d=c.Tab:a[0].dockid&&(d=c.Dock)),d}function u(a,b){var c=this,d=c.APP_TYPE.Dock,e=c.getDockAppsList(),f=$.Array.findObject(e,"id",a);f&&(f.isNew=!1),c._updateCustomSetting(d,c._generateAppOrderStringByType(d,e),b)}function v(a,b){var c=$I("core.DataAction"),d="uapp:addApp",e={id:a},f=new c,g={func:d,url:"http://"+$S("host")+"/appcenter/ftentry.do?sid="+$S("sid"),body:e,voidRetry:!0,error:function(b){return $.Log.cache({from:"appcenter",appAction:"addApp",appId:a,appCode:(b||{}).code||"security_error"}),!0},call:function(){b&&b()}};$S("isyeah")&&(g.url="http://appcenter.mail."+$S("domain")+"/ftentry.do?sid="+$S("sid"),g.type=c.FLASH),f.wmsvr(g)}function w(){var a=this;a.customAppDataSource.reset()}function x(a){var b=this;if(!a.isTempPromoteTab)return a.display-0==R.Show;if(a.display==R.ForbidHidden)return!1;if(a.display===R.ForbidShow)return!0;var c=a.promoteConfig;if(c){var d=c.hiddenIntervalInHour,e=c.removeTimes,f=b.getTempPromoteTabStatus(a)||{},g=f.c||0;if(g>=e)return!1;if(g>0){var h=f.t,i=(new Date).valueOf();if(i>=h&&36e5*d>=i-h)return!1}}return!0}function y(a,b){var c=this,d=c.getTempPromoteTabStatus(a)||{},e=d.c||0;b>0?e+=b:0==b&&(e=0),d.c=e,d.t=(new Date).valueOf(),c.setTempPromoteTabStatus(a,d)}function z(a){var b="__intenal__TPTS",c=$.Cookie.get(b);try{var d=JSON.parse(c);return a?d[a.tabid]:d}catch(e){return}}function A(a,b){var c=this,d="__intenal__TPTS",e=c.getTempPromoteTabStatus()||{};if(a===!0)return $.Cookie.set(d,"",{path:"/",expires:365,domain:$S("fullDomain")}),void 0;if(a){e[a.tabid]=b;var f=JSON.stringify(e);$.Cookie.set(d,f,{path:"/",expires:365,domain:$S("fullDomain")})}}function B(a,b,c){var d=this,e=b.group||b.name;"nf_center"===e&&(e="file_center");var f={id:b.id,appDisplay:b.display,display:c?c:0,module:"outlink.OutlinkModule",param:{key:b.name},name:b.name,text:b.text,icon:b.icon,fullScreen:b.fullScreen,group:e,isPromoteTab:b.isPromoteTab,isTempPromoteTab:b.isTempPromoteTab,promoteConfig:b.promoteConfig,onRender:b.onRender,entry:$.Function.bind(function(a){b.isAppcenterApp?this.startApp(a.appId||a.id):$E("interface.OutlinkInterface",function(b){var c=a.group||a.name;"nf_center"===c&&(c="file_center"),b.goOutlink({key:a.name,title:a.text,lockid:a.lockid,cross:a.listen,fullScreen:a.fullScreen,group:c})})},d,b),active:$.Function.bind(function(a){return a.key+""==this.name+""},b)};return d.APP_TYPE.Tab===a?(f.tabid=b.id,f.isAppTab=!0,b.nonClose&&(f.nonClose=b.nonClose)):d.APP_TYPE.Dock===a&&(f.dockid=b.id,f.isAppDock=!0),f}function C(a,b,c){for(var d=0,e=0,f=a.length;f>e;e++)if(c&&a[e][b]||!c&&!a[e][b])d>e&&(d=e);else if(e>d){M(a,e,d);for(var g=d+1;f>g;g++)if(c&&a[e][b]||!c&&!a[e][b]){d=g;break}}else d+=1;return a}function D(a,b){for(var c=0,d=0,e=a.length;e>d;d++)if(a[d][0]+""==b+""){c=a[d][1];break}return c}function E(a,b){for(var c=b.length-1;c>=0;c--){for(var d=b[c][0],e=b[c][1],f=b[c][2],g=-1,h={},i=0,j=a.length;j>i;i++)if(a[i].id+""==d+""){g=i,a[i].display=e,h=a[i];break}f&&(h.isNew=!0),e&&g>=0&&(a.splice(g,1),a.unshift(h))}return a}function F(a,b,c){var d=P[a];$.Ud.set({field:d,value:b,call:function(){c&&c()}})}function G(a,b,c,d,e){var f=this,g=f.APP_TYPE,h=void 0===e||e===!0?R.Show:R.Hidden;return b=f._addOrRemoveAppDataSourceByType(a,b,c,d,e),(a===g.Tab||a===g.App)&&(h!=R.Show&&h!=R.ForbidShow||a===g.App?N.fire("tab:modify",c):N.fire("tab:modify")),a!==g.App||h||N.fire("appmanager:modify","remove"),b}function H(a,b,c,d,e){var f,g=this,h=g.APP_TYPE,i="id",j=void 0===e||e===!0?R.Show:R.Hidden;if(a===h.Tab?i="tabid":a===h.Dock&&(i="dockid"),f=$.Array.findObject(b,i,c)){if(a===h.Tab&&f.isTempPromoteTab)if(void 0===e||e===!0)j=R.ForbidShow;else{f.promoteConfig;var k=!1;j=k?R.Hidden:R.ForbidHidden}f.display=j,a===h.Dock&&(f.isNew=!0)}return g._orderByProperty(b,"display"),g._updateCustomSetting(a,g._generateAppOrderStringByType(a,b),d),b}function I(a,b,c,d,e){var f=this,g=f.APP_TYPE,h=b.length;return c>=h||d>=h||0===h?b:a===g.App&&!$.Object.has(b[0],"id")||a===g.Tab&&!$.Object.has(b[0],"tabid")||a===g.Dock&&!$.Object.has(b[0],"dockid")?b:(L(b,c,d),f._updateCustomSetting(a,f._generateAppOrderStringByType(a,b),e),a===g.Tab&&N.fire("tab:modify"),b)}function J(a,b){var c=this,d=c.APP_TYPE,e=[],f="id";a===d.Tab?f="tabid":a===d.Dock&&(f="dockid");for(var g=0,h=b.length;h>g;g++){var i=b[g];i.isNew?e.push([i[f],i.display,1]):e.push([i[f],i.display])}var j={};return j[a]=e,JSON.stringify(j)}function K(a){try{return JSON.parse(window.$G.attrs.user[P[a]]||"{}")[a]||[]}catch(b){return[]}}function L(a,b,c){var d=a[b];return b>c?(a.splice(b,1),a.splice(c+1,0,d)):c>b&&(a.splice(b,1),a.splice(c,0,d)),a}function M(a,b,c){var d=a[b];return a.splice(b,1),a.splice(c,0,d),a}var N=$I("core.Listener"),O=$.createClass($N("init.CustomAppManager")),P={defined:"ntes_defined",tab:"ntes_config",dock:"ntes_service",app:"ntes_product"},Q={App:"app",Tab:"tab",Dock:"dock"},R={Hidden:0,Show:1,ForbidHidden:2,ForbidShow:3};$.Object.extend(O,{maxTabWindows:10,APP_TYPE:Q,DisplayType:R,customAppDataSource:null,init:a,getAppTypeFromList:t,getAppsList:b,getTabAppsList:c,getDockAppsList:d,getAppsListByType:e,addApp:k,addMailApp:l,addTabApp:m,addDockApp:n,removeApp:o,removeAppWithoutNotice:p,removeMailApp:q,moveApp:r,resetSetting:h,getAppStatus:f,getApp:g,selectedAppsCount:s,startApp:i,goOutLink:j,markDockAppClicked:u,addUserAppToServer:v,resetDataSource:w,shouldTabAppShow:x,setTempPromoteTabClicked:y,getTempPromoteTabStatus:z,setTempPromoteTabStatus:A,_initialApp:B,_orderByProperty:C,_addOrRemoveAppByType:G,_addOrRemoveAppDataSourceByType:H,_getAppDisplaySetting:D,_orderByCustomOrder:E,_updateCustomSetting:F,_moveAppByType:I,_generateAppOrderStringByType:J,_getCustomListFromGlobalUserAttrByType:K})}(),function(a,b){function c(){r._initialize()}function d(b,c){switch(b){case"full":break;case"hfull":a.fly("#dvNavContainer").hide(),r._isIE6||(a.fly("#themeLeft").hide(),a.fly("#themeLeftTop").hide(),a.fly("#themeLeftBottom").hide());break;default:c||a.fly("#dvNavContainer").show(),r._isIE6||(a.fly("#themeLeft").show(),a.fly("#themeLeftTop").show(),a.fly("#themeLeftBottom").show())}}function e(b,c,d){d=d||a.Context.module;var e=d._var;if(e){var f=d.mtype;try{var g=e&&e.param&&e.param.fullScreen,h=r.topHeight,i=g?0:r.leftWidth,j=r.topToolbarHeight;r.navTopHeight;var k=r.dragHandler,l=document.documentElement,m=l.clientHeight,n=l.clientWidth,o=m-h,p=n-i,q="";r._ieVersion<9&&"mbox.BrandModule"!==f&&(f="compose.ComposeModule",i=0);var s=r.moduleDft[f],t=e.fixViewType;if(t){var t=s.fixModules[t];t&&(f=t,s=r.moduleDft[f])}s||(s=r.moduleDft.dft),s.topToolbarHeight&&(j=s.topToolbarHeight);var u=s.minWidth||0,v=s.minHeight||0,w=s.width||0,x=s.height||0;u>w?w=s.width=u:w>p-u&&(w=s.width=p-u),v>x?x=s.height=v:x>o-v&&(x=s.height=o-v),s.reverse&&(w=p-w,x=o-x),r._curLayout===r._layoutType.calc?q+=[".columns-lr-view{width:"+w+"px}",".columns-lr-main{width:"+(n-i-w)+"px}",".columns-lr-main-shareBar{width:"+(n-i)+"px}",".columns-lr-main-shareBar .frame-main-cont-body{width:"+(n-i-w)+"px}",".columns-lr-view-shareBar .frame-main-cont-body{height:"+(o-j)+"px}"].join(""):r._curLayout===r._layoutType["float"]?q+=[".columns-lr-view{width:"+w+"px}",".columns-lr-main{width:"+(n-i-w)+"px}",".columns-lr-main-shareBar{width:"+(n-i)+"px}",".columns-lr-main-shareBar .frame-main-cont-body{width:"+(n-i-w)+"px}"].join(""):r._curLayout===r._layoutType.auto&&(q+=[".frame-main-sptln-lr{right:"+w+"px}",".frame-main-sptln-tb{top:auto;bottom:"+x+"px}"].join(""),q+=[".columns-lr-view{width:"+w+"px}",".columns-lr-main{right: "+w+"px!important;}",".columns-lr-main-shareBar{right: 0!important}",".columns-lr-main-shareBar .frame-main-cont-body{right: "+w+"px!important}",".columns-lr-main-hasDrag .frame-main-cont-body{right: "+(w+k)+"px!important;}"].join(""),q+=[".columns-tb-view{height:"+x+"px}",".columns-tb-main{bottom: "+x+"px!important;}",".columns-tb-main-hasDrag{bottom: "+(x+k)+"px!important;}"].join("")),a.Support.insertStyle(q,"columnsStyle")
}catch(y){}}}function f(){switch(r._isIE6=6===r._ieVersion,r._isIE7=7===r._ieVersion,r._isIE8=8===r._ieVersion,"student"===$G.mailPattern.currentPattern&&(r.topHeight=0),r._ieVersion){case 6:r._curLayout=r._layoutType.calc;break;case 7:case 8:r._curLayout=r._layoutType["float"];break;default:r._curLayout=r._layoutType.auto}}function g(){try{if(r._curLayout!==r._layoutType.auto){var b=r.topHeight,c=r.leftWidth,d=r.topToolbarHeight;r.bottomToolbarHeight;var e=r.navTopHeight,f=!1,g=document.documentElement,h=g.clientHeight,i=g.clientWidth;if("number"!=typeof r.clientHeight||"number"!=typeof r.clientWidth?f=!0:(r.clientHeight!==h||r.clientWidth!==i)&&(f=!0),f){r.clientHeight=h,r.clientWidth=i;var j=h-b,k="";r._curLayout===r._layoutType.calc?k+=[".frame-nav{height:"+j+"px;}",".frame-nav .sH0{height:"+(j-e)+"px;}",".frame-nav .mt1{height:"+j+"px;}",".frame-main{height:"+j+"px;width:"+(i-c)+"px;}",".frame-main-cont-body{height:"+(j-d)+"px;}",".frame-main-cont-body-noToolbar{height:"+j+"px;}",".frame-main-noNav{width:"+i+"px;}",".frame-main-noTop{height:"+h+"px;}",".frame-main-noTop .frame-main-cont-body{height:"+(h-d)+"px;}",".frame-main-noTop .frame-main-cont-body-noToolbar{height:"+h+"px;}",".skin-left,.skin-left-top,.skin-right-top{height:"+j+"px;}"].join(""):r._curLayout===r._layoutType["float"]&&(k+=[".frame-nav{height:"+j+"px;}",".frame-nav .sH0{height:"+(j-e)+"px;}",".frame-nav .mt1{height:"+j+"px;}",".frame-main{height:"+j+"px;width:"+(i-c)+"px;}",".frame-main-cont-body{height:"+(j-d)+"px;}",".frame-main-cont-body-noToolbar{height:"+j+"px;}",".frame-main-noNav{width:"+i+"px;}",".frame-main-noTop{height:"+h+"px;}",".frame-main-noTop .frame-main-cont-body{height:"+(h-d)+"px;}",".frame-main-noTop .frame-main-cont-body-noToolbar{height:"+h+"px;}",".skin-left,.skin-left-top,.skin-right-top{height:"+j+"px;}"].join("")),a.Support.insertStyle(k,"frameStyle")}}r.setColumns(null,null,{mtype:"compose.ComposeModule",_var:{param:{fullScreen:!0}}})}catch(l){}}function h(){var b=a.Browser.getInfo(),c=b.appName;b.version;var d=b.os,e=b.system,f=document.body,g="",h="";r._isIe?(g+=" ua-ie"+r._ieVersion,r._ieVersion<=9&&(g+=" ua-lteie9"),r._ieVersion<=8&&(g+=" ua-lteie8"),r._ieVersion<=7&&(g+=" ua-lteie7")):(g+=" ua-"+c,g+=" ua-notIE");var i="windows"==d&&("5.1"==e||"5.2"==e)||"macintosh"==d;switch(i&&(g+=" ua-noYahei"),$S("font",i?"none":"yahei"),"macintosh"==d&&(g+=" ua-osX"),r._curLayout){case r._layoutType.calc:h=" frame-default frame-calc";break;case r._layoutType["float"]:h=" frame-float";break;default:h=" frame-default frame-auto"}"student"===$G.mailPattern.currentPattern&&(h+=" frame-noTop"),a(f).addClass(g+h)}function i(){a(document.body).addClass($G.user.css)}function j(b,c){var d=null;if("string"==typeof b?d=b:"object"==typeof b&&(d=b.name),d){var e=a(d);if(e){var f=e.dom;if(f){if(!c)try{f.contentWindow.document&&f.contentWindow.document.body.scrollHeight?c=f.contentWindow.document.body.scrollHeight:f.contentWindow&&(c=f.contentWindow.document.documentElement.offsetHeight+100)}catch(g){c="500"}c=500>c?500:c,f.style.height=c+"px"}e.destroy()}}}function k(){function b(){var b=a.Context.module;if(b){var c,d=b.mtype,h=a.Event.getEvent().clientY,i=a.Event.getEvent().clientX,j=r.moduleDft[d],k="";j&&("t-b"===g?(c=h-e,k="height"):(c=i-f,k="width"),j.reverse?j[k]+=c:j[k]-=c,e=h,f=i,r.setColumns(g))}}function c(){a.fly(document.body).unlisten("mousemove",b),a.fly(document.body).unlisten("mouseup",b),a.fly(document.body).removeClass("frame-draging"),a.fly(document.body).removeClass("nui-fNoSelect")}var d=r._curLayout;if(d===r._layoutType.auto){var e,f,g,h=a.fly("#dvSplitter").dom;a.Event.listen(h,"mousedown",function(){a.Event.listen(document.body,"mousemove",b),a.Event.listen(document.body,"mouseup",c),a.fly(document.body).addClass("frame-draging"),a.fly(document.body).addClass("nui-fNoSelect"),g=a.Context.module._viewType,g&&(e=a.Event.getEvent().clientY,f=a.Event.getEvent().clientX)})}}function l(a,b){if(b.parent){b.parent.container.style.width=Math.max(document.documentElement.clientWidth-200-201-10,0)+"px";var c=a.container.style;c.height=Math.max(document.documentElement.clientHeight-88-10,0)+"px",c.position="absolute",c.top="10px",c.right=0,c.width="200px"}}function m(b,c,d){function e(b,c,d){if(b){var e;e=d?["columns-lr-main","columns-lr-main-hasDrag","columns-lr-main-shareBar","columns-tb-main","columns-tb-main-hasDrag"]:["columns-lr-view","columns-lr-view-shareBar","columns-tb-view"];for(var f=[],g=e.length;g--;)c&&-1!==c.indexOf(e[g])||f.push(e[g]);var h=a(b);h.removeClass(f.join(" ")),h.addClass(c)}}c=c||a.Context.module;var f,g,h="dvSubContainer";d||(d=c._var);var i=!0;d.parent?(c=c||a.SM.get(d.module,d.param),i=!1,g=c,"string"==typeof d.parent&&(d.parent=a.JS.find(d.parent)),f=d.parent):f=c;var j=!0;if(f._var&&!f._var.hasChildMod&&(j=!1),j){if(!i&&f._alreadySetViewType){f._child=g,g._parent=f;var k;return"l-r"===f._viewType?(k="columns-lr-view",f._var&&f._var.sharebar&&(k+=" columns-lr-view-shareBar")):"t-b"===f._viewType&&(k="columns-tb-view"),e(g.container,k,!1),void 0}}else if(i&&f._viewType&&"normal"!==f._viewType)return;try{if("normal"==b&&$S("firstSetViewType",!1),$S("checkViewType"));else{var l=a.Ud.get({field:"ntes_inbox",flag:"layout"});if(!l)return;$S("checkViewType",!0)}c._child&&(b=b||c._viewType,g=c._child);var m=d.sharebar||c&&c._sharebar;d.sharebar&&d.parent&&(d.parent._sharebar=!0);var n=d.noDragbar||c&&c._noDragbar;d.bNoDragBar&&d.parent&&(d.parent._noDragbar=!0);var o={"l-r":"columns-lr-main"+(m?" columns-lr-main-shareBar":"")+(n?"":" columns-lr-main-hasDrag"),"t-b":"columns-tb-main"+(n?"":" columns-tb-main-hasDrag")},p={"l-r":"columns-lr-view"+(m?" columns-lr-view-shareBar":""),"t-b":"columns-tb-view"};d.parent&&"string"==typeof d.parent&&(d.parent=a.JS.find(d.parent));var q=a.fly("#dvSplitter"),s=d.hideSplit||c&&c._hideSplit;d.hideSplit&&d.parent&&(d.parent._hideSplit=!0),n||s?q.hide():q.show(),b=b||d.viewType||"normal",d.parent&&c&&(c._parent=d.parent||c._parent,d.parent._child=c,d.parent._viewType=b);var t=!1;if("normal"==b&&(t=!0),!t&&(d.parent||!f.removeChildMod&&d.hasChildMod)){b=b||c._viewType||"l-r",$S("viewType",b);var u=o[b],v=p[b];e(f.container,u,!0),g&&e(g.container,v,!1),"l-r"===b?(a.fly("#dvSplitter").removeClass("frame-main-sptln-tb"),a.fly("#dvSplitter").addClass("frame-main-sptln-lr")):(a.fly("#dvSplitter").removeClass("frame-main-sptln-lr"),a.fly("#dvSplitter").addClass("frame-main-sptln-tb")),$S("firstSetViewType",!0),r._ieVersion<9||r.setColumns("l-r"==b?"h":"v",null,f),d.hasChildMod&&(c._alreadySetViewType=!0,c._viewType=b),a.fly("#"+h).show()}else $S("viewType",null),e(f.container,"",!0),g&&e(g.container,"",!1),d.hasChildMod&&(c._alreadySetViewType=!0),f._viewType="normal",a.fly("#"+h).hide(),a.fly("#dvSplitter").hide()}catch(w){}}function n(){function c(){b.setTimeout(function(){var b=a("#dvCssLoadedAlert");g=d.currentStyle||document.defaultView.getComputedStyle(d),!g||"absolute"==g.position&&"none"==g.display?(b.hide(),g=null,d=null,b=null,c=null):c()},1e3)}var d=a.fly("#spnCheckCssLoaded").dom,e=a("#spnCheckFont");e.addClass("nui-txt-s12");var f=parseInt(e.dom.offsetWidth,10),g=d.currentStyle||document.defaultView.getComputedStyle(d);if(!g||"absolute"==g.position&&"none"==g.display)e.addClass("nui-txt-fNui"),b.setTimeout(function(){(parseInt(e.dom.offsetWidth,10)==f||parseInt(e.dom.offsetWidth,10)<24)&&(r.fontFix(),b.setTimeout(function(){(parseInt(e.dom.offsetWidth,10)==f||parseInt(e.dom.offsetWidth,10)<24)&&(a.fly(document.body).addClass("ua-noWebFont"),r.fontFix(),b.setTimeout(function(){r.fontFix(),b.setTimeout(function(){parseInt(e.dom.offsetWidth,10)!=f&&parseInt(e.dom.offsetWidth,10)>24&&a.fly(document.body).removeClass("ua-noWebFont")},2e3)},2e3))},2e3))},1e3);else{var h='<div id="dvCssLoadedAlert" style="position:absolute;left:0;top:0;z-index:999;width:355px;font-size:12px;line-height:1.666;background:#fff;border:4px solid #7594CD;padding:10px 20px">   <h3 style="margin:10px 0;font-size:14px">CSS加载失败</h3>   <p style="margin:10px 0">由于网络延迟，邮箱加载CSS样式失败，请点击重新加载或刷新浏览器重新加载页面。</p>   <p style="margin:20px 0 0;text-align:right"><button onclick="top.location.href=\'http://'+top.location.host+"/js6/main.jsp?sid="+$S("sid")+"'\">重新加载</button></p>"+"</div>";a(document.body).append(h),c()}}function o(){var b=$S("isCorp"),c="";c=b?"http://mimg.qiye.163.com/":"https://mimg.127.net/";var d='@font-face{font-family: "nui";src: url("'+c+'p/font/js6/v1/neteasefont-regular.eot");src: url("'+c+'p/font/js6/v1/neteasefont-regular.eot#iefix") format("embedded-opentype"),url("'+c+'p/font/js6/v1/neteasefont-regular.woff") format("woff"),url("'+c+'p/font/js6/v1/neteasefont-regular.ttf")  format("truetype"),url("'+c+'p/font/js6/v1/neteasefont-regular.svg#neteasefontRegular") format("svg")}';a.Support.insertStyle(d,"fontStyleFix")}function p(){if(a.Browser.isIE("<9")){var b=!1,c=document.documentElement.clientWidth;if(c!=$S("clientWidth"))b=!0;else{var d=a.Context.module;d&&d.container&&d.container.offsetWidth<c-201-50&&(b=!0)}b&&a.Frame.initLayOut()}}var q={auto:"auto",calc:"calc","float":"float"},r=a.createClass($N("init.Frame"));a.Object.extend(r,{topHeight:86,leftWidth:201,topToolbarHeight:46,bottomToolbarHeight:46,navTopHeight:38,dragHandler:5,clientWidth:null,clientHeight:null,moduleDft:{dft:{height:0,width:0},"compose.ComposeModule":{width:200,topToolbarHeight:53},"mbox.ListModule":{minHeight:200,height:250,width:400,minWidth:300,reverse:!0,fixModules:{brand:"mbox.BrandModule"}},"mbox.BrandModule":{minHeight:200,height:250,width:200,minWidth:200},"mbox.SearchModule":{minHeight:200,height:250,width:400,minWidth:300,reverse:!0}},_ieVersion:a.Browser.ie()-0,_isIE6:!1,_isIE7:!1,_isIE8:!1,_isIe:a.Browser.isIE(),_layoutType:q,_curLayout:"",init:c,fullScreen:d,setColumns:e,setIEViewType:l,setViewType:m,_initialize:f,initSplit:k,initLayOut:g,resetLayout:p,checkCssLoaded:n,fontFix:o,setBodyCss:h,setSkinClass:i,setHeight:j})}($,window),function(a,b,c){function d(){tb._initialize(),a.Frame.init(),a.Frame.initLayOut(),tb._initUserData();try{var b,c=a.Cookie.get("S_INFO").split("|");if(c&&c.length>5&&(b=c[5],"mailmaster_ios"===b||"mail_ios"===b||"mailmasterpro"===b||"mailmaster_android"===b||"neteasemail_android"===b))return $S("isMailMasterLogined",!0),void 0}catch(d){}}function e(){tb._initTopNav(),a.Thread.run(function(){tb._initSearch()},0),tb._initAd(),a.Frame.initSplit(),tb.setGlobalEvent(),tb.setGlobeTimer(),tb.setCookie(),a.Frame.setBodyCss(),a.Frame.setSkinClass(),a.Thread.delay(function(){tb.displayTitle()},0)}function f(b,c){var d=a.SenderList.getMobile(),e=d;if(c&&!e)return b;if(d){var f=d.address.split("@")[0];if(-1===b.indexOf(f))return b}var g=b.split("@");return g[0].replace(/^m(1[345678]\d{9})(?:_\d+)?$/,"$1")+"@"+g[1]}function g(){function c(b){var c=!1;if(b&&b.Contacts){var d=b.Contacts;if(d.changed&&(d.info.inited||d.info.length))return d.info.length?a.Nav.addItem("contactMail"):a.Nav.update(),void 0}c&&(a.Context.navAdded=!0);var e=["Folder","Tag","Defer","Contacts"];a.Nav.update(),b&&b.Folder&&b.Folder.changed&&tb.displayTitle();var f=!1;if(b)for(var g=0,h=e.length;h>g;g++){var i=b[e[g]];if(i&&i.changed){f=!0;break}}f&&rb.fire("accountRelate:getCount")}function d(b){if(!a.Browser.firefox()||3!==a.Event.get().which-0){var c=a.Event.getTarget(b,!0);return c&&c.tagName&&"input"===c.tagName.toLowerCase()?(("checkbox"===c.type||"radio"===c.type)&&c.blur(),void 0):(c&&a.Array.each(new Array(3),function(){if("javascript:void(0);"===c.href||"javascript:void(0)"===c.href||"javascript:;"===c.href)return a.Event.cancel(b),a.BREAK;var d=c.parentNode;return d?(c=d,void 0):a.BREAK}),void 0)}}rb.listen("global:uidChanged",function(b){a.fly("#spnUid").html(b),$S("mobile_sender")&&$S("mobile_sender")!==b?$S("mobile_sender",""):$S("mobile_sender",b)}),rb.listen("folder",function(){"folder:add"!==a.Context.event&&(a.Nav.show(),a.Listener.fire("accountRelate:getCount"))}),rb.listen("tag",function(){"tag:add"!==a.Context.event&&(a.Nav.show(),rb.fire("accountRelate:getCount"))}),rb.listen("letter:update",function(){setTimeout(function(){a.Nav.show(),rb.fire("accountRelate:getCount")},0)}),rb.listen("folder:add",function(){a.Nav.createNav(),tb.displayTitle(),a.Context.navAdded=!0}),rb.listen("mailcenter:add",function(){rb.one("global:navchange",function(b){b&&(a.Context.navAdded=!0)})}),rb.listen("sync:request",c),rb.listen("sync:cache",c),rb.listen("global:showpopup",function(){tb.showPopup()}),rb.listen("tag:add",function(){var b=a.Nav.config==$G.get("navConf");if(b)a.Nav.createNav();else{var c=a.Array.findObject($G.get("navConf").tree,"name","tag");a.Nav.initItemData(c)}rb.fire("accountRelate:getCount")}),rb.listen("addr:dataInit",function(){$S("contactInit",!0)}),rb.listen("global:navchange",function(b){b&&(a.Context.navAdded=!0)}),rb.listen("global:sweeplogout",function(b){b&&b.body&&"sweeplogin"===b.body.product&&a.Misc.logout()}),a.Event.listen(document,"keypress",$I("util.ShortCut").globalListener),a.Event.listen(document,"keyup",function(c){var d=c||b.event||sb.event,e=d.keyCode||d.which||d.charCode,f=d&&d.target&&d.target.nodeName&&("TEXTAREA"===d.target.nodeName||"INPUT"===d.target.nodeName);if(!f)switch(e){case 27:var g=a.Context.getModule();!g||"read.ReadModule"!==g.mtype&&"thread.ThreadModule"!==g.mtype||g.back(),$S("accountMenu")&&!$S("accountMenu").hidden&&$S("accountMenu").hide();break;case 37:try{a.Nav.focus()}catch(c){}break;case 39:try{var h=a(a.Context.module.container);h.findFly("h2").dom.focus(),a.Event.fire(h.dom,"focus")}catch(c){}}}),a.fly("#dvNavTree").listen("scroll",function(){var b=a.fly("#dvNavTree").dom.scrollTop;b-0?a.fly("#dvNavTop").addClass("rh0"):a.fly("#dvNavTop").removeClass("rh0")}),tb._isIE7||(a.fly("#dvNavTree").listen("mouseover",function(){a.fly("#dvNavTree").addClass("oU0")}),a.fly("#dvNavTree").listen("mouseout",function(){a.fly("#dvNavTree").removeClass("oU0")})),a.Event.listen(b,"resize",function(){var b=a.Context.getModule();b&&b.resize&&b.resize(),tb._isIE6,tb._isIE6||tb._isIE7||tb._isIE8?(a.Frame.initLayOut(tb._isIE6),a.Frame.setColumns()):a.Frame.setColumns(),$S("clientHeight",document.documentElement.clientHeight),$S("clientWidth",document.documentElement.clientWidth),rb.fire("global:resize")}),a.Event.listen(document,"click",d),a.Event.listen(b,"unload",function(){if($S("ad").showClose&&b.gAd.getBiz){var c=b.gAd.getBiz("close")||[];if(c.length){var d=c[Math.round(Math.random()*(c.length-1))],e="width=720,height=300, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";d&&""!==d&&b.open(d,"vip_720",e)}}a.isUnload=!0}),b.onbeforeunload=function(){try{var b=a.Context.getModule();if(b){var c=b.exit("",function(){},"beforeunload");if(!c){var d="设置页";switch(b.mtype){case"options.SignModule":d="签名";break;case"compose.ComposeModule":d="信件"}return"确定放弃对此"+d+"所作的操作？"}}}catch(e){}},a("#h1Logo").listen("click",function(){a.JS.go({module:a.Context.defaultModule}),a.Log.cache({FrameLogoClick:1})}),"ononline"in b&&a.Event.listen(b,"online",function(){rb.fire("global:network",!0),tb.checkNetWork(!0)}),"onoffline"in b&&a.Event.listen(b,"offline",function(){rb.fire("global:network",!1),tb.checkNetWork(!1)})}function h(){b.setInterval(function(){$I("init.Sync").request()},18e4),b.setTimeout(function(){$E("support.MailCenter",function(a){a.receiveAll({auto:!0})})},18e4),b.setTimeout(function(){a.Frame.checkCssLoaded()},5e3)}function i(b,c){var d=$I("init.Tag").list(),e=d[b];if(e){c=e.alias;for(var f={xtype:"menu",groups:[{items:[],type:"inline"},{items:[{text:"改名",click:function(){$E("support.Tag",function(a){a.modify({name:b,onlyName:!0,from:"nav"})})}},{text:"删除",click:function(){$E("support.Tag",function(a){a.remove({name:b,from:"nav"})})}}]}],width:"143px"},g=0;20>g;g++)f.groups[0].items.push({text:a.Tag.html({subclass:"iconTag",type:g}),click:a.Function.bind(function(d){$E("support.Tag",function(a){a.modify({name:b,alias:c,color:d,from:"nav"})}),a.Event.cancelBubble()},this,g)});return new a.Menu(f)}}function j(){function c(a){for(var b=a.split("&"),c=0;c<b.length;c++)if(b[c].indexOf("ntes_mail_firstpage=")>-1){var d=b[c].split("=");return 2==d.length?d[1]:""}return""}function d(b){var c=b.module,d=b.param,e={welcome:[a.Context.defaultModule],read:["read.ReadModule",d],folderMain:["mbox.FolderModule"],compose:["compose.ComposeModule"],folder:["mbox.ListModule",d],address:["contact.ContactModule"],pop3:["mailcenter.MailCenterModule"],optionMain:["options.BaseSetModule"],personal:["options.PersonalModule"],preference:["options.BaseSetModule"],signature:["options.SignModule"],autoresp:["options.BaseSetModule",{inputName:"autoReply"}],searchmail:["options.SearchModule"],mailfilter:["options.MailFilterModule"],safelist:["options.AntiSpamModule"],refuselist:["options.BaseSetModule"],autofwd:["options.BaseSetModule",{inputName:"autoForward"}],sender:["options.SenderModule"],junkfilter:["options.AntiSpamModule",{inputName:"antiSpamLevel"}]},f=e[c];return f?{module:f[0],param:f[1]}:b}var e,f,g,h,i=($S("domain"),$S("fullDomain")),j=$S("attrs").user.firstpage,k=a.Cookie.get("ntes_mail_firstpage");k&&a.Cookie.set("ntes_mail_firstpage","normal",{path:"/",domain:i}),(""===k||"normal"==k)&&(k=1==j-0?"inbox":"");var l=tb._getHash(sb.location);try{if(l){if(l=d(l),l.type)$E([l.type+"."+l.value],function(a){a.entry(l.param)});else{if(l.module==a.Context.defaultModule)return;"options.OptionOutLinkModule"==l.module&&(l.module="options.LinkModule"),"compose"==l.module&&(l.module="compose.ComposeModule"),$E(["module."+l.module],function(b){var c=b["interface"];if(c)if("outlink.OutlinkModule"==l.module)if(l.param&&l.param.method){var d=l.param&&l.method||"gotoApp";$E("interface.AppCenterInterface",function(a){a[d](l.param)})}else c.goOutlink(l.param),l.param&&l.param.addApp&&a.AppManager.addApp(a.AppManager.getAppsList(),l.param.addApp,function(){a.Nav.update()});else c.entry(l.param);else"options.LinkModule"==l.module?$E("interface.OptionInterface",function(a){a.entry({module:"options.LinkModule",linkName:l.param.subModName||l.param.linkName||l.param.link,linkext:l.param.linkext})}):"apps.ManageModule"==l.module?$E("interface.AppCenterInterface",function(a){a.entry()}):a.JS.go({module:l.module,param:l.param})})}$S("showHashPage",!0)}else{if(""===k&&(k=c(sb.location.href)),!k)return;$S("showHashPage",!0);var m,g,f,h,e;if(k.indexOf("|")>-1?(e=k.split("|")[0],f=k.split("|")[1]):e=k,e.indexOf("read")>-1){var n=k.split(",");e=n[0],g=n[1],h=n[2]}if(e.indexOf("compose")>-1){var n=k.split(",");e=n[0];var o=n[1];3==n.length&&(m=n[1],g=n[2])}switch(e){case"inbox":$E("interface.MboxInterface",function(a){a.entry({fid:1})});break;case"file_center":$E("product.FileCenter",function(a){a.entry(f)});break;case"outlink":"file_center"!=f&&$E("interface.OutlinkInterface",function(a){a.goOutlink({key:f})});break;case"netfolder":$E("product.FileCenter",function(a){a.entry("nf_center")});break;case"compose":if(m)switch(m){case"draft":$E("interface.ComposeInterface",function(a){a.composeDraft({id:g})});break;case"forward":case"reply":case"replyall":break;case"to":var p={info:{to:[g]}};$E("interface.ComposeInterface",function(a){a.compose(p)})}else{var p;o&&(p={info:{to:[o]}}),$E("interface.ComposeInterface",function(a){a.compose(p)})}break;case"read":$E("interface.ReadInterface",function(a){a.entry({mid:g})});break;case"app":$E("interface.AppCenterInterface",function(a){a.entry()});break;default:if(e){try{f=a.Eval.get(f)}catch(q){f={type:f}}b.setTimeout(function(){a.JS.go({module:e,param:f})},500)}}}}catch(r){}}function k(a){var b,c=a.hash,d="module";if(0===c.indexOf("#module="))try{b=decodeURIComponent(c.replace("#module=",""))}catch(e){}if(b){var f={},g=b.split("|")[0],h=b.split("|")[1];if(g&&(f[d]=g.replace(/_\d*/,"")),h)try{h=decodeURIComponent(h),f.param=$I("util.Misc").parseJson(h)}catch(i){f.param={}}return f}if(0===c.indexOf("#product="))try{d="product",b=decodeURIComponent(c.replace("#product=",""))}catch(e){}}function l(){function c(b){var d="dvTopAvatar",e=a("#"+d);if(e){var f=$I("init.Avatar");f.get($S("orgUid"),100,function(d){var f='<a href="#" class="nui-faceEdit nui-faceEdit-100"><img src="'+d+'" class="nui-faceEdit-face" alt="'+$S("uid")+'的头像"  width="100" height="100" />'+'<span class="nui-faceEdit-tips">点击编辑头像</span>'+"</a>";e.html(f),b._initAvatarEvented||(b._initAvatarEvented=!0,e.listen("click",function(){$E("support.OptionSupport",function(a){a.avatarUploader({uploader:function(){}})}),a.Event.fire(document.body,"click"),a.Log.cache({TopNavAccountAvatarClick:1})}),a.Listener.listen("user:avatarChanged",function(){c(b)}))})}}function d(c){function d(c){var d=c["product.vipMember"],f=d?"https://mimg.127.net/ggimg/all/img19/170417_super_vip_color.png":"https://mimg.127.net/ggimg/all/img19/170417_super_vip.png",g='<div style="position: relative;+zoom:1;display: inline-block;+display: inline;+zoom:1;line-height: 0;vertical-align: top;margin-left: 8px;"><a href="javascript:void(0)"><b class="nui-ico" style="width:16px;height:16px;background:url('+f+')"></b></a>'+"</div>",h=a.Component.html({html:g,listeners:{click:{handler:function(){b.open(a.Uri.getUrl("super_member",!0)+"name","_blank"),a.Log.cache({FrameSuperMemberClick:1})}}}});e.append(h),a.Component.setEvents()}var e=a(".ja1",c.el);e&&a.Ud.getProxy({field:["product.vipMember"],call:d})}var e,f=this,g=a.SenderList,h=$I("product.AccountRelate");h.init(),h.allNewCount=0;var i=($S("domain"),h.relateAccount),j=h.emRelateAccounts;$S("showMobileAccountOnly");var k,l=a.SenderList.getMobile(),m=l,n=i&&i.length>0,o='<b class="nui-ico nui-ico-user nui-ico-user-lock"></b>';m?(k=l.address,l=l.address):k="手机号码@"+$S("domain")+'<div class="nui-tag nui-tag-1"><span class="nui-tag-text">完全免费</span></div>';var p="self",q=!1,r=f.getOuterAccount();r&&r.length>-1&&(q=!0);var s=g.getChinese(),t=s?s.address:"",u=$I("init.Folder").getTotal("unread"),v=f.currentAccount,w=[{text:(j[$S("orgUid")]?o:"")+f.hideMobileNumber(f.trimAccount($S("orgUid"),!0))+'<span class="mU0"><strong>('+u+")</strong></span>",icon:$S("orgUid")===v?{type:"radio",subtype:"checked"}:null,delegateTo:p,click:function(){a.fly("#spnUid").html(f.hideMobileNumber(f.trimAccount($S("orgUid"),!0))),f.currentAccount=$S("orgUid"),$S("mobile_sender",$S("orgUid")),a(".sr0").hide(),$S("multiAccount:changed",!0)}}];q||t?(t?w.push({text:t,icon:t===v?{type:"radio",subtype:"checked"}:null,delegateTo:p,click:function(){a.fly("#spnUid").html(t),f.currentAccount=t,a(".sr0").hide(),g.isSender(t)&&$S("mobile_sender",t),$S("multiAccount:changed",!0)}}):q&&w.push({text:r+'<strong class="mU0"></strong>'+'<div class="fA0 nui-tag nui-tag-19"><span class="nui-tag-text">网易通行证</span></div>',icon:r===v?{type:"radio",subtype:"checked"}:null,delegateTo:p,click:function(){a.fly("#spnUid").html(r),f.currentAccount=r,a(".sr0").hide(),g&&g.isSender(r)&&$S("mobile_sender",r),$S("multiAccount:changed",!0)}}),w.push({text:(f.isPhoneAccount(k)?a.Icon.html({xtype:"icon",type:"phone"}):"")+f.hideMobileNumber(f.trimAccount(k,!0)),onRender:function(){this.getEl().find(".nui-menu-item-link").append('<div class="iw0 gF0">    <span class="dZ0"></span>    <span class="ev0">'+a.Icon.html({xtype:"icon",type:"link"})+"</span>"+'    <span class="ea0"></span>'+"</div>")},icon:l===v?{type:"radio",subtype:"checked"}:null,delegateTo:p,click:function(){m?(a.fly("#spnUid").html(f.hideMobileNumber(l)),f.currentAccount=l,$S("mobile_sender",l)):$E("interface.OptionInterface",function(a){a.entry({module:"LinkModule",link:"mobile_set"})}),e&&e.hide(),$S("multiAccount:changed",!0)}})):w.push({text:(f.isPhoneAccount(k)?a.Icon.html({xtype:"icon",type:"phone"}):"")+f.hideMobileNumber(f.trimAccount(k,!0)),onRender:function(){this.getEl().find(".nui-menu-item-link").append('<div class="iw0">    <span class="dZ0"></span>    <span class="ev0">'+a.Icon.html({xtype:"icon",type:"link"})+"</span>"+'    <span class="ea0"></span>'+"</div>")},icon:l===v?{type:"radio",subtype:"checked"}:null,delegateTo:p,click:function(){m?(a.fly("#spnUid").html(f.hideMobileNumber(l)),f.currentAccount=l,$S("mobile_sender",l)):($E("interface.OptionInterface",function(a){a.entry({module:"LinkModule",link:"mobile_set"})}),a.Log.cache({TopNavNoBindingMobileClick:1})),a(".sr0").hide(),$S("multiAccount:changed",!0)}});var x={xtype:"menu",doNotHide:!0,groups:[{items:w}]},y=a.Link.html({text:"帐户管理",cls:"nui-txt-link",delegateTo:p,click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"options.AccountCenterModule"})}),e&&e.hide(),a.Log.cache({TopNavAccountManager:1})}}),z=a.Link.html({text:"密码修改",cls:"nui-txt-link",delegateTo:p,click:function(){b.open("https://reg.163.com/setinfo/ChangePwd_1.jsp","_blank"),e&&e.hide(),a.Log.cache({TopNavAccountChangePassword:1})}}),A=9,B=a.Link.html({text:n?i.length>=A?"添加(已达"+A+"个帐户上限)":"添加":"立即添加",cls:"nui-txt-link",disabled:i.length>=A?!0:!1,delegateTo:p,click:function(){$E("interface.OptionInterface",function(a){a.related({type:"add"})}),e&&e.hide(),a.Log.cache({TopNavAccountAddRelateAccount:1})}}),C=a.Link.html({text:"管理",cls:"nui-txt-link",delegateTo:p,click:function(){$E("interface.OptionInterface",function(a){a.related()}),e&&e.hide(),a.Log.cache({TopNavAccountManagerRelateAccount:1})}}),D="";if(n){for(var E=[],F=0;F<i.length;F++){var G=i[F],H=(h.relateAccountCount[G]||{}).newCount,I=0|j[G],J="";I&&(J=o);var K={text:J+f.trimAccount(G)+'<span id="_account_'+G+'">'+(H?"<strong>("+H+")</strong>":"")+"</span>",delegateTo:p,click:a.Function.bind(function(b){e&&e.hide(),h.beforeSwitch(b),a.Log.cache({TopNavAccountSwitchAccount:1})},this,G)};E.push(K)}var L={xtype:"menu",doNotHide:!0,groups:[{items:E}]};D=a.Menu.html(L)+'<div class="pC0">'+B+'<span class="iL0">|</span>'+C+"</div>"}else D='<div class="la0"><span class="nui-txt-tips">将不同用途的邮箱关联在一起，无需登录即可随意切换</span>'+B+"</div>";var M=a.Link.html({text:"升级VIP服务",cls:"nui-txt-link nui-txt-err",delegateTo:p,click:function(){b.open(a.Uri.getUrl("vip_upgrade",!0)+"multiaccount","_blank"),a.Log.cache({TopNavAccountVipUpgrade:1})}}),N=a.Link.html({text:"公正邮",cls:"nui-txt-link nui-txt-err",delegateTo:p,click:function(){b.open("http://gzy.mail.163.com/?from=duozhanghu","_blank"),a.Log.cache({TopNavAccountJudgeMail:1})}}),O=a.Link.html({text:"安全升级",cls:"nui-txt-link",delegateTo:p,click:function(){b.open(a.Uri.getUrl("urs_security_upgrade",!0)+"?from=mail_safeup","_blank"),a.Log.cache({TopNavAccountUrsSecurityUpgrade:1})}}),P='<div class="pD0"><div class="iP0">关联邮箱</div>'+D+"</div>";if($S("isMailMasterLogined")){var Q=a.Link.html({text:"退出",cls:"nui-txt-link",delegateTo:p,click:function(){a.Log.cache({TopNavAccountRelateLogout:1}),a.Misc.logout()}});P='<div class="pD0"><div class="la0"><div class="lz1">为保证帐号安全，安全登录下关联账号无法使用</div><span class="nui-txt-tips">若需使用关联帐号，请'+Q+"后重新输入帐号密码登录</span>"+"</div>"+"</div>"}var R='<div class="pC0">'+y+'<span class="iL0">|</span>'+z+($S("isFree")?'<span class="iL0">|</span>'+M:"")+($S("isFree")?'<span class="iL0">|</span>'+N:"")+"</div>",S=$G.attrs.user.true_name;a.String.trim(S)||(S=$S("uid")),S=a.String.encodeHTML(S);var T='<div class="ja1">'+S+"</div>",U="",V="http://reg.163.com/userLoginInfo.jsp?username="+$S("uid"),W='<div class="pj1"><div class="iZ1 el1" id="dvJifenIFrame">'+U+"</div>"+'<div class="iZ1">最近登录：'+a.Date.format(tb.getLoginInfo().lastDate||new Date,"yyyy/MM/dd HH:mm")+"&nbsp;"+a.Link.html({delegateTo:p,text:"详情",extcls:"nui-txt-link",click:function(){b.open(V,"_blank"),e&&e.hide(),a.Log.cache({TopNavAccountLoginDetails:1})}})+"&nbsp;"+O+"</div>"+"</div>",X=$S("isFree")?a.Ext.avatar_show:!1,Y=X?'<div class="kC1" id="dvTopAvatar"></div>':"",Z='<div class="nui-msgbox sr0" style="left:670px;top:510px"><table><tbody><tr><td><div class="nui-msgbox-bd"><div class="nui-msgbox-wide"><div class="px0'+(X?" hz2":"")+'">'+Y+T+a.Menu.html(x)+R+"</div>"+($S("isFree")?W:"")+P+"</div>"+"</div></td>"+"</tr>"+"</tbody>"+"</table>"+"</div>";return e=new a.Component({html:Z,listeners:{afterRender:function(){c(this),d(this)}}}),e.render(document.body),e.getEl().click(function(){a.Event.cancelBubble()}),e}function m(){var b="",c="";a.fly("#spnUid");var d=$G.attrs.alias.length&&$G.attrs.alias[0].aliases,e=a.fly("#spnUid").html(),f=[{items:[{text:$S("orgUid")+'<span class="mU0">&nbsp;</span>',icon:{type:"radio",subtype:"checked",hidden:e!==$S("orgUid")},delegateTo:"self",click:function(){a.fly("#spnUid").html($G.user.uid),$S("mobile_sender",$G.user.uid),$S("attrs").user.ntes_defaultsender=$G.user.uid,a(".sr0").hide(),$S("multiAccount:changed",!0)}}]}];if(d&&d.length)for(var g=0,h=d.length;h>g;g++){var i=d[g].id;f[0].items.push({text:i,icon:{type:"radio",subtype:"checked",hidden:e!==i},delegateTo:"self",click:a.Function.bind(function(){var b=this.toString();a.fly("#spnUid").html(b),$S("mobile_sender",b),$S("attrs").user.ntes_defaultsender=b,a(".sr0").hide(),$S("multiAccount:changed",!0)},i)})}var j={xtype:"menu",doNotHide:!0,groups:f},k='<div class="nui-msgbox sr0" style="left:670px;top:510px"><table><tbody><tr><td><div class="nui-msgbox-bd"><div class="nui-msgbox-wide"><div class="nui-msgbox-title"><strong>邮箱别名</strong></div><div class="nui-scroll-hasShadow">'+a.Menu.html(j)+"</div>"+b+"</div>"+"</div></td>"+"</tr>"+c+"</tbody>"+"</table>"+"</div>",l=new a.Component({html:k});return l.render(document.body),l.getEl().click(function(){a.Event.cancelBubble()}),l}function n(){if(!$S("showingUserGuide")&&!$S("SupportShowingMsgbox")&&"student"!==$G.mailPattern.currentPattern){try{var b=a.Browser.getInfo();if("android"==b.os||"ipad"==b.os||"iphone"==b.os||"ipod"==b.os)return}catch(c){}if($S("uid"),"1"==a.Cookie.get("mail_isleak"))return a.Cookie.set("mail_isleak","0",{path:"/",domain:$S("fullDomain")}),a.Msgbox.show({title:"温馨提示",content:"近日多家网站帐号密码大规模泄露，如果您在其它网站设置了和网易相同的帐号密码，请您尽快修改密码，确保您的帐号安全。",okText:"立即修改",type:"confirm",ok:function(){a.Nav.entry("OptionInterface",{module:"LinkModule",linkName:"passwd"})}}),$S("SupportShowingMsgbox",!0),void 0;if(a.Cookie.get("NTES_MOBILEMAIL_REGUSER")==$S("orgUid").replace("@","#")&&$S("isFree"))return a.Msgbox.show({title:"",content:'<iframe src="'+a.Uri.getUrl("http://e.mail."+$S("domain")+"/mobilemail/official/popup.do?uid="+$S("orgUid"))+'"  border="0" style="width:100%;height:420px;" scrolling="no" frameborder="0"></iframe>',contentType:"custom",width:"540px",okText:"进入邮箱",noFooter:!0}),$S("SupportShowingMsgbox",!0),void 0;var d=tb.getOuterAccount();if(d&&a.Cookie.get("mail_ex_firstLogin")&&"0"!==a.Cookie.get("mail_ex_firstLogin"))return $S("isyeah")?a.Cookie.set("mail_ex_firstLogin","0",{path:"/",domain:$S("domain")}):a.Cookie.set("mail_ex_firstLogin","0",{path:"/",domain:$S("fullDomain")}),a.Msgbox.show({icon:"suc",title:"该网易邮箱帐号已与外域邮箱帐号<br>"+d+"绑定。",okText:"我知道了"}),$S("SupportShowingMsgbox",!0),void 0;if($S("isFree")){var e=$S("attrs").user.user_creation_date,f=$I("util.Misc").getTime();if(e.getFullYear()==f.getFullYear()&&e.getMonth()==f.getMonth()&&e.getDate()==f.getDate())a.Ajax.jsonp(a.Uri.getUrl("http://reg.email.163.com/unireg/call.do?cmd=register.welcome.check&uid="+$S("orgUid")),function(b){b&&(a.Msgbox.show({title:"",content:'<iframe src="'+a.Uri.getUrl("http://regall.mail.$domain$/unireg/call.do?cmd=register.welcome.start&uid="+$S("orgUid"))+'"  border="0" style="width:100%;height:322px;"" scrolling="no" frameborder="0"></iframe>',contentType:"custom",width:"540px",okText:"进入邮箱",noFooter:!0}),$S("SupportShowingMsgbox",!0))
});else{var g=a.Cookie.get("P_INFO").split("#");if(g[3]&&1==g[3].split("|")[0]&&"0"==a.Ud.get({field:"huodong_option",flag:"closechangepass"})){var h=new a.Msgbox({title:"安全提醒",noFooter:!0,contentType:"normal",content:'<div class="Patch118-safe">   <div class="Patch118-safe-tit">       <b class="ico" style="width:46px;height:48px; background:url('+$G.environment.mimgUrl+'xm/webmail/app-passprotec/110907/img/bg.png) no-repeat -48px -31px"></b>'+'       <p class="txt-14 txt-b txt-impt" style="padding-bottom:20px">系统监测到您的邮箱可能被盗用发垃圾邮件，<br />请您立即修改密码。</p>'+a.Button.html({text:"马上修改密码",type:"impt",click:function(){h.close(),a.Nav.entry("OptionInterface",{module:"LinkModule",linkName:"option_passwd"})}})+"       &nbsp;&nbsp;"+a.Button.html({text:"以后不再提醒",click:function(){a.Ud.set({field:"huodong_option",flag:"closechangepass",value:"1"}),h.close()}})+"   </div>"+'   <div class="Patch118-safe-ct">'+"       您可以检查以下几项判断帐号是否正常："+'       <ol style="padding:5px 0">'+"           <li>1. "+a.Link.html({text:"查看登录详情",target:"_blank",link:"http://reg.163.com/userLoginInfo.jsp?username="+$G.user.uid})+"，是否有<strong>不属于您的IP地址</strong>登录；</li>"+"           <li>2. "+a.Link.html({text:"查看发信记录",target:"_blank",link:"http://"+$S("host")+"/app/service/sendCheck.jsp?sid="+$G.user.sid})+"，是否有<strong>不是您本人</strong>发送的邮件；</li>"+"           <li>3. "+a.Link.html({text:"进入收件箱",click:function(){$E("interface.MboxInterface",function(a){h.close(),a.entry({fid:1})})}})+"，查看是否收到了<strong>大量退信</strong>。</li>"+"       </ol>"+"       为保障您的帐号安全，请您务必尽快修改邮箱密码，并"+a.Link.html({text:"完善密码保护方式",target:"_blank",link:"http://reg.163.com/chg/ShowBaomiInfo.jsp"})+"。"+"   </div>"+"</div>"});a.Component.setEvents(),$S("SupportShowingMsgbox",!0)}}}}}function o(){var b,c=a.Cookie.get("S_INFO")||"",d=c.split("|"),e=["163.com","126.com","188.com","yeah.net"];if(d.length>4)for(var f=(d[4]||"").split("#"),g=f.length-1;g>=0;g--){var h=f[g],i=-1,j=!1;if(i=h.indexOf("@"),i>-1){for(var k=h.substring(i),l=e.length-1;l>=0;l--)if(k.indexOf(e[l])>-1){j=!0;break}if(!j){b=h;break}}}return b}function p(){}function q(){var c=a.Context.getModule();if(c&&"compose.ComposeModule"==c.mtype){var d=c.exit("",function(){},"beforeunload");if(!d)return $E("interface.ComposeInterface",function(a){a.sessionBreak()}),void 0}b.onbeforeunload&&b.onbeforeunload();var e=$S("uid")||$G.user.uid,f=$S("showMobileAccountOnly"),g=$S("domain"),h="",i="",j="",k="";if($S("isFree")){j="mail"+g.split(".")[0];var l={"126.com":"https://ssl.mail.126.com/entry/cgi/ntesdoor?","163.com":"https://ssl.mail.163.com/entry/coremail/fcg/ntesdoor2?","yeah.net":"https://ssl.mail.yeah.net/entry/cgi/ntesdoor?"},m="df={3}&from={4}&funcid=loginone&passtype=1&style={1}&product={2}&uid={0}";"hw"==a.Cookie.get("mail_dist")&&(m+="&mail_dist=hw"),i=l[g]+m}else if($S("isVip")){j="mailvip";var n={"vip.163.com":"https://reg.163.com/logins.jsp?product={2}&type=1&url=http://reg.vip.163.com/enterMail.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26username%3D{0}&url2=http://reg.vip.163.com/logon.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26username%3D{0}","188.com":"https://reg.163.com/logins.jsp?product={2}&type=1&url=http://reg.188.com/enterMail.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26username%3D{0}&url2=http://reg.188.com/logon.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26df%3Dwebmail_relogin%26username%3D{0}","vip.126.com":"https://reg.163.com/logins.jsp?product={2}&type=1&url=http://reg.vip.126.com/enterMail.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26username%3D{0}&url2=http://reg.vip.126.com/logon.m?style%3D{1}%26language%3D0%26enterVip%3Dtrue%26verifycookie%3D1%26df%3Dwebmail_relogin%26username%3D{0}"};i=n[g]}var o=7,p="webmail",q="web";if("student"!==$G.mailPattern.currentPattern){i=tb.format(i,e,o,j,p,q),$S("isCorp")?(i="https://entry.qiye.163.com/domain/domainEntLogin",k="password={0}&account_name="+$S("uid").split("@")[0]+"&domain="+$G.user.domain+"&secure=1"):k="password={0}&username={1}&style=1";var r=a.Msgbox.show({title:"您的邮箱登录超时，被退出，请重新登录",type:"prompt",inputLabel:"邮箱密码",inputType:"password",okText:"登 录",footext:[{xtype:"link",text:"返回到邮箱登录首页",click:function(){tb.logout()}}],ok:function(c){if(!a.String.trim(c))return"密码不能为空";var d=f?h:e;b.gAd.getBiz=null,b.onbeforeunload=null,a.Ajax.request({method:"post",requestType:a.Ajax.IFRAME,url:i,body:a.Support.format(k,c,d),target:b.gUseInIframe?"_parent":"_top"})}}),s=r.getEl().find("TBODY").dom,t=s.insertRow(0),u=t.insertCell(-1);u.className="nui-form-title",u.innerHTML="用户名";var u=t.insertCell(-1);u.className="nui-form-cont",u.innerHTML=f?h:e}else{p="qingning";try{b.crossDomain2.postMessage(parent,{message:"relogin"})}catch(v){a.Msgbox.show({title:"您的邮箱登录超时，请重新登录。"})}}}function r(b){if(("boolean"==typeof b||tb._isIe)&&!a.isUnload){var c,d,e,f=$S("network"),g=a("#oClientCaps"),h=null;!g&&tb._isIe&&(g=document.createElement("DIV"),g.style.display="none",g.id="oClientCaps",g.addBehavior&&g.addBehavior("#default#clientCaps"),document.body.appendChild(g));try{var i=g.connectionType||g.dom.connectionType;"undefined"!=typeof i&&(h="offline"==i),g.destroy()}catch(j){}if(h===!0||b===!1){if(0===f)return;c="网络连接可能不正常，请注意保存网页上编辑的内容",f=0,d=0,$E("interface.ComposeInterface",function(a){a.connectBreak()})}else{if(h!==!1&&b!==!0)return;if(0!==f)return;c="网络连接正常",f=1,d=5e3,e=!0}$S("network",f),a.Tips.show({succ:e,text:c,expire:d})}}function s(b){var c="nui-ico-phone",d="nui-ico-phone-disabled",e=a("."+c);if(e)for(var f=e.doms.length-1;f>=0;f--){var g=e.doms[f];a(g).removeClass(d)}$S("reserveMobile",b)}function t(a){var b=a.split("@");return/^1\d{10}$/.test(b[0])}function u(){$S("isVip")?$I("util.CustomAppManager").goOutLink("appManager","邮箱应用设置",a.Uri.getUrl("app_manager")):$S("isCorp")||(a.Ext.appCenter?$E("interface.OutlinkInterface",function(a){a.goOutlink({key:"recommend_app",title:"应用中心",group:"appMoudle",fullScreen:!0})}):a.JS.go({module:"apps.ManageModule"}))}function v(a,b){return b=b||"png",$G.environment.mimgUrl+"p/images/app/"+a+"."+b}function w(){return $S("isCorp")?tb._fCorpAccountMenu():tb._fGenericAccountMenu()}function x(b){function c(){k=$S("searchSelect").getDom().value,e()}function d(b,d,e){for(var f=[],g=0;g<b.length;g++)f.push('<option value="'+b[g].value+'" '+("flag"==e?'class="nui-txt-flag'+b[g].value+'"':"")+">"+b[g].text+"</option>");return'<select class="nui-txt-s12 '+(d?"":"ix0")+'" id="sel'+e+'" style="display:none;">'+f.join("")+"</select>"+a.Select.html({delegateTo:l.getDom(),options:b,selectedchange:function(b,d){this.getEl().pre().dom.value=b,a.Event.cancelBubble(d),c()}})}function e(){$S("searchType",k);for(var a=l.getEl().find("TABLE").dom,b=a.rows,c=0;c<b.length;c++)b[c].style.display=b[c].id&&b[c].id.split("_")[0]!=k?"none":""}function f(b,c,d){var e=parseInt(c,10)||0;if(e.toString()!=c||1>e)return new a.Msgbox({content:"“时间范围”必须填写正整数，请重新输入。",type:"confirm",ok:function(){}}),!1;var f=e*(d-0);return b?f+"":a.Date.dateAdd(new Date,0-f)}function g(){var b={fid:a.fly("#"+D.mail.mailFolder.id).dom.value,dom:l.getDom(),conf:{windowSize:$S("attrs").user.maxlist,order:"date",desc:!0,returnTag:!0},ignoreCase:!0};b.match=D.mail;var c=v.getChecked();b.match.inSubject=!!c[0],b.match.inFromAndTo=!!c[1];var d=$I("util.Condition").getSearchBody(b);d?($E("interface.MboxInterface",function(a){a.entry(d)}),$S("searchMenu").hide()):a.Msgbox.show({title:"请至少选择一项条件或者填写一项关键字！"})}function h(){var b={key:a.fly("#nfKey").dom.value};$E(["product.FileCenter"],function(a){a.entry("nf_center",{search:b})})}function i(){var b={fid:a.fly("#selattFolder").dom.value,fromAddress:x.getValue()};b.key=w.getValue();var c=y.getValue();if(a.String.trim(c)){var d=f(!0,c,a.fly("#selattachSentDateLimitType").dom.value);if(!d)return;b.sentDate=d}a.fly("#selattachFileType").dom.selectedIndex>0&&(b.attType=a.fly("#selattachFileType").dom.value),$E("product.FileCenter",function(a){a.entry("fj_center",{search:b})})}var j=a.Folder,k=$S("searchType")||"mail",b=b||"",l=$S("searchMenu");if(l)return"none"!=l.getDom().style.display?l.hide():(l.show(),k="mail",$S("searchSelect").getDom().value=k,a.Component.getItem($S("searchSelect").getEl().next()).setSelected(0),e(),$S("mailKeyInput").setValue(b||"")),l;for(var m=[{value:"mail",text:"邮件"},{value:"attach",text:"附件"},{value:"nf",text:"网盘"}],n=[],o=j.list("system").concat(j.list("custom").concat(j.list("pop"))),p=0;p<o.length;p++){var q=o[p];n.push({value:q.id,text:q.name})}var r=n.slice(0);r.splice(0,0,{value:-2,text:"所有文件夹"}),n.splice(0,0,{value:0,text:"所有文件夹"});for(var s=[{value:"0",text:"不限"}],p=0,t=a.LETTERFLAG.length;t>p;p++){var u=a.LETTERFLAG[p];u&&s.push({text:u,value:p,icon:{type:"flag",subtype:p}})}s.push({text:"所有旗帜",value:-1});for(var v,w,x,y,z=[{value:0,text:"不限"},{value:1,text:"是"},{value:2,text:"否"}],A=[{value:"",text:"天"},{value:"w",text:"周"},{value:"m",text:"月"},{value:"y",text:"年"}],B=[{value:"1",text:"天"},{value:"7",text:"周"},{value:"30",text:"月"},{value:"365",text:"年"}],C=[{value:"0",text:"不限"},{value:"rars",text:"压缩包"},{value:"pics",text:"图片"},{value:"videos",text:"多媒体"},{value:"docs",text:"文档"},{value:"xls",text:"表格"},{value:"ppt",text:"幻灯片"},{value:"txt",text:"纯文本"},{value:"pdf",text:"pdf"}],D={},E='<div class="nui-simpleForm qg0 nui-form"><table><tbody></tbody></table></div>',l=new a.Layer({params:"hasClose",content:E,contentType:"normal",renderTo:document.body}),F=[{title:"高级搜索",strong:!0,content:{html:d(m,!1,"type"),onRender:function(){$S("searchSelect",this)},listeners:{change:{handler:function(b){c(b);try{a.Event.cancelBubble()}catch(d){}}}}}},{title:"关键字",content:{xtype:"input",onRender:function(){$S("mailKeyInput",this),this.setValue(b||"")}},ext:"(可选填)",type:"mail",name:["key"]},{title:"邮件备注",content:{xtype:"input"},ext:"(可选填)",type:"mail",name:["memo"]},{title:"搜索范围",content:d(n,!1,"folder")+"   <p>"+a.CheckGroup.html({type:"vertical",items:[{delegateTo:"self",text:"在邮件的主题里搜索",checked:!0},{delegateTo:"self",text:"在“收件人”和“发件人”中搜索",checked:!0}],checkType:"checkbox",onRender:function(){v=this}})+"</p>",type:"mail",name:["mailFolder"]},{title:"旗帜范围",content:d(s,!1,"flag"),type:"mail",name:["label0"]},{title:"时间范围",type:"mail",content:{xtype:"input"},ext:d(A,1,"sentDateLimitType")+"&nbsp;&nbsp;内",name:["sentDateLimit","sentDateLimitType"]},{title:"包含附件",content:d(z,!1,"attached")+'<div class="nui-item-spc2x">'+a.Button.html({delegateTo:"self",text:"搜索",subclass:"mainBtn",click:function(){g(),$S("searchMenu").hide()}})+a.Button.html({text:"取消",delegateTo:"self",click:function(){$S("searchMenu").hide()}})+"</div>",type:"mail",name:["attached"]},{title:"关键字",content:{xtype:"input",delegateTo:"self",onRender:function(){w=this}},type:"attach"},{title:"发件人",content:{xtype:"input",onRender:function(){x=this}},ext:"(可选填)",type:"attach"},{title:"搜索范围",content:d(r,!1,"attFolder"),type:"attach"},{title:"时间范围",type:"attach",content:{xtype:"input",onRender:function(){y=this}},ext:d(B,1,"attachSentDateLimitType")+"&nbsp;&nbsp;内"},{title:"文件类型",content:d(C,!1,"attachFileType")+'<div class="nui-item-spc2x ">'+a.Button.html({delegateTo:"self",text:"搜索",subclass:"mainBtn",click:function(){i(),$S("searchMenu").hide()}})+a.Button.html({delegateTo:"self",text:"取消",click:function(){$S("searchMenu").hide()}})+"</div>",type:"attach"},{title:"关键字",content:{xtype:"input"},ext:"(可选填)",type:"nf",name:["nfKey"]},{title:"",content:'<div class="nui-item-spc2x">'+a.Button.html({delegateTo:"self",text:"搜索",subclass:"mainBtn",click:function(){h(),$S("searchMenu").hide()}})+a.Button.html({delegateTo:"self",text:"取消",click:function(){$S("searchMenu").hide()}})+"</div>",type:"nf"}],G=l.getEl().find("TABLE").dom,p=0;p<F.length;p++){var H=F[p],I=H.title,J=H.content,K=H.type,L=H.name,M=H.ext||"",N="";N="string"==typeof J?J:a.Component.html(J),N+=M;var O=G.insertRow(-1);K&&(O.id=K+"_"+p);var P=O.insertCell(-1);P.innerHTML=I,H.strong&&(P.innerHTML="<strong>"+I+"</strong>"),P.className="nui-form-title";var P=O.insertCell(-1);if(P.innerHTML=N,P.className="nui-form-cont",D[K]||(D[K]={}),L){for(var Q=a.fly(P).find("INPUT"),R=a.fly(P).find("SELECT"),S=(Q||{doms:[]}).doms.concat((R||{doms:[]}).doms),T=0;T<S.length;T++)S[T].id||(S[T].id=L[T]),D[K][L[T]]={id:S[T].id};Q&&Q.destroy(),R&&R.destroy()}}return e(),l.getEl().listen("click",function(){a.Event.cancelBubble(),a.Menu.hideAllMenu()}),a.Component.setEvents(),$S("searchMenu",l),l}function y(){function b(b){function c(){$S("voidZoomNotice",!0),d.style.display="none"}if(!$S("voidZoomNotice")){var d=document.getElementById("zoomNoticeDiv"),f=1>b||b>1.3;if(d){if(f){var g=document.getElementById("zoomNoticeStatus");g.innerHTML=b>1?"放大":"缩小"}}else if(f){var h='当前页面的比例<span id="zoomNoticeStatus">'+(b>1?"放大":"缩小")+"</span>了，可能会导致页面显示异常，建议您使用键盘按住“"+(e?"Command":"Ctrl")+'”后再按一下数字键"0"来恢复正常比例。  '+new a.Link({title:"关闭提示",text:"关闭提示",click:c}).html();d=document.createElement("DIV"),d.id="zoomNoticeDiv",d.className="tP0"+(e?" su0":""),d.innerHTML='<span class="ro0"><b class="st0 nui-ico nui-ico-alert-m"></b>'+h+"</span>",document.body.appendChild(d),a.Component.setEvents()}d&&(d.style.display=f?"":"none")}}rb.listen("zoom:changed",b);var c,d=a.Browser.isIE("<11"),e="macintosh"==a.Browser.getInfo().os,f=$G.environment.rootPath+"lib/swf/Zoom.swf";c=d?'<object width="10" height="10" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab"><param name="scale" value="noScale" /><param name="movie" value="'+f+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /></object>':'<embed src="'+f+'" quality="high" wmode="transparent" allowscriptaccess="always" scale="noscale" width="10" height="10" type="application/x-shockwave-flash" />';var g=document.createElement("DIV");g.id="zoomMonitorDiv",g.className="rl0",document.body.appendChild(g),g.innerHTML=c}function z(a,b){var c=document,d=c.getElementById(b);if(!d)try{d=c.createElement("style"),d.type="text/css",d.id=b;var e=c.getElementsByTagName("head")[0];e.appendChild(d)}catch(f){}try{d.innerHTML="",d.innerText="",d.appendChild(c.createTextNode(a))}catch(f){d.styleSheet.cssText="",d.styleSheet.cssText=a}}function A(b,c,d){function e(){m.html(""),m.hide(),l.show()}d=d||"append";var f="";b.width&&(f+="width:"+b.width+"px;"),b.height&&(f+="height:"+b.height+"px;");var g="";b.scrolling&&(g=' scrolling="'+b.scrolling+'"');var h=(new Date).valueOf(),i=h+"_iframe",j=h+"_frameTips",k='<iframe tabindex="-1" id="'+i+'"'+g+' frameborder="0"  allowTransparency="allowTransparency" border="0" style="'+f+'" src="'+b.url+'"'+(b.css?' class="'+b.css+'"':"")+" ></iframe>";if(c){a(c)[d](k);var l=a(c).find("#"+i);l.before('<span id="'+j+'">加载中...</span>');var m=a(c).find("#"+j);l.hide();var n=l.dom;n.attachEvent?n.attachEvent("onload",e):n.onload=e}return k}function B(a,b){b=b||function(){};var c=document.createElement("script");c.type="text/javascript",c.readyState?c.onreadystatechange=function(){("loaded"==c.readyState||"complete"==c.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()},c.src=a,document.getElementsByTagName("head")[0].appendChild(c)}function C(b){var c=$G.environment.isDebug,d=$G.environment.mailPattern,e=$G.environment.cacheRootPath+"pattern/"+d+"/css/"+b;-1!==b.indexOf("http")&&(e=b),c&&(e+="?"+(new Date).getTime()),b&&!tb._styleSheets[b]&&(a.Ajax.request({requestType:a.Ajax.CSS,url:e,insertBefore:"schemeCss"}),tb._styleSheets[b]=!0)}function D(){var b=a.Cookie,c=$S("fullDomain"),d=$S("domain");$G.user.ursCookie,b.get("P_INFO"),$S("isFree"),$S("user"),"188.com"==d&&(c=d);var e=[["mail_style","js6",{path:"/",domain:c}],["mail_uid",$S("orgUid"),{path:"/",domain:c}],["mail_host",location.hostname,{path:"/",domain:c}]];a.Array.each(e,function(a,c){b.set.apply(b,c)})}function E(){var b,c,d,e,f=a.Cookie.get("P_INFO",!0),g=!1;if(f)try{var h=f.split("|");if(h[0]==$S("uid")){var i=h[5],j=i.split("#"),k=j[0],l=k.split("&");c=a.LOGIN_PROVINCE[l[0]]||"未知地区",d=a.LOGIN_PRODUCT[l[2]]||"未知产品",e=0;var m=j[2];("0"==m||"01"==m||"02"==m)&&(e=$S("is163")&&"163邮箱"==d||$S("is126")&&"126邮箱"==d||$S("isyeah")&&"yeah邮箱"==d||$S("is188")&&"188邮箱"==d||$S("isvip")&&"vip邮箱"==d?1:2),j[3];var n=parseInt(l[1]+"000",10);isNaN(n)?g=!1:(b=new Date(n),b>new Date&&(b=new Date),g=!0)}}catch(o){}var p={lastDate:b,lastArea:c,lastProduct:d,sign:e};return p}function F(){var a;try{a=$L("component.contact.ContactMark")}catch(b){return b}a.show({call:function(){}})}function G(b){b&&a.Msgbox.show({content:b.memo,type:b.type,title:b.title})}function H(c){if(!a.Context.module)return b.setTimeout(function(){tb.showGuide()},200),void 0;if(a.Context.module.mtype===a.Context.defaultModule){tb.loadStyleSheet("guide.css");var d=5;if(c){var e,f="",g="",h="",i="",j=[],k=[];switch(c){case 1:f="xQ0",h="待办邮件",i="独创邮件结合日程待办，短信提醒，置顶显示。",g="wo1",e=$S("LeftNavDeferItem").el,j=e.offset(),k=[e.width()-1,e.height()];break;case 2:f="xP0",h="星标联系人邮件",i="以联系人为维度组织邮件，方便按人找邮件。",g="wn0",e=a.Nav.getItem("name","contactMail").cpt.el,j=e.offset(),k=[e.width()-1,e.height()];break;case 3:f="xO0",h="全新邮箱欢迎页",i="头像，未读、待办、星标联系人邮件、积分签到、健康度，登录就能一目了然，愉悦高效的使用邮箱。",g="wm0",j=[202,86],k=[509,156];break;case 4:f="xN0",h="邮箱等级",i="邮箱等级、积分、签到，最近登录等个人信息，移到这里啦。",g="wl0",e=a("#dvJifenIFrame");var l=e.offset();j=[l[0]-32,l[1]-15],k=[345,81];break;case 5:f="xM0",h="设置",i="换肤推荐，邮箱不再单调；帮助、反馈尽在其中。",g="wk0",e=$S("TopNavSettingCmpt").el;var l=e.offset();j=[l[0],l[1]+21],k=[220,280];break;case 6:f="yb0";break;case 7:f="xS0"}var m=new a.Layer({extcls:"wK0",icon:{extcls:"xf0 "+g},content:'<p class="wJ0">'+h+"</p>"+'<p class="xg0">'+i+"</p>"+'<div class="xh0">'+a.Button.html({subclass:"mainBtn",text:c===d?"完成":"继续("+c+"/"+d+")",click:function(){if(c!==d&&3!==c&&4!==c)tb.showGuide(c+1);else{var e=a("#dvGuideMask");e&&e.remove()}if(3===c){var f=$S("topNavAccountLink");a.Event.fire(f.el.dom,"click"),b.setTimeout(function(){tb.showGuide(c+1)},200)}if(4===c){a.Event.fire(document.body,"click");var g=$S("TopNavSettingCmpt").el;a.Event.fire(g.dom,"click"),b.setTimeout(function(){tb.showGuide(c+1)},200)}return 5===c&&a.Event.fire(document.body,"click"),m.hide(),!1}})+"</div>",doNotHide:!0,listeners:{}}),n='<div id="dvGuideMask" class="nui-focusMask"><div class="nui-focusMask-top" style="height:'+j[1]+'px"></div>'+'<div class="nui-focusMask-bottom" style="top:'+(j[1]+k[1])+'px;height:100%"></div>'+'<div class="nui-focusMask-left" style="top:'+j[1]+"px;width:"+j[0]+"px;height:"+k[1]+'px"></div>'+'<div class="nui-focusMask-right" style="left:'+(j[0]+k[0])+"px;top:"+j[1]+"px;width:100%;height:"+k[1]+'px"></div>'+'<div class="nui-focusMask-focus" style="left:'+j[0]+"px;top:"+j[1]+"px;width:"+k[0]+"px;height:"+k[1]+'px"></div>'+"</div>",o=a("#dvGuideMask");o&&o.remove(),a(document.body).append(n),a("#dvGuideMask").click(function(){a.Event.cancelBubble()}),m.render(),m.getEl().css({left:j[0]+k[0]+20+"px",top:j[1]+"px"})}else{a.Msgbox.show({contentType:"wide",height:"378px",width:"608px",content:'<div class="wD0">'+a.Link.html({extcls:"tg1",click:function(){a.Msgbox.msgbox.fire("ok")}})+"</div>",noFooter:!0,cancel:function(){return!1},ok:function(){return tb.showGuide(1),a.Msgbox.msgbox.close(),!1},mask:""});try{var p=a.Msgbox.msgbox.getEl();p.findFly(".nui-msgbox-hd").hide(),p.findFly(".nui-msgbox-close").hide()}catch(q){}}}}function I(c,d){if(!$S("frame_userNewGuide"))return d||tb.showGuide(),void 0;if(!a.Context.module)return b.setTimeout(function(){tb.showNewGuide(c,d)},200),void 0;if(0===$S("LeftNavDeferItem").el.offset()[1])return b.setTimeout(function(){tb.showNewGuide(c,d)},200),void 0;if(a.Context.module.mtype===a.Context.defaultModule){tb.loadStyleSheet("guide2.css");var e,f,g,h,i="dvGuideLayer",j=document,k=j.documentElement,l=k.scrollWidth,m=k.scrollTop,n=k.offsetHeight,o=function(b,c,d,e){c=c||[0,0],b=b||[0,0];var f=b[1];f>18?f-=18:f=0,e=e||"";var g='<div id="dvGuideMask" class="nui-focusMask"><div class="nui-focusMask-top" style="height:'+f+'px"></div>'+'<div class="nui-focusMask-bottom" style="top:'+(f+c[1])+'px;height:100%"></div>'+'<div class="nui-focusMask-left" style="top:'+f+"px;width:"+b[0]+"px;height:"+c[1]+'px"></div>'+'<div class="nui-focusMask-right" style="left:'+(b[0]+c[0])+"px;top:"+f+"px;width:100%;height:"+c[1]+'px"></div>'+'<div class="nui-focusMask-focus xY0 '+e+'" style="left:'+b[0]+"px;top:"+f+"px;width:"+c[0]+"px;height:"+c[1]+'px"></div>'+"</div>",h=a("#dvGuideMask");h&&h.remove(),a(document.body).append(g),a("#dvGuideMask").click(function(){a.Event.cancelBubble()}),d&&d()},p=function(){var b=a("#dvGuideMask");b&&b.remove()},q=function(b,c,d){var e=a("#"+i);if(e){var f=b[0]+c[0]-5,g=b[1];g+=15,d&&d.dotTipsOffset&&(f+=d.dotTipsOffset[0],g+=d.dotTipsOffset[1]),e.css({left:f+"px",top:g+"px"}),e.listen("click",function(){a.Event.cancelBubble()})}},r=function(b,c,d){var e,f,g='<div id="'+i+'" class="yg0 '+b.layerCls+' nui-layer nui-layer-hasIcon" style="left:0;top:0">'+'<b class="yH0 nui-ico nui-layer-icon"></b>'+'<p class="yf0">'+b.title+"</p>"+'<p class="yB0">'+b.desc+"</p>"+'<a href="#" class="zi0" id="btnGuideOk">知道了</a>'+"</div>";e=c?c.offset():b.position,b.whiteObj&&(e=a(b.whiteObj).offset()),b.whiteOffset&&(e[0]+=b.whiteOffset[0],e[1]+=b.whiteOffset[1]),f=s[b.step],o(e,d,function(){var c=a("#"+i);c&&c.remove(),a(document.body).append(g),q(e,d,b),a("#btnGuideOk").click(function(){p();var b=a("#"+i);b&&b.remove(),a.Event.fire(document.body,"click")})},b.stepCls)},s=[[133,68],[139,68],[559,223],[386,105],[286,353]],t=function(){var a,b,c=$S("frameGuideExplodeEventCoord");if(c)b=c.x,a=c.y;else{var d=40,e=40;a=(n-e)/2+m,b=(l-d)/2,a=Math.max(a,0),b=Math.max(b,0)}return[b,a]},u=function(b){a.Cookie.set("ntes_mail_userguide_situation",b.join("-"),{path:"/",domain:$S("fullDomain")})},v=function(){d||a.Cookie.set("ntes_mail_userguide_situation","0-0-0-0-0",{path:"/",domain:$S("fullDomain")});var c=a.Cookie.get("ntes_mail_userguide_situation");if(c){var e=c.split("-");if(5===e.length){var f=[{pointTo:$S("LeftNavDeferItem").el,position:[],dotRange:[305,25],dotRangeOffset:[-200,0],offset:[95,-2],step:1,stepCls:"wa0",layerCls:"wf0",title:"待办邮件",desc:"独创邮件结合日程待办，短信提醒，置顶显示。",whiteOffset:[3,-2]},{pointTo:a.Nav.getItem("name","contactMail").cpt.el,position:[],dotRange:[290,25],dotRangeOffset:[-200,0],offset:[108,-2],step:2,stepCls:"vZ0",layerCls:"we0",title:"联系人邮件",desc:"以联系人为维度组织邮件，方便按人找邮件。",whiteOffset:[4,-4]},{pointTo:null,position:[202,96],dotRange:[495,130],dotRangeOffset:[-325,-55],offset:[495,50],step:3,stepCls:"vY0",layerCls:"wd0",title:"全新邮箱欢迎页",desc:"头像，未读、待办、联系人邮件、积分签到、健康度，登录就能一目了然，愉悦高效的使用邮箱。",whiteOffset:[-22,-8],dotTipsOffset:[-14,63]},{pointTo:$S("topNavAccountLink").el,position:[],dotRange:[$S("topNavAccountLink").el.width()+5,35],dotRangeOffset:[-($S("topNavAccountLink").el.width()-15),-3],offset:[$S("topNavAccountLink").el.width()+5,-3],step:4,stepCls:"vX0",layerCls:"wc0",title:"邮箱等级",desc:"邮箱等级、积分、签到，最近登录等个人信息，移到这里啦。",prepare:function(){var b=$S("topNavAccountLink");a.Event.fire(b.el.dom,"click")},whiteObj:"#dvJifenIFrame",whiteOffset:[-50,-5]},{pointTo:$S("TopNavSettingCmpt").el,position:[],dotRange:[38,35],dotRangeOffset:[-13,-3],offset:[28,-1],step:5,stepCls:"wg1",layerCls:"wb0",title:"设置",desc:"换肤推荐，邮箱不再单调；帮助、反馈尽在其中。",prepare:function(){a.Event.fire(document.body,"click");var b=$S("TopNavSettingCmpt").el;a.Event.fire(b.dom,"click")},whiteOffset:[-30,-5],dotTipsOffset:[0,10]}],g=t(),h=!d;a.Array.each(f,function(c,d){if("1"!=e[c]){var f,i;if(d.pointTo){var j=a(d.pointTo),k=j.offset();i=k[0]+(d.offset[0]||0),f=k[1]+(d.offset[1]||0)}else d&&d.position.length>1&&(i=d.position[0]+(d.offset[0]||0),f=d.position[1]+(d.offset[1]||0));a.Component.html({});var l=a.Link.html({extcls:"zj0",listeners:{mouseover:{handler:function(){var f=a.Component.getItem(this);f&&(f._flying||(e[c]=1,u(e),f._bgTimer&&b.clearInterval(f._bgTimer),f.destroy(),d.prepare?(d.prepare(),b.setTimeout(function(){r(d,d.pointTo,s[c])},200)):r(d,d.pointTo,s[c])))}},afterRender:function(){var a=this,e=this.el;if(tb._guideDots[c]=a,h){a._curX=g[0],a._curY=g[1],e.css({left:a._curX+"px",top:a._curY+"px"}),a._flyX=i,a._flyY=f;var j=25,k=Math.round((i-a._curX)/j),l=Math.round((f-a._curY)/j);a._flying=!0,a._flyTimer=b.setInterval(function(){return j-=1,0>=j?(a._flying=!1,b.clearInterval(a._flyTimer),e.css({left:a._flyX+"px",top:a._flyY+"px"}),void 0):(a._curX+=k,a._curY+=l,e.css({left:a._curX+"px",top:a._curY+"px"}),void 0)},25)}else e.css({left:i+"px",top:f+"px"});if(d.dotRange){var m=d.dotRange[0],n=d.dotRange[1],o=0,p=0;d.dotRangeOffset&&(o=d.dotRangeOffset[0],p=d.dotRangeOffset[1]);var q='<span style="position:absolute;width:'+m+"px;height:"+n+"px;left:"+o+"px;top:"+p+'px;"></span>';e.html(q)}a._bgPos=0,a._bgTimer=b.setInterval(function(){a._bgPos+=18,a._bgPos>144&&(a._bgPos=0),e.css({backgroundPosition:"0 -"+a._bgPos+"px"})},100)}}});a(document.body).append(l),a.Component.setEvents()}})}}},w=function(c,d,e){var f,g,h="dvExplode";if(c)g=c.x-72,f=c.y-72;else{var i=144,j=144;f=(n-j)/2+m,g=(l-i)/2,f=Math.max(f,0),g=Math.max(g,0),f+=60}a(document.body).append('<a href="javascript:void(0);" id="'+h+'" style="background-position: 0 0;left:'+g+"px;top:"+f+'px;" class="yV0"></a>');var k=a("#"+h),o=16,p=200,q=0;k&&(d&&d(),k._bgTimer=b.setInterval(function(){o-=1,0===o?(b.clearInterval(k._bgTimer),k.remove(),e&&e()):(o>8?q-=p:q+=p,k.css({backgroundPosition:"0 "+q+"px"}))},50))};if(c)tb.hideNewGuide(),v();else{g=627,h=401,f=(n-h)/2+m,e=(l-g)/2,f=Math.max(f,0),e=Math.max(e,0);var x=function(c){var d=a("#"+i),e=5,f=1/e,g=1,h=a("#dvGuideMask");d&&(d._bgTimer=b.setInterval(function(){e-=1,0===e?(b.clearInterval(d._bgTimer),d.remove(),p(),c&&c()):(g-=f,d.css({opacity:g}),h&&d.css({opacity:g}))},60))},y='<div class="xZ0" id="'+i+'" style="top:'+f+"px;left:"+e+'px;">'+'<div class="qr2"></div>'+a.Link.html({extcls:"rU1",click:function(){x()}})+a.Link.html({text:"立即体验",extcls:"up0",click:function(){var b=a.Event.getEvent(),c=null;b&&(c={x:b.clientX,y:b.clientY}),$S("frameGuideExplodeEventCoord",c),w(c,function(){x()},function(){tb.showNewGuide(1)})}})+"</div>";o(null,null,function(){var b=a("#"+i);b&&b.remove(),a(document.body).append(y)})}}}function J(c,d){if(!a.Context.module)return b.setTimeout(function(){tb.showVipNewGuide(c,d)},200),void 0;if(0===$S("LeftNavDeferItem").el.offset()[1])return b.setTimeout(function(){tb.showVipNewGuide(c,d)},200),void 0;if(a.Context.module.mtype===a.Context.defaultModule){tb.loadStyleSheet("guide3.css");var e,f,g,h,i="dvGuideLayer",j=document,k=j.documentElement,l=k.scrollWidth,m=k.scrollTop,n=k.offsetHeight,o=function(b,c,d,e){c=c||[0,0],b=b||[0,0];var f=b[1];f>18?f-=18:f=0,e=e||"";var g='<div id="dvGuideMask" class="nui-focusMask"><div class="nui-focusMask-top" style="height:'+f+'px"></div>'+'<div class="nui-focusMask-bottom" style="top:'+(f+c[1])+'px;height:100%"></div>'+'<div class="nui-focusMask-left" style="top:'+f+"px;width:"+b[0]+"px;height:"+c[1]+'px"></div>'+'<div class="nui-focusMask-right" style="left:'+(b[0]+c[0])+"px;top:"+f+"px;width:100%;height:"+c[1]+'px"></div>'+'<div class="nui-focusMask-focus AL0 '+e+'" style="left:'+b[0]+"px;top:"+f+"px;width:"+c[0]+"px;height:"+c[1]+'px">'+'<div class="BG0" style="width:'+Math.max(c[0]-160,0)+'px;"></div>'+'<div class="AN0"></div>'+'<div class="AM0"></div>'+"</div>"+"</div>",h=a("#dvGuideMask");h&&h.remove(),a(document.body).append(g),a("#dvGuideMask").click(function(){a.Event.cancelBubble()}),d&&d()},p=function(){var b=a("#dvGuideMask");b&&b.remove()},q=function(b,c,d){var e=a("#"+i);if(e){var f=b[0]+c[0]-5;d&&d.dotShowOnTop&&(f=b[0]);var g=b[1];g+=15,d&&d.dotTipsOffset&&(f+=d.dotTipsOffset[0],g+=d.dotTipsOffset[1]),e.css({left:f+"px",top:g+"px"}),e.listen("click",function(){a.Event.cancelBubble()})}},r=function(b,c,d){var e,f,g='<div id="'+i+'" class="AG0 '+b.layerCls+' nui-layer nui-layer-hasIcon" style="left:0;top:0">'+'<b class="Bl0 nui-ico nui-layer-icon"></b>'+'<p class="AE0">'+b.title+"</p>"+'<p class="Bd0">'+b.desc+"</p>"+'<a href="#" class="BO0" id="btnGuideOk">知道了</a>'+"</div>";e=c?c.offset():b.position,b.whiteObj&&(e=a(b.whiteObj).offset()),b.whiteOffset&&(e[0]+=b.whiteOffset[0],e[1]+=b.whiteOffset[1]),f=s[b.step],o(e,d,function(){var c=a("#"+i);c&&c.remove(),a(document.body).append(g),q(e,d,b),a("#btnGuideOk").click(function(){p();var b=a("#"+i);b&&b.remove(),a.Event.fire(document.body,"click")})},b.stepCls)},s=[[133,68],[139,68],[316,307],[559,223],[312,277],[document.body.clientWidth-200-300,448]],t=function(){var a,b,c=$S("frameGuideExplodeEventCoord");if(c)b=c.x,a=c.y;else{var d=40,e=40;a=(n-e)/2+m,b=(l-d)/2,a=Math.max(a,0),b=Math.max(b,0)}return[b,a]},u=function(b){a.Cookie.set("ntes_mail_userguide_situation",b.join("-"),{path:"/",domain:$S("fullDomain")})},v=function(){d||a.Cookie.set("ntes_mail_userguide_situation","0-0-0-0-0-0",{path:"/",domain:$S("fullDomain")});var c=a.Cookie.get("ntes_mail_userguide_situation");if(c){var e=c.split("-");if(6===e.length){var f=[{pointTo:$S("LeftNavDeferItem").el,position:[],dotRange:[305,25],dotRangeOffset:[-200,0],offset:[95,-2],step:1,stepCls:"yp0",layerCls:"yu0",title:"待办邮件",desc:"独创邮件结合日程管理，<br>待办再不待回忆",whiteOffset:[3,-2]},{pointTo:a.Nav.getItem("name","contactMail").cpt.el,position:[],dotRange:[290,25],dotRangeOffset:[-200,0],offset:[108,-2],step:2,stepCls:"yo0",layerCls:"yt0",title:"星标联系人邮件",desc:"怕重要联系人邮件被淹没？<br>快来这里找找看",whiteOffset:[4,-4]},{pointTo:$S("topNavPersonalCenter").el,position:[],dotRange:[$S("topNavPersonalCenter").el.width(),35],dotRangeOffset:[-($S("topNavPersonalCenter").el.width()-15),-3],offset:[$S("topNavPersonalCenter").el.width(),-3],step:4,stepCls:"yn0",layerCls:"ys0",title:"个人帐户",desc:"套餐类型、服务期、<br>容量使用情况、登录详情，<br>集中查阅管理",prepare:function(){var b=$S("topNavPersonalCenter");a.Event.fire(b.el.dom,"click")},whiteOffset:[-38,-5]},{pointTo:null,position:[202,96],dotRange:[495,130],dotRangeOffset:[-325,-55],offset:[495,50],step:3,stepCls:"ym0",layerCls:"yr0",title:"全新欢迎页提醒",desc:"未读/待办/星标联系人邮件、<br>电子传真，邮箱安全度<br>一目了然，高效愉悦使用体验",whiteOffset:[-6,-8],dotTipsOffset:[-14,63]},{pointTo:$S("TopNavSettingCmpt").el,position:[],dotRange:[38,35],dotRangeOffset:[-13,-3],offset:[28,-1],step:5,stepCls:"yl0",layerCls:"yq0",title:"设置",desc:"换肤推荐，邮箱不再单调；<br>更多设置尽在其中",prepare:function(){a.Event.fire(document.body,"click");var b=$S("TopNavSettingCmpt").el;a.Event.fire(b.dom,"click")},whiteOffset:[-46,-5],dotTipsOffset:[0,110]},{pointTo:null,position:[202,350],dotRange:[495,130],dotRangeOffset:[-325,-55],offset:[30,10],step:3,stepCls:"xv0",layerCls:"yv0",title:"VIP推荐",desc:"头条新闻/精英思想<br>VIP尊享活动/专属特权应用，<br>为您定制推荐",whiteOffset:[-22,-30],dotTipsOffset:[64,-233],dotShowOnTop:!0}],g=t(),h=!d;a.Array.each(f,function(c,d){if("1"!=e[c]){var f,i;if(d.pointTo){var j=a(d.pointTo),k=j.offset();i=k[0]+(d.offset[0]||0),f=k[1]+(d.offset[1]||0)}else d&&d.position.length>1&&(i=d.position[0]+(d.offset[0]||0),f=d.position[1]+(d.offset[1]||0));a.Component.html({});var l=a.Link.html({extcls:"BT0",listeners:{mouseover:{handler:function(){var f=a.Component.getItem(this);f&&(f._flying||(e[c]=1,u(e),f._bgTimer&&b.clearInterval(f._bgTimer),f.destroy(),d.prepare?(d.prepare(),b.setTimeout(function(){r(d,d.pointTo,s[c])
},200)):r(d,d.pointTo,s[c])))}},afterRender:function(){var a=this,e=this.el;if(tb._guideDots[c]=a,h){a._curX=g[0],a._curY=g[1],e.css({left:a._curX+"px",top:a._curY+"px"}),a._flyX=i,a._flyY=f;var j=25,k=Math.round((i-a._curX)/j),l=Math.round((f-a._curY)/j);a._flying=!0,a._flyTimer=b.setInterval(function(){return j-=1,0>=j?(a._flying=!1,b.clearInterval(a._flyTimer),e.css({left:a._flyX+"px",top:a._flyY+"px"}),void 0):(a._curX+=k,a._curY+=l,e.css({left:a._curX+"px",top:a._curY+"px"}),void 0)},25)}else e.css({left:i+"px",top:f+"px"});if(d.dotRange){var m=d.dotRange[0],n=d.dotRange[1],o=0,p=0;d.dotRangeOffset&&(o=d.dotRangeOffset[0],p=d.dotRangeOffset[1]);var q='<span style="position:absolute;width:'+m+"px;height:"+n+"px;left:"+o+"px;top:"+p+'px;"></span>';e.html(q)}a._bgPos=0,a._bgTimer=b.setInterval(function(){a._bgPos+=18,a._bgPos>144&&(a._bgPos=0),e.css({backgroundPosition:"0 -"+a._bgPos+"px"})},100)}}});a(document.body).append(l),a.Component.setEvents()}})}}},w=function(c,d,e){var f,g,h="dvExplode";if(c)g=c.x-72,f=c.y-72;else{var i=144,j=144;f=(n-j)/2+m,g=(l-i)/2,f=Math.max(f,0),g=Math.max(g,0),f+=60}a(document.body).append('<a href="javascript:void(0);" id="'+h+'" style="background-position: 0 0;left:'+g+"px;top:"+f+'px;" class="Az0"></a>');var k=a("#"+h),o=16,p=200,q=0;k&&(d&&d(),k._bgTimer=b.setInterval(function(){o-=1,0===o?(b.clearInterval(k._bgTimer),k.remove(),e&&e()):(o>8?q-=p:q+=p,k.css({backgroundPosition:"0 "+q+"px"}))},50))};if(c)tb.hideNewGuide(),v();else{g=627,h=401,f=(n-h)/2+m,e=(l-g)/2,f=Math.max(f,0),e=Math.max(e,0);var x=function(c){var d=a("#"+i),e=5,f=1/e,g=1,h=a("#dvGuideMask");d&&(d._bgTimer=b.setInterval(function(){e-=1,0===e?(b.clearInterval(d._bgTimer),d.remove(),p(),c&&c()):(g-=f,d.css({opacity:g}),h&&d.css({opacity:g}))},60))},y='<div class="AH0" id="'+i+'" style="top:'+f+"px;left:"+e+'px;">'+'<div class="sH1"></div>'+a.Link.html({extcls:"tP1",click:function(){x()}})+a.Link.html({text:"立即体验",extcls:"wq0",click:function(){var b=a.Event.getEvent(),c=null;b&&(c={x:b.clientX,y:b.clientY}),$S("frameGuideExplodeEventCoord",c),$S("frame_userNewGuide")?w(c,function(){x()},function(){tb.showVipNewGuide(1)}):x()}})+"</div>";o(null,null,function(){var b=a("#"+i);b&&b.remove(),a(document.body).append(y)})}}}function K(){a.Array.each(tb._guideDots,function(a,c){c&&(c._bgTimer&&b.clearInterval(c._bgTimer),c._flyTimer&&b.clearInterval(c._flyTimer),c.destroy())}),tb._guideDots=[]}function L(){b.setTimeout(function(){a.Frame.resetLayout()},500),$S("isFree")&&"standard"===$G.mailPattern.currentPattern&&b.setTimeout(function(){$S("ad")&&"ud"===$S("ad").userType||tb.pluginPopupTips()},1e4),$S("isFree")&&"standard"===$G.mailPattern.currentPattern&&b.setTimeout(function(){$S("ad")&&"ud"===$S("ad").userType||tb.pluginMasterMailPopup()},5e3),b.setTimeout(function(){tb.pluginSpecialEffect()},1e3),b.setTimeout(function(){tb.pluginMobileTips()},1e3),b.setTimeout(function(){tb.pluginYixinInit()},2e3),b.setTimeout(function(){tb.pluginMusicInit()},4e3),$S("isVip")&&setTimeout(function(){tb.pluginVipMsgCenterInit()},4e3),$S("isCorp")&&1==$G.user.accountRight.qiye_fed&&setTimeout(function(){var b=a.Uri.getUrl("idp_qiye_check");a.Ajax.jsonp(b,function(b){b&&200==b.code&&(a.Ext.attach_online_modify=!0,a.Ext.attach_online_list&&a.Nav.createNav())})},1e3)}function M(b){var c=a.Misc.getTime(),d=!1;c>new Date(2014,8,8,0,0,0)&&c<new Date(2014,8,10,0,0,0)&&(d=!0);var e=a.Cookie.get("MailSpecailEffect_20140905")-0;e&&(d=!1),b&&(d=!0);var f=!0,g="http://mimg.127.net/xm/webmail/eggs/midautumn_2014/change.gif",h=6,i=1,j=-100;if(f&&(i=document.documentElement.clientHeight/document.documentElement.clientWidth),d){a.Cookie.set("MailSpecailEffect_20140905","1",{path:"/",expires:7,domain:$S("fullDomain")});var k=document.createElement("DIV");k.innerHTML='<img src="'+g+'" />',document.body.appendChild(k),k.style.bottom=(f?j*i:0)+"px",k.style.left=j+"px",k.style.position="absolute",k.style.zIndex=999,setInterval(function(){var a=parseInt(k.style.left,10)+h;k.style.left=a+"px",f&&(k.style.bottom=a*i+"px"),parseInt(k.style.left,10)>3e3&&(k.style.display="none")},50)}}function N(c){if($S("isFree")&&(!$S("ad")||"ud"!==$S("ad").userType)){var d=function(){b.gSupportMailboxPromote&&gSupportMailboxPromote.destroy()};if(c)return d(),void 0;var e=a.Misc.getTime(),f="http://you.163.com/act/pub/dBxCwKzw3Q.html?from=web_gg_mail_shoujianxiang_0",g=1,h="__inter_mb_pr__",i="__inter_mb_pr_close__";if(!(new Date(2017,3,5,0)>e||new Date(2017,3,12,0)<e)){try{var j=!0,k=a.Cookie.get(h)-0,l=a.Cookie.get(i)-0;if(l>0)return;if(k>0){var m=new Date(k),n=m.getDate(),o=e.getDate();if(o==n)return}if(!j)return}catch(p){}try{if(b.gSupportMailboxPromote)return;var q=a.Misc.getTime();q.setTime(q.getTime()+864e5*g),a.Cookie.set(h,e.valueOf(),{path:"/",domain:$S("fullDomain"),expires:q});var r=f,s=a.Component.html({html:'<a class="APP-ads-fixed-close"  style="display:block;width:30px;height:30px;white-space:nowrap;text-indent:1000px;overflow:hidden;background-color:#f0f;position:absolute;right:10px;top:0px;background:url(http://mimg.127.net/ggimg/all/img19/170329_close.png) no-repeat center;" href="javascript:void(0);" title="关闭广告">关闭广告</a>',listeners:{click:{handler:function(){var b=a.Misc.getTime();b.setTime(b.getTime()+2592e6),a.Cookie.set(i,e.valueOf(),{path:"/",domain:$S("fullDomain"),expires:b}),d(),a.Log.cache({FrameMailboxPromoteClose:1})}}}}),t=a.Component.html({html:'<a class="APP-ads-fixed-target" href="javascript:void(0);" target="_blank"><img src="http://mimg.127.net/ggimg/all/img19/170329_inbox.gif" alt=""></a>',listeners:[{name:"click",type:"dom",handler:function(){b.open(r,"_blank"),d(),a.Log.cache({FrameMailboxPromoteClick:1})}}]});b.gSupportMailboxPromote=new a.Component({html:'<div class="APP-ads-fixed" style="position:absolute;right:45px;top:330px;z-index:10000">'+s+t+"</div>"}),a(document.body).append(gSupportMailboxPromote.html()),a.Component.setEvents(),a.Log.cache({FrameMailboxPromoteShow:1})}catch(p){}}}}function O(b){if($S("isFree")&&"student"===$G.mailPattern.currentPattern)try{if("1"==a.Ud.get({field:"ntes_contact",flag:"StudentUpgradeConfirmed"})){if($S("SupportShowingMsgbox"))return;$S("SupportShowingMsgbox",!0),a.Ud.set({field:"ntes_contact",flag:"StudentUpgradeConfirmed",value:"0"}),b&&b()}}catch(c){}}function P(b){if(!a.Browser.isIE("<8")&&$S("isFree")&&"student"!==$G.mailPattern.currentPattern)try{("0"==a.Ud.get({field:"ntes_contact",flag:"StudentUpgradeMsgbox"})||b)&&a.Ajax.jsonp("http://iplocator.mail.163.com/iplocator?format=noencode",function(c){var d,e=c?c.split("&"):[],f={};if(e.length>0)for(var g=0,h=e.length;h>g;g++)d=/([^=]+)=([^=]*)/.exec(e[g]),d&&(f[d[1]]=d[2]);if(f.net&&"e"===f.net||b){if($S("SupportShowingMsgbox"))return;$S("SupportShowingMsgbox",!0),a.Msgbox.show({title:"",content:'<div style="width:737px;height:496px;background:url(http://mimg.127.net/xm/webmail/img/140820_qingning_2.jpg) no-repeat 0 0;border-radius:3px;overflow:hidden;position: absolute;"><a href="javascript:void(0)" style="display:block;width:50px;height:50px;overflow:hidden;text-indent:500px;white-space:nowrap;position:absolute;right:3px;top:3px" onclick="$.Msgbox.msgbox.close();$.Log.cache({StudentFirstLoginClose: 1});">关闭提示</a><a href="http://18.mail.163.com/intro.do?from=mail" target="_blank" style="display:block;width:153px;height:35px;overflow:hidden;text-indent:500px;white-space:nowrap;position:absolute;left:292px;top:112px" onclick="$.Log.cache({StudentFirstLoginMoreIntro: 1});">查看更多介绍</a><a href="javascript:void(0)" style="display:block;width:177px;height:54px;overflow:hidden;text-indent:500px;white-space:nowrap;position:absolute;left:275px;top:433px" onclick="$.Msgbox.msgbox.fire(\'ok\');">立即升级</a><a href="javascript:void(0)" style="position:absolute;left:467px;top:449px" onclick="$.Msgbox.msgbox.close();$.Log.cache({StudentFirstLoginNoUpdate: 1});">[暂不升级]</a></div>',contentType:"wide",width:"737px",height:"496px",okText:"立即升级",ok:function(){return a.Ud.set({field:"ntes_contact",flag:"StudentUpgradeConfirmed",value:"1"}),a.Msgbox.msgbox.close(),a.Log.cache({StudentUpgradeMsgboxClick:1}),$E("interface.OptionInterface",function(a){a.changeStyle("qn")}),!1},noHeader:!0,noFooter:!0});var i=a.Msgbox.msgbox.getEl();i.findFly(".nui-msgbox-close").hide(),a.Ud.set({field:"ntes_contact",flag:"StudentUpgradeMsgbox",value:"1"}),a.Log.cache({StudentUpgradeMsgboxShow:1})}})}catch(c){}}function Q(c){if($S("isFree")&&"student"===$G.mailPattern.currentPattern&&c)try{if("0"==a.Ud.get({field:"ntes_contact",flag:"StudentMailCenterTips"})){var d=a.Folder.list("pop"),e=a.Array.findObject(d,"name",c);if(!e)return;var f=a.Array.findObject(a.Nav.config.tree,"name","pop");if(!f||!f.cpt)return;f.cpt.rawConfig.isFold&&f.cpt.fire("unfold"),setTimeout(function(){var c=a.Nav.getTreeItem("pop",e.id);c&&(c.rawConfig.hidden||(b.gLefNavMailcenterTips=new a.Layer({width:"200px",content:'<p>学校邮箱收到的邮件，可以在这里点<br>击查看啦！<a href="javascript:void(0);" onclick="gLefNavMailcenterTips.fire(\'closeclick\');$.Log.cache({LefNavMailcenterTipsClick:1});">我知道了</a></p>',params:"hasArr arrLeft hasClose",doNotHide:!0,fixX:-40,fixY:10,pointTo:c.el,listeners:{closeclick:function(){b.gLefNavMailcenterTips.destroy(),a.Log.cache({LefNavMailcenterTipsClose:1})}}}),b.gLefNavMailcenterTips.render(),a.Log.cache({LefNavMailcenterTipsShow:1})))},500)}}catch(g){}}function R(){if($S("isFree")&&"student"===$G.mailPattern.currentPattern)try{if("1"==a.Ud.get({field:"ntes_contact",flag:"StudentUpgradeConfirmed"}))return;if("0"==a.Ud.get({field:"ntes_contact",flag:"StudentFirstLogin"})){if($S("SupportShowingMsgbox"))return;$S("SupportShowingMsgbox",!0),a.Msgbox.show({title:"",content:'<div style="width:646px;height:372px;background:url(http://mimg.127.net/xm/webmail/img/140806_school.gif) no-repeat 0 0;position:relative;border-radius:3px"><a href="javascript:void(0)" style="display:block;width:50px;height:45px;overflow:hidden;text-indent:500px;white-space:nowrap;position:absolute;right:0;top:0" onclick="$.Msgbox.msgbox.close();$.Log.cache({StudentFirstLoginClose: 1});">关闭提示</a><a href="javascript:void(0)" style="display:block;width:177px;height:54px;overflow:hidden;text-indent:500px;white-space:nowrap;position:absolute;left:236px;top:296px" onclick="$.Msgbox.msgbox.fire(\'ok\');">立即设置</a></div>',contentType:"wide",width:"646px",height:"372px",okText:"立即设置",ok:function(){return $E("interface.OptionInterface",function(a){a.entry({module:"AccountCenterModule",extra:{type:"create",section:"mailcenter",from:"studentPromote"}})}),a.Msgbox.msgbox.close(),a.Log.cache({StudentFirstLoginGotoMailcenter:1}),!1},noHeader:!0,noFooter:!0});var b=a.Msgbox.msgbox.getEl();b.findFly(".nui-msgbox-close").hide(),a.Ud.set({field:"ntes_contact",flag:"StudentFirstLogin",value:"1"}),a.Log.cache({StudentFirstLoginShow:1})}}catch(c){}}function S(c){if($S("isFree")&&"student"!==$G.mailPattern.currentPattern)try{var d=!0;try{var e=a.Cookie.get("MailMasterPopupTips")-0,f=new Date(e),g=48;(a.Browser.isIE()||a.Browser.chrome()||a.Browser.firefox()||a.Browser.safari())&&(g=72);var h=(new Date-f)/36e5;if(g>h)return d=!1,void 0}catch(i){}var j=function(){if((d||c)&&!$S("SupportShowingMsgbox")&&($S("SupportShowingMsgbox",!0),!b.gSupportMasterMailPopup)){var e=gAd.get("frameBottom");if(e){a.Cookie.set("MailMasterPopupTips",(new Date).valueOf(),{path:"/",expires:7,domain:$S("fullDomain")}),b.gSupportMasterMailPopup=new a.Popup({content:'<div class="APP-dashi-botBanner" style="height:100px;border: 0;background: none;">'+e+"</div>",renderTo:document.body,subclass:"commonPopup",pauseTime:c?5e5:1e4,useAnimate:!0});var f=$G.get("mailMasterPromoteConf")||{};b.gSupportMasterMailPopup.__close__=function(c){try{b.gSupportMasterMailPopup.fadeOut(),b.gSupportMasterMailPopup=null,"click"!==c&&a.Log.cache({FrameMasterMailPopupClose:1})}catch(d){}},b.gSupportMasterMailPopup.__click__=function(){try{b.open(f.mainLink),a.Log.cache({FrameMasterMailPopupClick:1})}catch(c){}},b.gSupportMasterMailPopup.__clickDownload__=function(){try{b.open(f.iOSLink),a.Log.cache({FrameMasterMailPopupClick2:1})}catch(c){}},b.gSupportMasterMailPopup.__clickDownload2__=function(){try{b.open(f.andriodLink),a.Log.cache({FrameMasterMailPopupClick3:1})}catch(c){}},a.Log.cache({FrameMasterMailPopupShow:1})}}};j()}catch(i){}}function T(c){var d=a.Misc.getTime(),e="http://you.163.com/act/entry/4M9p6LhOyg.html",f=1;if(new Date(2017,4,10,0)<d&&new Date(2017,4,13,0)>d||new Date(2017,3,10,0)<d&&new Date(2017,3,12,0)>d){var g="MailPromotePopup2";try{var h=!0,i=a.Cookie.get(g)-0;if(i>0){var j=new Date(i),k=j.getDate(),l=d.getDate();if(l==k)return}if(!h)return}catch(m){}try{if($S("SupportShowingMsgbox"))return;if($S("SupportShowingMsgbox",!0),b.gSupportPopupTips)return;var n=a.Misc.getTime();n.setTime(n.getTime()+864e5*f),a.Cookie.set(g,d.valueOf(),{path:"/",domain:$S("fullDomain"),expires:n});var o=250,p=250,q=e;b.gSupportPopupTips=new a.Popup({content:'<div id="dvRightCornerPopup"><p class="nui-msgbox-hd"><a href="javascript:void(0);" onclick="gSupportPopupTips.__close__();" class="nui-close nui-ico nui-ico-x nui-ico-x-dark"></a></p>'+a.Support.insertIframe({url:q,width:o,height:p,scrolling:"no"})+"</div>",renderTo:document.body,pauseTime:c?5e5:1e4,useAnimate:!0,onRender:function(){var a=this;a.el.css({width:o+"px"})},extcls:"AU0"}),b.gSupportPopupTips.__close__=function(){try{b.gSupportPopupTips.fadeOut(),b.gSupportPopupTips=null,a.Log.cache({FrameRightCornerPopupClose:1})}catch(c){}},b.gSupportPopupTips.__click__=function(){try{a.Log.cache({FrameRightCornerPopupClick:1})}catch(b){}},a.Log.cache({FrameRightCornerPopupShow:1})}catch(m){}}}function U(){var c=$I("product.AccountRelate");c.init();var d=c.relateAccount,e=d&&d.length>0;e||"0"==a.Ud.get({field:"ntes_contact",flag:"AccountRelateTips"})&&(b.gAccountRelateLayer=new a.Layer({uniqueLayer:!0,width:"280px",content:"<p>将不同用途的邮箱关联起来，无需登录，<br>所有关联邮箱永不冻结，未读邮件数一目了然。<br><a href=\"javascript:void(0);\" onclick=\"$E('interface.OptionInterface',function(o){o.related({type: 'add'});});gAccountRelateLayer.fire('closeclick');$.Log.cache({TopNavAccountRelateTipsClick:1});\">立即关联</a></p>",params:"hasArr arrTop hasClose",doNotHide:!0,pointTo:$S("topNavAccountLink").el,listeners:{closeclick:function(){a.Ud.set({field:"ntes_contact",flag:"AccountRelateTips",value:"1"}),b.gAccountRelateLayer.destroy()}}}),b.gAccountRelateLayer.render(),a.Log.cache({TopNavAccountRelateTipsShow:1}))}function V(){if(!$S("isCorp")&&!$S("isVip")){var b=a.SenderList.getMobile();if(!b){var c=tb.getFlashHtml({url:"http://mimg.127.net/p/js6/lib/swf/mobile.swf",cls:"fG2",width:9,height:11,wmode:"transparent"}),d=$S("topNavAccountLink");if(!d)return;var e=a.Link.html({text:'<b class="nui-ico"></b>'+c+'<b class="cM1"></b>',extcls:"pm1 hM1 nui-txt-link",onRender:function(){$S("topNavMobileLink",this)},listeners:{click:function(){a.Nav.entry("OptionInterface",{module:"LinkModule",linkName:"mobile_set_option"}),a.Log.cache({topNav_mobileIcon_click:1},function(a,b){a.value+=b})}}}),f='<li class="rZ0">'+e+"</li>";d.el.findParent("li").after(f),a.Component.setEvents(),a.Log.cache({topNav_mobileIcon_show:1},!0)}}}function W(c){!function(){var d=function(){var c="",d=a.Link.html({text:'<img src="http://mimg.127.net/p/js6/lib/img/icon_lofter.png">',attrs:c,cls:"item",click:function(){if(a.AppCenterInterface.gotoApp(148e3),b.gLofterBoxLayer)try{b.gLofterBoxLayer.fire("closeclick")}catch(c){}a.Log.cache({TopTabLofterClick:1})}});return d};c||(c=a("#dvMultiTabWrapper")),c.append(d()),a.Log.cache({TopTabLofterShow:1})}()}function X(c){!function(){var d=function(){var c=a.Link.html({text:'<img src="http://mimg.127.net/p/js6/lib/img/icon_read2.png">',cls:"item",click:function(){if(a.AppCenterInterface.gotoApp(7),b.gReaderBoxLayer)try{b.gReaderBoxLayer.fire("closeclick")}catch(c){}a.Log.cache({TopTabReaderClick:1})}});return c};c||(c=a("#dvMultiTabWrapper")),c.append(d()),a.Log.cache({TopTabReaderShow:1})}()}function Y(b){!function(){var c=function(){var b=a.Link.html({text:'<img src="http://mimg.127.net/p/js6/lib/img/icon_pinle.png">',cls:"item first",click:function(){a.AppCenterInterface.gotoYiqipin("right"),a.Log.cache({TopTabPinClick:1})}});return b};b||(b=a("#dvMultiTabWrapper")),b.append(c()),a.Log.cache({TopTabPinShow:1})}()}function Z(){if(a.Ext.plugin_vipMsgCenter){var b=$S("topNavAccountLink");if(!b)return;!function(){var c="ifrmVipMsgCenter",d=function(){var b="http://vip.163.com/xm/newMessage/frame.html",d=a.Uri.getUrl(b);if($S("topNavAccountLink")&&$S("topNavAccountLink").el){var e=$S("topNavAccountLink").el.css("color");d=a.Location.addParam({textColor:e},d)}var f="dvPlugin_VipMsgCenter_Wrapper",g='style="position:relative;line-height:0;font-size:0;z-index:1;width:30px;height:30px;top:-4px"',h='style="width:0;height:0;position:absolute;top:0;left:0;"',i='<div id="'+f+'" class="APP-VipMsgCenter" '+g+">"+'<iframe id="'+c+'" src="'+d+'" class="APP-VipMsgCenter-iframe" frameborder="0" scrolling="no" allowtransparency="allowtransparency" '+h+"></iframe>"+"</div>";return i};try{var e='<li class="rZ0">'+d()+"</li>";b.el.findParent("li").after(e),tb.addCrossListener(c,"http://vip.163.com/xm/newMessage/proxy.htm")}catch(f){}}()}}function $(b){a.Ext.plugin_cloudmusic&&function(){var c=function(){var a="http://music.163.com/mailplayer?host="+$S("host")+"&uid="+$S("orgUid")+"&sid="+$S("sid")+"#http://"+$S("host")+"/app/cloudmusic/proxy.html",b="dvPlugin_Music_Wrapper",c="ifrmMusic",d="",e='style="width:0px;height:0px;"',f='<div id="'+b+'" class="APP-musicBox" '+d+">"+'<iframe id="'+c+'" src="'+a+'" class="APP-musicBox-iframe" frameborder="0" scrolling="no" allowtransparency="allowtransparency" '+e+"></iframe>"+"</div>";return f};b||(b=a("#dvMultiTabWrapper")),b.append(c()),tb.addCrossListener("ifrmMusic","http://music.163.com/mail/proxy.htm")}()}function _(){var b,c,d=a.Component.html({html:'<div class="APP-common APP-common-folder"><div class="APP-common-folder-bg"></div><div class="APP-common-folder-inner"></div></div>',onRender:function(){function d(a){f++,a&&a()}b=this;var e=b.el.find(".APP-common-folder-inner"),f=0;d(function(){tb.pluginPinInit(e)}),d(function(){tb.pluginReaderInit(e)}),d(function(){tb.pluginLofterInit(e)}),a.Ext.plugin_cloudmusic&&d(function(){tb.pluginMusicInit(e)});var g=a.Ext.plugin_cloudmusic?"":" close-no-music",h=a.Link.html({text:'<img src="http://mimg.127.net/ggimg/all/img19/160419_ico_x.png">',cls:"item close"+g,click:function(){var d=b.el;d.removeClass("APP-common-folder-unfold"),c&&c.el&&c.el.show(),b.__isClosed__=!0,a.Log.cache({MultiTab_PluginsPanel_CloseBtn_Click:1})}});e.append(h);var i=e.pre();i.width(34*f+30)},listeners:{mouseover:{handler:function(){var c=a(this);c&&a.Event.isMouseover(c.dom)&&(b.__isClosed__||c.addClass("APP-common-folder-unfold"))}},mouseout:{handler:function(){var b=a(this);b&&a.Event.isMouseout(b.dom)&&(b.removeClass("APP-common-folder-unfold"),c&&c.el&&c.el.show())}}}}),e={html:'<div class="APP-common APP-common-more"><a href="javascript:void(0);"><img src="http://mimg.127.net/p/js6/lib/img/icon_more.png" /></a></div>',onRender:function(){c=this},listeners:{click:{handler:function(){var c=a(this);b.__isClosed__=!1;try{b.el.addClass("APP-common-folder-unfold"),c.hide()}catch(d){}a.Log.cache({MultiTab_PluginsPanel_CloseBtn_Show:1})}},mouseover:{handler:function(){var c=a(this);if(c&&a.Event.isMouseover(c.dom)&&!b.__isClosed__){try{b.el.addClass("APP-common-folder-unfold"),c.hide()}catch(d){}a.Log.cache({MultiTab_PluginsPanel_CloseBtn_Show:1})}}},mouseout:{handler:function(){var c=a(this);c&&a.Event.isMouseout(c.dom)&&(c.removeClass("nui-addr-active"),b.__isClosed__=!1)}}}};a("#dvMultiTabWrapper").append(d),a.Component.setEvents(),setTimeout(function(){a("#dvMultiTabWrapper").append(a.Component.html(e)),a.Component.setEvents()},1e3)}function ab(){a.Ext.yixin_im&&function(){var b=a.SenderList.getMobile(),c=function(){var c="http://web.yixin.im/embed?host="+$S("host"),d=$G.attrs.user,e=d.true_name||d.nick_name||b&&a.Uri.getDefaultName(b.address)||a.Uri.getDefaultName($S("uid"));c+="&nick="+encodeURIComponent(e),c+="&clientWidth="+($S("clientWidth")||document.documentElement.clientWidth),c+="&clientHeight="+($S("clientHeight")||document.documentElement.clientHeight);var f="dvYixinWrapper",g="ifrmYixin",h='style="vertical-align:top;line-height:16px;margin:0 4px 0 4px;width: 16px;height: 17px;position: relative;+zoom:1;cursor:point;background:url(http://mimg.127.net/p/js6/lib/img/loading.gif) no-repeat;"',i='style="height: 0px;width: 0px;position: absolute;left: 0;top: 1px;"',j='<div id="'+f+'" class="lP1 nui-fIBlock" '+h+">"+'<div id="dvYixinText"></div>'+'<iframe tabindex="-1" id="'+g+'" src="'+c+'" class="xa" frameborder="0" scrolling="no" allowtransparency="allowtransparency" '+i+"></iframe>"+"</div>";return j},d=c(),e=$S("topNavAccountLink");$S("topNavMobileLink")&&(e=$S("topNavMobileLink")),e&&(d='<li class="rZ0">'+d+"</li>"+'<li class="rZ0 pn1">|</li>',e.el.findParent("li").after(d),tb.addCrossListener("ifrmYixin","http://web.yixin.im/res/proxy.htm"))}()}function bb(){!function(){var b="dvIfrmMailMasterWrapper",c="ifrmMailMaster",d="http://web.yixin.im/res/proxy.htm",e=function(){var d="http://web.yixin.im/embed?host="+$S("host"),e={uid:$S("uid"),clientWidth:$S("clientWidth")||document.documentElement.clientWidth,clientHeight:$S("clientHeight")||document.documentElement.clientHeight};d=a.Location.addParam(e,d);var f='style="vertical-align:top;line-height:16px;margin:0 4px 0 4px;width: 16px;height: 17px;position: relative;+zoom:1;cursor:point;background:url(http://mimg.127.net/p/js6/lib/img/loading.gif) no-repeat;"',g='style="height: 0px;width: 0px;position: absolute;left: 0;top: 1px;"',h='<div id="'+b+'" class="jD1 nui-fIBlock" '+f+">"+'<iframe tabindex="-1" id="'+c+'" src="'+d+'" class="xa" frameborder="0" scrolling="no" allowtransparency="allowtransparency" '+g+"></iframe>"+"</div>";return h},f=e(),g=$S("topNavAccountLink");$S("topNavMobileLink")&&(g=$S("topNavMobileLink")),g&&(f='<li class="rZ0">'+sYinxinHtml+"</li>"+'<li class="rZ0 pn1">|</li>',g.el.findParent("li").after(f),tb.addCrossListener(c,d))}()}function cb(c,d){var e=function(){var a=b.netease.mail.api.Cross;a.registXMessage(d),a.addMsgListener(c)};try{var f=function(){"start"===$S("loadingCross")?b.gTimerLoadCross=b.setTimeout(function(){f()},200):"end"===$S("loadingCross")&&(b.gTimerLoadCross&&b.clearTimeout(b.gTimerLoadCross),e())};"start"===$S("loadingCross")?f():"end"===$S("loadingCross")?e():b.netease.mail.api&&b.netease.mail.api.Cross?e():($S("loadingCross","start"),a.Ajax.request({requestType:a.Ajax.SCRIPT,url:$G.environment.mimgUrl+"mailapi/src/2.0/cross_js5_v2.js",call:function(){$S("loadingCross","end"),e()}}))}catch(g){}}function db(b){function c(c){var e=a.Element.getIframeDoc(c),f=e.getElementsByTagName("PRE")[0],g=(f||e.body).innerHTML.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),h={};try{try{h=a.Eval.get(g.toString())}catch(i){h=a.JSON.parse(g.toString())}}catch(i){h={}}if(200!==h.code)return b();try{var j=h.data||{},k=[];a.Array.each(j.contacts,function(a,b){b=d(b),b.emails.length>0&&k.push(b)}),a.Array.each(j.groups,function(a,b){k.push({cid:b.CID,marked:+b.MARKED,name:b.N||"未命名",ctype:"group",contacts:[]})}),k.sort(function(a,b){return a.marked-b.marked}),b({contact:k,recommend:[],contactCount:0})}catch(i){b()}}function d(a){var b=e(a)||[],c=b[0]||null,d=a.CID||null,g=d?f(a)||"未命名":c?c.substring(0,c.indexOf("@")):"未命名";return{cid:d,marked:+a.MARKED||null,email:c,emails:1!==b.length||c?b:[],name:g}}function e(b){var c,d,e,f=[];for(var g in b)e=b[g],e&&g.indexOf("EMAIL")>=0&&("string"==typeof e?d||g!==a.EMAIL_ADDRESS?f.push(e):d=e:Object.isArray(e)&&(e=Object.clone(e),d||g!==a.EMAIL_ADDRESS||(d=e.shift()),f=f.concat(e)));return d&&f.unshift(d),c=f.join("@@").toLowerCase(),c.split("@@")}function f(b){var c=b.FN||"",d=b.N,e=d?d.split(";"):null;return e?g(e)||c:a.String.trim(c)}function g(b){var c,d=b,e="",f="";return a.Object.isString(d)&&(d=d.split(";")),5===d.length&&(e=d.join(";"),c=/[a-zA-Z]+/.test(e),f=c?a.String.trim([d[3],d[1],d[2],d[0],d[4]].join(" ")):a.String.trim([d[3],d[0],d[2],d[1],d[4]].join(""))),a.String.trim(f)}var h=document.getElementById("getMarkedContacts");return h?("loaded"===h.getAttribute("loaded")?c(h):a.Event.one(h,"load",function(){c(h)}),void 0):b()}function eb(a){var b=tb.notary;if(a||(a=function(){}),b=!1,"undefined"==typeof b){var c=new($I("core.DataAction"));c.wmsvr({func:"mbox:prepareNtesArch",body:{sync:!0},call:function(c){var d;try{d=c["var"].checksum}catch(e){}b=tb.notary="undefined"!=typeof d,a(b)},error:function(){return a(!1),!0}})}else a(b);return b}function fb(){var a=arguments,b=a[0];return b!==c?b.replace(/{(\d+)}/g,function(b,c){var d=+c+1;return"undefined"!=typeof a[d]?a[d]:b}):void 0}function gb(a,b,c){var d=a.concat();setTimeout(function e(){b(d.shift()),d.length>0?setTimeout(e,25):c(a)},25)}function hb(a,b,c){var d=a.concat();setTimeout(function e(){var a=d.shift();a.apply(null,b||[]),d.length>0?setTimeout(e,25):c()},25)}function ib(a){a=a||{url:"",cls:"",width:0,height:0};var b=a.wmode||"transparent",c='<embed src="'+a.url+'" class="'+a.cls+'" quality="high" wmode="'+b+'" allowscriptaccess="always" scale="noscale" width="'+a.width+'" height="'+a.height+'" type="application/x-shockwave-flash">';return c}function jb(a){if(-1==a){var b=$S("ad").show===!1&&"ud"==$S("ad").userType;b?$E("support.Theme",function(a){a.changeSkin(62)}):$E("product.Privileges",function(a){a.showProduct("noAd")})}}function kb(a){if(!a)return a;var b=a,c="";a.indexOf("@")>0&&(b=a.split("@")[0],c="@"+a.split("@")[1]);var d=/^1\d{10}$/.test(b);if(d){var e=b.substring(0,3),f=b.substring(b.length-4,b.length);b=e+"****"+f,a=b+c}return a}function lb(){tb._isIE6=6===tb._ieVersion,tb._isIE7=7===tb._ieVersion,tb._isIE8=8===tb._ieVersion}function mb(){var c=$G.attrs.user||{},d="0000000000000000",e=d+d,f=e+e,g={afterdel:1,replyf:0,addo:0,displaysender:0,maxlist:20,refuselist:"",safelist:"",op_readreceipt:0,ntes_compose:d,ntes_global:d,ntes_contact:d,ntes_letter:d,ntes_option:d,helptips:d,ntes_inbox:d,ntes_buzz:d,ntes_rd_config:f,time_zone:0};for(var h in g)("number"==typeof g[h]&&isNaN(c[h])||null===c[h])&&(c[h]=g[h]);c.true_name=a.String.decodeHTML(c.true_name||""),c.nick_name=a.String.decodeHTML(c.nick_name||"");var i=$G.attrs.alias;if(i){var j=$G.attrs.domainAliasUsers;if(j&&j.length>0){0===i.length&&i.push({aliases:[]});for(var k=0,l=j.length;l>k;k++)i[0].aliases.push({id:j[k]})}}var m={attrs:$G.attrs,isUnlimit:$G.user.isUnlimit,uid:$G.user.uid,orgUid:$G.user.uid,user:$G.user.uid.split("@")[0],sid:$G.user.sid,timeS:$G.environment.now-0,timeC:new Date,cos:$G.attrs.cos,ursCookie:$G.user.ursCookie,alias:$G.attrs.alias};a.Object.extend(m,$G.attrs.common);var n=Math.round(3*($G.attrs.cos.pref_smtp_max_send_mail_size-0)/4/1024);a.Array.each([15,20,30,40,50,100],function(a,b){Math.abs(n-b)<b/10&&(m.attachSize=b)}),m.attachSize||(m.attachSize=100);var o=location.hostname;a.Array.each([["mail.163.com","163.com","163"],["mail.126.com","126.com","126"],["mail.yeah.net","yeah.net","yeah"],["vip.163.com","vip.163.com","vip"],["vip.126.com","vip.126.com","126vip"],["vip.188.com","188.com","188"]],function(b,c){var d=c[0],e=c[1],f=c[2];o.indexOf(d)>-1&&(a.Object.extend(m,{domain:e,product:f,fullDomain:d,host:o}),m["is"+f]=!0),m.isFree=m.is163||m.is126||m.isyeah,m.isVip=m.isvip||m.is126vip||m.is188}),m.isFree||m.isVip||(a.Object.extend(m,{domain:"qiye.163.com",product:"corp",fullDomain:"qiye.163.com",host:o}),m.isCorp=!0);var p;m.isFree?p="free":m.isVip?p="vip":m.isCorp&&(p="corp"),m.domainType=p;var q={};m.is188&&(q.is188vip=!0),q.is188vip&&(0===m.attrs.user.ntes_defaultaccount-0?(m.uid=m.user+"@188.com",m.subaccount=m.user+"@vip.188.com"):(m.uid=m.user+"@vip.188.com",m.subaccount=m.user+"@188.com"),rb.fire("global:uidChanged",m.uid)),m.member=q,a.Object.extend(m,b.gCustom),m.skin={name:$G.user.css,color:$G.user.color};var r=a.Cookie.get("Coremail",!0);r&&(m.orgHost=r.split("%")[2]||r.split("%")[1]||o),/^(d\.)|(o\.)|(t\.).+/.test(m.host)&&(m.orgHost=m.host),m.isFree||/^(g1a56\.)|(g1a4\.)|(g1a3\.).+/.test(m.host)&&(m.orgHost=m.host);var s=a.Cookie.get("P_INFO").split("|");if(!m.isCorp&&s.length>6){var t=/^m1[345678]\d{9}(?:_\d+)?$/.test($G.user.uid.split("@")[0]);if(1===s[6].split("&")[1]-0){var u=(a.SenderList.getMobile()||{}).address;u&&(m.mobile_sender=u,m.uid=u,$G.user.uid=u,t&&(m.showMobileAccountOnly=!0)),$I("util.Misc").checkReserveAccount(m.orgUid)}}a.Listener.fire("global:uidChanged",m.uid);for(var v in m)$S(v,m[v]);$S("checkViewType",a.Ud.get({field:"ntes_inbox",flag:"layout"})?!0:!1)}function nb(){var b=a.Browser,c={show:!0,showClose:!0};$S("isVip")&&(c.show=!1,c.showClose=!1,c.userType="vip"),$S("isyeah")&&(c.show=!1,c.showClose=!1,c.userType="yeah"),$S("isCorp")&&(c.show=!1,c.showClose=!1,c.userType="corp"),"1"==a.Ud.get({field:"ntes_option",flag:"globalAd"})?(c.show=!1,c.showClose=!1,c.userType="ud"):((b.firefox()||b.chrome()&&b.getVersion()[0]>26||b.safari()||b.opera())&&(c.show=!1,c.showClose=!1,c.userType="browser"),$I("util.Misc").getTime(0)-$S("attrs").user.user_creation_date<2592e6&&(c.show=!1,c.showClose=!1,c.userType="newuser"),"student"===$G.mailPattern.currentPattern&&(c.show=!1,c.showClose=!1,c.userType="student")),$S("ad",c)}function ob(){var b,c=this,d=[],e=a.SenderList.getMobile();c.currentAccount=$G.user.uid;var f="";$S("isVip")&&(f=a.Icon.html({type:"user-vip"}));var g='<a href="javascript:;" class="nui-txt-link kl0">'+f+'<span id="spnUid">'+($S("is188")?$S("uid"):c.hideMobileNumber(c.trimAccount(c.currentAccount,!e)))+"</span>"+'<span class="hM0" id="_account_'+c.currentAccount+'"></span>'+a.Icon.html({type:"dArr",extcls:"kJ0",onRender:function(){$S("topNavAccountArrow",this)}})+"</a>",h=a.Component.html({html:g,onRender:function(){$S("topNavAccountLink",this)},listeners:{click:{handler:function(){var c=$I("product.AccountRelate");setTimeout(function(){b&&!$S("multiAccount:changed")?b.showing?(b.hide(),$S("topNavAccountArrow")&&$S("topNavAccountArrow").el.removeClass("jL1")):(b.show(),$S("topNavAccountArrow")&&$S("topNavAccountArrow").el.addClass("jL1"),c.getAllAccountCount()):($S("multiAccount:changed",!1),b&&b.destroy(),b=tb.getAccountMenu(),a.Component.setEvents(),$S("accountMenu",b),b.show(),b.getEl().floatTo(a.fly("#spnUid").dom,!0),$S("topNavAccountArrow")&&$S("topNavAccountArrow").el.addClass("jL1"),$S("isFree")&&tb.insertIframe({url:a.Uri.getUrl("credits_info")},a("#dvJifenIFrame"),"html")),a.Log.cache({TopNavAccountClick:1})},0),a.fly(a.Menu._doc).listen("click",function(){b&&(b.hide(),$S("topNavAccountArrow")&&$S("topNavAccountArrow").el.removeClass("jL1"))})}},mouseover:{handler:function(){var b=a(this);b&&a.Event.isMouseover(b.dom)}},mouseout:{handler:function(){var b=a(this);b&&a.Event.isMouseout(b.dom)&&b.removeClass("nui-addr-active")}},mousedown:{handler:function(){var b=a(this);b&&b.removeClass("nui-addr-hover")}},mouseup:{handler:function(){var b=a(this);b&&b.removeClass("nui-addr-active")}},focus:{handler:function(){var b=a(this);b&&b.addClass("nui-addr-focus")}},blur:{handler:function(){var b=a(this);b&&b.removeClass("nui-addr-focus")}}}}),i={html:'<li class="pR0">'+h+"</li>"};d.push(i),a.Array.each($G.get("topNavConf"),function(b,c){if(c.disable&&c.disable())return a.CONTINUE;"before"===c.split&&d.push({html:'<li class="rZ0 pn1">|</li>'});var e=c.onRender,f="";
c.icon&&(a.Object.isString(c.icon)?f=a.Icon.html({type:c.icon}):a.Object.isObject(c.icon)&&(f=a.Icon.html(c.icon)));var g="";if(c.showArrow&&(g=a.Icon.html({type:"dArr",extcls:"kJ0",onRender:function(){c.__arrowItem__=this}}),c.cls=(c.cls||"")+" "+"kl0"),d.push({html:'<li class="rZ0"><a href="javascript:;" title="'+(c.title||"")+'" class="sh0 '+(c.cls?c.cls+" ":"")+'nui-txt-link"'+(a.Object.isNumber(c.tabIndex)?" tabindex="+c.tabIndex:"")+">"+(c.text||"")+f+g+"</a>"+(c.extIcon||"")+"</li>",menu:c.menu,navText:c.text,afterRender:c.afterRender,onRender:function(){var d=this.rawConfig,f=d.menu;if(e&&e.call(this),f){f.onItemClick=function(c){var d=0;this.each(function(b){return b===c.id?a.BREAK:(d++,void 0)}),a.Log.cache({topmenuclick:b+"_"+d})};var g=new a.Menu(f);g.listen("show",function(){a.Log.cache({topmenushow:c.logName||b})}),g.attachTo({clickFrom:this.getEl()}),g.ownerCt=this,this.__menu__=g,c.__item__=this}d.afterRender&&d.afterRender.call(this)}}),(c.click||c.showArrow)&&(d[d.length-1].listeners=[{name:"click",type:"dom",handler:function(){if(c.showArrow){var b=c.__arrowItem__;if(!b)return;var d=c.__item__;if(b&&d){var e=d.__menu__,f=b.el;e.showing?(f.removeClass("jL1"),b.__collapse__=!1):(f.addClass("jL1"),b.__collapse__=!0)}a.fly(a.Menu._doc).listen("click",function(){b&&d&&d.__menu__&&d.__menu__.showing&&(b.el.removeClass("jL1"),b.__collapse__=!1)})}c.click&&c.click(this)}}]),c.mouseover){var h=d[d.length-1].listeners||[];h.push({name:"mouseover",type:"dom",handler:function(){var a=this;c.mouseover(a)}}),d[d.length-1].listeners=h}});var j=new a.Component({html:'<ul class="tO0" role="navigation"></ul>',items:d});j.render("h1Logo","after"),$S("topNav",j)}function pb(){function c(){var c=$S("searchMenu");return c&&"none"!==c.getDom().style.display?(c.hide(),void 0):(a.Event.getTarget(),b.setTimeout(function(){var a=tb.getSearchMenu(k.getValue());a.getDom().style.top="43px",a.getDom().style.right="12px"},0),void 0)}function d(){if(!k.prepareSearch){var a=new($I("core.DataAction"));a.wmsvr({func:"mbox:prepareSearch",body:{sync:!0},call:function(a){try{var b=a["var"].ext.cnt;$S("searchIndexed",b)}catch(c){}},error:function(){return k.prepareSearch=!1,!0}})}k.prepareSearch=!0,k.focus()}function e(b,c){var d=a.String.trim(k.getValue());if(0===d.indexOf("$harry>")||0===d.indexOf("$seven>")||0===d.indexOf("$scott>"))return a.JS.go({module:d.substr(7)}),void 0;if(""===d)return a.Msgbox.show({title:"请输入搜索关键字！"}),void 0;if(b=b||"mail",c=c,"mail"===b){var e="true"===$G.user.searchid;c&&(e="fulltext"===c),$E("interface.MboxInterface",function(a){a.find({keyword:d,isFullSearch:e})})}else"file"===b&&$E("product.FileCenter",function(a){a.entry(c,{search:{key:d,fid:-2}})});a.Log.cache({action:"global",click:"search",range:b})}function f(b){var c=a.String.trim(k.getValue());if(k.menu&&(k.menu.destroy(),delete k.menu),c){var d=g(c);k.menu=d,d.relatedObj=k.getDom(),d.render(document.body),d.getEl().floatTo(k.getDom(),!0),d.getDom().style.left="auto",d.getDom().style.top="41px",b&&d.onKeyUp(b),$S("searchInputMenu",d)}}function g(b){var d='<span class="nui-txt-suc">'+a.String.escapeHTML(b)+"</span>",e={xtype:"menu",autoFocus:!1,right:"10px",left:"auto",groups:[{items:[{text:"包含 "+d+' 的邮件<span class="nui-txt-tips">(全文搜索)</span>',click:function(){$E("interface.MboxInterface",function(c){c.find({keyword:b,isFullSearch:!0}),a.Log.cache({action:"global",click:"search",range:"mail"})})}},{text:"包含 "+d+' 的邮件<span class="nui-txt-tips">(标题+收发件人)</span>',click:function(){$E("interface.MboxInterface",function(c){c.find({keyword:b,isFullSearch:!1}),a.Log.cache({action:"global",click:"search",range:"mail"})})}},{text:"包含 "+d+" 的附件",click:function(){$E(["product.FileCenter"],function(c){c.entry("fj_center",{search:{key:b,fid:-2}}),a.Log.cache({action:"global",click:"search",range:"file"})})}},{text:"包含 "+d+" 的联系人",click:function(){$E("interface.AddressInterface",function(a){a.search(b)})}},{text:"包含 "+d+" 的网盘文件",click:function(){$E(["product.FileCenter"],function(c){c.entry("nf_center",{search:{key:b,fid:-2}}),a.Log.cache({action:"global",click:"search",range:"file"})})}}]},{items:[{text:"高级搜索...",click:function(){c()}}]}]};"true"!==$G.user.searchid&&e.groups[0].items.splice(0,1);var f=new a.Menu(e);return f}var h=$S("topNav"),i="true"===$G.user.searchid?"支持邮件全文搜索":"搜索邮件",j=new a.Component({html:'<div class="sU0" role="search"><b class="ru0"></b><b class="kk0 fn-bg nui-ico"></b></div>',items:[{xtype:"input",placeholder:i,iconbtnclick:function(){c(),a.Log.cache({TopNavSearchArrIconClick:1})},voiceInput:!0,listeners:{focus:function(){$S("searchDv")&&$S("searchDv").getEl().addClass("rh1"),d(this)},click:{target:function(){return this.getEl().find("INPUT")},handler:function(){b.setTimeout(function(){f()},0),a.Log.cache({TopNavSearchClick:1})}},blur:function(){$S("searchDv")&&$S("searchDv").getEl().removeClass("rh1");var a=$S("searchInputMenu");a&&a.hide()},keyup:{handler:function(a){var b=$S("searchInputMenu");return b&&b.hideMenu?(b.hideMenu=!1,void 0):(a&&27==a.keyCode?b&&b.hide():f(a),void 0)}},keydown:{handler:function(){}},enter:function(){e(),setTimeout(function(){var a=$S("searchInputMenu");a&&a.hide()},100)}}},{xtype:"link",extcls:"md0",title:"回车(enter)",icon:{extcls:"fn-bg"},listeners:{click:{handler:function(){e()}}}}]});j.render(h,"after");var k=j.find("input")[0];$S("searchInput",k),$S("searchDv",j),a.Component.setEvents()}function qb(){function a(){var a=$S("isVip")?"VIP邮箱极致6.0版":$S("isCorp")&&$G.user.orgName?$G.user.orgName:"网易邮箱6.0版";return $G.appTitle=""+a,$S("title",$G.appTitle),$G.appTitle}var b=$I("init.Folder").getTotal("unread"),c=sb.document,d=a();b=Math.max(0,b),0===b?c.title=d:(d="("+b+"封未读) "+d,c.title=d),document.attachEvent&&!tb._titleChangeEvent&&(tb._titleChangeEvent=!0,document.attachEvent("onpropertychange",function(a){"title"===a.propertyName&&document.title.indexOf("#")>-1&&setTimeout(function(){tb.displayTitle()},1)}))}var rb=a.Listener,sb=b.gUseInIframe?b:top,tb=a.createClass($N("init.Support"));a.Object.extend(tb,{currentAccount:"",splitHeight:250,splitWidth:400,_ieVersion:a.Browser.ie()-0,_isIE6:!1,_isIE7:!1,_isIE8:!1,_isIe:a.Browser.isIE(),baseInit:d,init:e,trimAccount:f,displayTitle:qb,loadHomePage:j,loadMsgbox:n,loadPopup:p,getOuterAccount:o,getAccountMenu:w,setGlobalEvent:g,setGlobeTimer:h,getTagMenu:i,relogin:q,checkNetWork:r,lightenPhone:s,isPhoneAccount:t,gotoAppCenter:u,getAppIconUrl:v,getSearchMenu:x,monitorZoom:y,insertStyle:z,insertIframe:A,loadScript:B,loadStyleSheet:C,setCookie:D,getLoginInfo:E,addContactMail:F,showMsg:G,showGuide:H,showNewGuide:I,hideNewGuide:K,showVipNewGuide:J,afterMailLoaded:L,pluginStudentFirstUpgrade:O,pluginMailUpdateToStudentMsgbox:P,pluginStudentAddAccountMsgbox:R,pluginLeftNavMailcenterTips:Q,pluginMasterMailPopup:S,pluginPopupTips:T,pluginAccountRelateTips:U,pluginMobileTips:V,multiPluginPanel:_,pluginReaderInit:X,pluginMusicInit:$,pluginLofterInit:W,pluginPinInit:Y,pluginYixinInit:ab,pluginMailMasterPhotoUploaderInit:bb,pluginSpecialEffect:M,pluginMailboxPromote:N,pluginVipMsgCenterInit:Z,addCrossListener:cb,getMarkedContacts:db,getNotaryStatus:eb,format:fb,decomposeArray:gb,decomposeFunction:hb,getFlashHtml:ib,changeTheme:jb,hideMobileNumber:kb,_styleSheets:[],_guideDots:[],_initialize:lb,_initUserData:mb,_initAd:nb,_initTopNav:ob,_initSearch:pb,_getHash:k,_fGenericAccountMenu:l,_fCorpAccountMenu:m})}($,window),function(a,b){function c(){for(var b in this.conf){var c=e.conf[b];try{c.autoLoad&&(c.timeout?setTimeout(a.Function.bind(this.load,this,b),c.timeout||0):this.load(b))}catch(d){}}}function d(c){var d=e.conf[c],f=d.domain,g=!1,h=$S("labConf"),i=$S("domain"),j=a.Ud;if(d.labid&&(!h||h&&!h[d.labid]))return this[c]=!1,void 0;if(f&&a.Array.has(f,i)||!f||f&&$S("isFree")&&a.Array.has(f,"free")||f&&$S("isCorp")&&a.Array.has(f,"corp")||f&&$S("isVip")&&a.Array.has(f,"vip")){g=!0;var k=d.udconfig;if(k){var l=k.split("|");g=1==j.get({field:l[0],flag:l[1]})?!0:!1}if(d.condition&&(g=d.condition()),g){g=d.autoLoad;var m=d.resource;if(m)for(var n=0;n<m.length;n++){var o=m[n],p=o.substr(o.lastIndexOf(".")+1);p="js"==p?"script":p,a.Ajax.request({requestType:a.Ajax[p.toUpperCase()],url:o}),"css"==p&&b.setTimeout(a.Function.bind(function(b,c){a.Ajax.request({requestType:a.Ajax[c.toUpperCase()],url:b,window:top})},this,o,p),500)}}}g&&a.Object.isFunction(d.autoLoad)&&d.autoLoad();var q=a("#"+c+"_entry");q&&(g?q.show():q.hide()),this[c]=g}var e=a.createClass($N("init.Ext"));a.Object.extend(e,{init:c,load:d,conf:$G.get("extConf")})}($,window),function(a){function b(b){var c="@"+b.product,d=b.fid,e=b.cancel,f=a.Uri.getUrl("setadvlock"),g=a.Context.getModule()||{},h="";d?(h="top.$.JS.go(top.$.JS.find('"+g.name+"'))",a.JS.cleanCache(g.name)):"@nf"==c&&(h='top.$E("support.FileCenter",function(FileCenter){FileCenter.entry("nf_center")}'),f+="&goback="+encodeURIComponent(h),f+="&to"+(e?"un":"")+"lock="+(d?d:c),$E("interface.OutlinkInterface",function(a){a.goOutlink({url:f,title:"安全锁设置"})})}function c(){var a=$S("attrs").user.def_sec_folder,b={};if(a){"true"==$G.user.authenticated2&&(b.authenticated2=!0),b.disabled=-1==a.indexOf("disabled=0");for(var c=a.split("&"),d=c[c.length-1].replace("target=","").split(","),e=0;e<d.length;e++)d[e].indexOf("@")>-1?b[d[e].substr(1)]=!0:(b[d[e]]=!0,b.folders=!0)}else b.disabled=!0;$S("advLock",b)}function d(b){function c(){var b=a.JS.displayModule;b&&(b._var.notFireClick=!0,b.container?a.MultiTab.add(b._var):"outlink.OutlinkModule"===b.mtype&&$E("interface.OutlinkInterface",function(a){a.goOutlink(b._var.param)}),b._viewType&&a.Frame.setViewType(b._viewType,b),a.Nav.getModule(b))}if($S("advLock").authenticated2||$S("advLock").disabled)b&&b();else{var d,e=a.Msgbox.show({header:"安全锁密码验证",content:'<p class="nui-item-spc1x nui-txt-s14">该范围已经设置了加锁保护，解锁需密码验证。</p>',type:"prompt",inputLabel:"请输入加锁密码",inputType:"password",inputWidth:"120px",ok:function(a,c){if($S("unlocking"))return"正在验证密码，请稍后";if(""===a)return"密码不能为空";var d=new($I("core.DataAction"));return d.wmsvr({func:"user:authenticate2",body:{password:a},call:function(){if(e.destroy(),f.unlock(),b)try{b()}catch(a){}$S("unlocking",!1)},error:function(a){"FA_UNAUTHORIZED"==a.code&&c("密码错误，请再次输入密码"),$S("unlocking",!1)}}),$S("unlocking",!0),!0},cancel:function(){c()},close:function(){c()}}),g=e.find("input")[0];d=$S("isCorp")?e.add({html:"<div>如忘记密码，请联系企业邮箱管理员。</div>"}):e.add({xtype:"link",text:"忘记密码",click:function(){e.close(),$E("interface.OutlinkInterface",function(a){a.goOutlink({key:"resetadvlock",title:"安全锁",showDefTree:!0})})}}),d.render(g,"after")}}function e(){$S("advLock").authenticated2=!0,a.Nav.show()}var f=a.createClass($N("init.AdvLock"));a.Object.extend(f,{setProduct:b,init:c,show:d,unlock:e})}($,window),function(){function a(a){var b=this,c=b.config;b.config=a||$G.get("navConf");var d=b.config;c!=d&&$.Listener.fire("global:navchange",d==$G.get("navConf")?"def":""),N.createNavTop(b.config.top),window.timer={},window.timer.t1=(new Date).valueOf(),N.tree&&N.tree.hide(),b.config&&b.config.treeItem?(N.tree=b.config.treeItem,N.cptItems=b.config.cptItems||{},N.tree.show(),N.show()):N.createNav(!0),setTimeout(function(){N.createExtraPromo()},200),window.timer.t1=(new Date).valueOf()-window.timer.t1}function b(){N.tree?N.update():N.createNav(),$.Support.displayTitle()}function c(a){var b=this;b.tree&&(a?N.tree.hide():N.tree.destroy());var c=b.getData();N.cptItems={},N.createTree(c),b.config.treeItem=b.tree,b.config.cptItems=b.cptItems,$.Context.navAdded&&delete $.Context.navAdded}function d(a){for(var b=N.getCustomObj(),c=N.initDataSource(a),d=0;d<c.length;d++)c[d]=N.initItemData(c[d],b);return N.config.tree=c,N.config}function e(a){var b;try{b=$.Ext.tag||$G.get("extConf").tag.autoLoad&&(!$G.get("extConf").tag.domain||$.Array.has($G.get("extConf").tag.domain,$G.environment.domain))}catch(c){b=!1}var d=a||N.config.tree;if(!b){var e=$.Array.indexOf(d,function(a){return"tag"===a.name});e>-1&&d.splice(e,1)}return d}function f(a,b){var c=a;b=b||N.getCustomObj(),c.getData&&(c.items=c.getData()),c.getCustom&&(c.custom=c.getCustom(b));var d=[],e=c.custom||[],f=c.items,g=c.defaultDisplay,h=c.getCount,i=c.name;if(e)for(var j=0;j<e.length;j++)e[j].index=j;for(var k=0,l=0;l<f.length;l++){var m=f[l];if(m){var n=m.id,o={};$.Object.extend(o,m),o.index=100;var p=N.findCustomObj(e,n);if(p)o.index=p.index,o.display=p[1];else if(m.ud)try{o.display=$.Array.has("defaultEnable"in m.ud?m.ud.defaultEnable:[1],O.get(m.ud)-0)?1:0}catch(q){o.display=1}else g&&(o.display=g(n,c.customed));o.text=o.text||o.name,o.title=c.displayTitle&&c.displayTitle(n,o)||o.text,o.group=i,h&&(o.count=h(n,function(a,b){return function(c){var d=N.getTreeItem(a,b);d.updateCount(c||0)}}(i,n))),d.push(o);var r=N.getShowStatus(o);c.fixDisplay&&(r=c.fixDisplay(n,r)),r&&k++}}return c.displayCount=k,c.sort&&e.length>0&&c.sort(d),c.data=d,0===d.length&&c.getEmptyContent&&(d.push(c.getEmptyContent()),c.emptyData=d,c.data=[]),c}function g(a){for(var b={isRoot:!0,renderTo:"dvNavTree",items:[],boldCount:a.boldCount,batchDom:!0,onDestroy:function(){delete N.tree},isNav:!0},c=a.tree,d=0,e=c.length;e>d;d++){var f=N.getNavItemConfig(c[d]);if(f){var g,h=[];if(f[0]&&f[0].insertAfter&&(h=f.splice(0,1),g=h[0].insertAfter()),h&&h.length>0){var i=$.Array.indexOf(b.items,function(a){return a.group===g||a.data&&a.data.id===g?!0:void 0});i>-1&&b.items.splice(i+1,0,h[0])}f&&f.length>0&&(b.items=b.items.concat(f))}}window.timer.t2=(new Date).valueOf(),window.oTreeRootConf=b,N.tree=new($I("component.Tree"))(b),window.timer.t2=(new Date).valueOf()-window.timer.t2}function h(a){var b=a;if(!b.disabled){var c=[],d=b.name,e=b.titleUd,f=b.onclick,g=b.showInRoot,h=b.data,j=null;if(!g){var k=e?"1"==O.get(e):!0;b.revTitleFold&&(k=e?"0"==O.get(e):!0),"isFold"in b&&(k=b.isFold),j={xtype:"tree",extcls:b.extcls||"",text:b.text,noEncode:!0,isFold:k,items:[],group:d,insertAfter:b.insertAfter,listeners:{fold:$.Function.bind(function(a){i(a.titleUd,a.revTitleFold?"0":"1"),a.isFold=!0,N.chageGroupIcon(a,a.isFold);var b={};b["LeftNavFoldFolder"+a.name+"Click"]=1,$.Log.cache(b)},this,b),unfold:$.Function.bind(function(a){i(a.titleUd,a.revTitleFold?"1":"0"),a.isFold=!1,N.chageGroupIcon(a,a.isFold);var b=N.delayTruncItems[a.name];b&&($.Object.each(b,function(a,b){b.ownerCt&&b.ownerCt.rawConfig.limitWidth,N.truncateTitle(b.getEl())}),delete N.delayTruncItems[a.name]);var c={};c["LeftNavFoldFolder"+a.name+"Click"]=1,$.Log.cache(c)},this,b)},onRender:function(a){return function(){a.cpt=this}}(b),onDestroy:$.Function.bind(function(){delete b.cpt},this,b)},h&&0===h.length&&b.clickTitleCaseEmpty&&!b.getEmptyContent&&(delete j.items,delete j.listeners,j.click=$.Function.bind(function(a){a.clickTitleCaseEmpty.call(a)},this,b)),b.groupExtIcon&&(j.extIcon=b.groupExtIcon()),b.limitWidth&&(j.limitWidth=b.limitWidth),b.useGroupIcon&&(j.hideArr=!0),N.getTreeExtLnk(j),j.handleContextMenu=N.setContextMenu,c.push(j)}for(var l=0;l<h.length;l++){var m=h[l],n=m.id,o=N.createTreeItemConf(d,m,n,f);"folder"!=m.group&&"cusfolder"!=m.group||2!=n||(o.boldCount=!1),j?j.items.push(o):c.push(o),j&&m.count&&!o.hidden&&(!m.group||"folder"!=m.group&&"cusfolder"!=m.group||!$G.common.nolistids||!$.Array.has($G.common.nolistids,m.id)&&2!=m.id)&&(j.count=(j.count||0)+(m.count-0))}if(0===h.length&&a.emptyData)for(var l=0;l<a.emptyData.length;l++){var p=a.emptyData[l];p.display=1;var q=N.createTreeItemConf(d,p,p.id,f);j&&j.items&&j.items.push(q)}return j&&(b.updateData=$.Function.bind(function(a,b,c,d){for(var e=this.items,f=0;f<e.length;f++)if(e[f].data&&e[f].data.id==c){e[f]=N.createTreeItemConf(a,d.data||e[f].data,c,b.onclick),"folder"!=a&&"cusfolder"!=a||2!=c||(e[f].boldCount=!1),$.Object.extend(e[f],d);break}},j,d,b)),b.overSplit&&c.push({xtype:"tree",split:!0}),c}}function i(a,b){if($.Event.getEvent()&&a){var c={};$.Object.extend(c,a),c.value=b,O.set(c)}}function j(){var a=N.getData().tree,b=(new Date).valueOf();if(N.tree){for(var c=0;c<a.length;c++){for(var d=a[c],e=d.name,f=d.data,g=[],h=0,i=0;i<f.length;i++)try{var j=f[i],k=j.id;j.display;var l=j.count,m=N.getTreeItem(e,k),n=N.getShowStatus(j);if(d.fixDisplay&&(n=d.fixDisplay(k,n)),n&&(!j.group||"folder"!=e&&"cusfolder"!=e||!$G.common.nolistids||!$.Array.has($G.common.nolistids,j.id)&&2!=j.id&&"defer"!==j.id)&&(h+=(l||0)-0),m){var o={};m._version=b;var p=m.rawConfig.data;if(m.rawConfig.data=j,"service"==e&&p.index!=j.index&&g.push(p.index),p.text!=j.text&&(m.rawConfig.text=m.rawConfig.title=j.text,m.update({text:j.text})),p.extcls!=j.extcls&&(m.rawConfig.extcls=j.extcls,m.update({extcls:j.extcls})),p.count!=j.count&&(m.updateCount(j.count||0),"defer"===k)){var q={text:j.text},r=N.getItem("name","folder");r.getExtIcon&&(q.extIcon=r.getExtIcon(k)),m.update(q)}var s=N.getShowStatus(p);if(d.fixDisplay&&(s=d.fixDisplay(k,s)),!n&&s&&m.hide(),n&&!s&&(N.setContextMenu(m.rawConfig),o=o||{},$.Object.extend(o,{context:m.rawConfig.context}),m.update(o),m.rawConfig.hidden=!1,m.show()),"color"in j&&j.color!=p.color){var t=d.getIcon;if(t){var u=t(j);o=o||{},$.Object.extend(o,{icons:u}),m.update(o)}}var v=m.rawConfig.lockIcon,w=N.checkLock(j);!!v!=!!w&&(o=o||{},$.Object.extend(o,{lockIcon:w}),m.update(o));var x=d.getItemExtLnk;if(x){var y=x(j),z=m.rawConfig.extItems;(y&&!z||!y&&z||y.length!==z.length||y[0].subtype!==z[0].subtype||y[0].title!==z[0].title)&&(o=o||{},$.Object.extend(o,{extItems:y}),m.update(o))}if(m.rawConfig.items){var A=m.find("tree");if(A)for(var B=0;B<A.length;B++)A[B]._version=b}}else{if($.Context.navAdded)return N.createNav(),void 0;if("cusfolder"==e||"tag"==e||"pop"==e||"contactMail"===e){var n=N.getShowStatus(j);d.fixDisplay&&(n=d.fixDisplay(k,n)),d.updateData(k,{hidden:!n,data:j,count:j.count})}}}catch(C){}if(g.length>0){for(var D=N.tree.find("$group$"+e)[0],E=[],F=d.onclick,c=0;c<f.length;c++){var j=f[c],k=j.id,G=N.createTreeItemConf(e,j,k,F);E.push(G)}D.update({items:E})}d.cpt&&d.cpt.updateCount(h)}for(var H=N.tree.find("tree"),I=!1,c=H.length-1;c>-1;c--){var J=H[c];if(J._version!=b&&!J.rawConfig.items&&J.rawConfig.data){if("tag"==J.rawConfig.data.group)return N.createNav(),void 0;J.destroy(),I=!0}}}}function k(a){function b(a){var b=N.config.tree,c=$.Array.indexOf(b,function(b){return b.name===a}),d=b[c];if(d){d=N.initItemData(d),d.disabled=!1;var e=N.getNavItemConfig(d);if(e){var f=e[0];if(d.cpt){var g=d.cpt;if(!g._itemContainer)return window.setTimeout(function(){N.addItem(a)},50),void 0;if(f.items){if(g.rawConfig.listeners&&(g.rawConfig.listeners.mouseover&&(f.listeners.mouseover=g.rawConfig.listeners.mouseover),g.rawConfig.listeners.mouseout&&(f.listeners.mouseout=g.rawConfig.listeners.mouseout)),!g.itemsIsCreated&&g.rawConfig.isFold){var h=f.listeners.unfold;f.listeners.unfold=function(){var a=this;if(!a.itemsIsCreated){var b=this.rawConfig.items;$.Array.each(b,function(b,c){a.add(c)}),a.itemsIsCreated=!0,a.updateAllCount()}h&&h.call(this)}}g.itemsIsCreated?(g.rawConfig.items&&$(g._itemContainer).empty(),$.Array.each(f.items,function(a,b){g.add(b)})):g.update(f)}else delete g.rawConfig.items,g.update(f),g.updateCount()}}}}var c=this;c._addItemLocked||(c._addItemLocked=!0,$.Thread.run(function(){b(a),c._addItemLocked=!1}))}function l(a){a&&!$.Object.isEmpty(a)?(N.navTop=new $.Component(a),$.fly("#dvNavTop").empty(),$.fly("#dvNavTop").html('<div class="qd0"><div class="jz0"></div></div>'),N.navTop.render("dvNavTop"),$.fly("#dvNavTop").show(),$.fly("#dvNavTree").dom.style.top=N.config==$G.get("navConf")?"":$.fly("#dvNavTop").dom.offsetHeight+"px"):($.fly("#dvNavTop").hide(),$.fly("#dvNavTree").dom.style.top="12px")}function m(a,b,c,d){var e=!N.getShowStatus(b),f=N.getItem("name",a||b.group);f.fixDisplay&&(e=f.fixDisplay(c,e));var g={xtype:b.xtype||"tree",text:b.text,title:b.title||b.text,extcls:b.extcls,titleStyle:b.titleStyle,count:b.count,hidden:e,noEncode:b.noEncode,html:b.html,data:b,boldCount:this.config.boldCount,click:function(){"网易微博"==this.rawConfig.text&&this.updateCount(0);try{var e="cusfolder"==a?"folder":a,f=c-0;f="folder"==e&&f>19?20:f,("tag"==a||"mailcenter"==a||"pop"==a)&&(f=20),"defer"===c&&(f=c),"contactMail"===a&&(f="");var g={};g["LeftNav"+e+f+"Click"]=1,$.Log.cache(g)}catch(h){}return b.click&&b.click(),d.call(b,c)}};if(N.getTreeExtLnk(g),N.getAdvLock(g),N.getIcon(g),N.getExtIcon(g),N.getExtContent(g),g.handleContextMenu=N.setContextMenu,g.onRender=g.onUpdate=function(){if(N.cptItems[a+":"+c]=this.id,"网易微博"==this.rawConfig.text&&this.updateCount($S("buzzCount")),f.onRender&&f.onRender.apply(this,[this,c]),c-0>19||"tag"===a)if(this.ownerCt.rawConfig.isFold){var b=N.delayTruncItems[a]||{};b[this.id]=this,N.delayTruncItems[a]=b}else{var d=this.ownerCt&&this.ownerCt.rawConfig.limitWidth;N.truncateTitle(this.getEl(),d)}},b.items){g.items=[];for(var h=0;h<b.items.length;h++){var i=b.items[h];g.items.push({xtype:"tree",text:i.text,data:i,click:$.Function.bind(function(a){return $.Event.cancelBubble(),d.call(a)},this,i)})}g.onRender=function(){this.onClick(),this.getEl().listen("click",function(){return d.call(b,c)})}}return g}function n(a){var b,c=a.group,d=a.data,e=this.getItem("name",c||d.group);if(c){var f=e.getTitleExtLnk;f&&(b=f(d))}else if(d&&e){var g=e.getItemExtLnk;g&&(b=g(d))}b&&(a.extItems=$.Object.clone(b))}function o(a){var b=a.data,c=N.checkLock(b);a.lockIcon=c}function p(a){var b,c,d=a.id,e=a.lockid||d,f=$S("advLock");return $.Loader&&f?(b=f.authenticated2,c=f[e]):(b="true"==$G.user.authenticated2,c=new RegExp("[,=@]"+e+"(,|$)").test($G.attrs.user.def_sec_folder)),!b&&c}function q(a){var b=a.data,c=b.group,d=b.id,e=this.getItem("name",c),f=e&&e.getExtIcon;f&&(a.extIcon=f(d));var g=e&&e.getExtIcon2;g&&(a.extIcon2=g(d))}function r(a){var b=a.data,c=b.group,d=this.getItem("name",c),e=d&&d.getIcon;e&&(a.icons=e(b))}function s(a){var b=a.data,c=b.group,d=this.getItem("name",c),e=d&&d.getExtContent;if(e){var f=e(b.id);f&&(a.listeners={render:function(){for(var a=0;a<f.length;a++)this.add(f[a]).render(this)}})}}function t(a){var b,c=a.group,d=a.data,e=N.getItem("name",c||d.group);if(c){var f=e.getTitleContextMenu;f&&(b=f())}else{var g=e.getContextMenu;g&&(b=g(d),b&&(b=b.slice(0),$.Array.has(["folder","cusfolder"],d.group)&&e.enableSetDisplay(d.id)&&(N.getShowStatus(d)?b.push("hide"):b.push("show"))))}if(b){for(var h=[],i=0;i<b.length;i++){var j=$G.get("contextMenu").operate[b[i]],k=j.text,l=j.click,m=j.getItems;"hide"==b[i]&&"folder"==c&&(k="折叠");var n={text:k};l&&(n.click=$.Function.bind(l,this,(d||{}).id,c||d.group)),m&&(n.menu={groups:[{items:m(c||d.group)}],width:100}),h.push(n)}return a.context=h,h}}function u(a,b,c){$E("interface."+a,function(a){c=c||"entry",a&&a[c](b)})}function v(a){if(a=a||$.Context.getModule()){var b=a._var;b.module;for(var c,d=N.config.tree,e=0;e<d.length;e++){var f=d[e].focus;if(f){var g=f(a);if("undefined"!=typeof g){var h=$.Array.findObject(d[e].data,"id",g);if(!h||(d[e].fixDisplay?!d[e].fixDisplay(h.id,N.getShowStatus(h)):!N.getShowStatus(h)))continue;var i=d[e].name;c=N.getTreeItem(i,g);break}}}if(c)c.focus();else{var j=N.tree.focusItem;j&&j.blur()}}}function w(a,b){var c;return c=2==arguments.length?a+":"+b:a,N.cptItems[c]}function x(a,b){return $C(N.getTreeId(a,b)||"none")}function y(){}function z(a){return 1==a.display||2==a.display&&a.count}function A(a){function b(a){var b;try{b=$L("support.Tag")}catch(c){return c}a.key;var d="tag";a.call||arguments[1];var e=a.disabled||a.del||arguments[2],f=a.setDefault,g=e?0:1;if(f){var h=$.Array.findObject($G.get("navConf").tree,"name",d),i=h.data||[];return i=$.Array.map(i,function(a,b){return b.id}),b.setShow(i,1),void 0}"tag"===d&&("display"in a&&(g=a.display),b.setShow([a.id],g),a.del&&N.show())}var c=a.key,d=a.group||"folder";if("tag"===d)return b(a),void 0;var e=a.call||arguments[1],f=a.disabled||a.del||arguments[2],g=a.setDefault,h=f?0:1;if(g)return O.set({field:"ntes_defined",value:"",call:function(){N.show(),e&&e()}}),b(a),void 0;"display"in a&&(h=a.display),f=1!=h;var i,j=$.Array.findObject($G.get("navConf").tree,"name",d);"id"in a?i=a.id:"undefined"!=typeof c&&(i=($.Array.findObject(j.data,"id",c)||$.Array.findObject(j.data,"name",c)).id);var k=N.getCustomObj();if(delete k.dock,delete k.tab,delete k.app,$.Object.isEmpty(k["pop"==d?"folder":d])){if(k.folder||(k.folder=[]),k.tag||(k.tag=[]),k.filecenter||(k.filecenter=[]),"folder"==d||"cusfolder"==d||"pop"==d)for(var l=$.Array.findObject($G.get("navConf").tree,"name","folder").data.concat($.Array.findObject($G.get("navConf").tree,"name","pop").data),m=0;m<l.length;m++){var n=l[m],o=n.id-0;i==o?k.folder.push([o,h]):k.folder.push([o,n.display])}else k[d].push([i-0,h]);var p=JSON.stringify(k);O.set({field:"ntes_defined",value:p,call:function(){N.show(),e&&e()}})}else{var q=k[d];"pop"==d&&(q=k.folder);var r=N.findCustomObj(q,i);r?r[1]=h:q.push([i-0,h]);var p=JSON.stringify(k);O.set({field:"ntes_defined",value:p,call:function(){N.show(),e&&e()}})}}function B(a){var b=$.Component.find("#"+a);if(b&&"cusfolder"==b.rawConfig.group&&(b.fire("unfold"),b.unfold(),b.rawConfig.isFold=!1),b){var c=b.rawConfig.data,d=c&&c.group;if("folder"==d||"cusfolder"==d)return b.rawConfig.data.id}}function C(a,b){var c=a+":"+b,d=N.treeItemsDataCache[c];return d||(N.treeItemsDataCache[c]=d=$.Array.findObject(N.config.tree,a,b)),d}function D(){for(var a={},b=["ntes_defined"],c=0;c<b.length;c++){var d=b[c],e=$G.attrs.user[d]||"";-1===e.indexOf("{")&&(e="");var f;try{f=$.Eval.get(e||"{}")}catch(g){f={}}$.Object.extend(a,f)}return a}function E(a,b){for(var c=0;c<a.length;c++)if(b==a[c][0])return a[c]}function F(a,b){try{var c=$.Array.findObject($G.get("navConf").tree,"name",a),d=$.Array.findObject(c.data,"id",b).display;return("folder"==a||"cusfolder"==a)&&2==b&&2==d&&(d=0),d}catch(e){}}function G(a,b,c,d){function e(a,b,c,d){N.setServiceEnable({id:c.id,call:d,group:b,display:a})}try{var f=$.Array.findObject($G.get("navConf").tree,"name",a),g=$.Array.findObject(f.data,"id",b);e(c,a,g,d)}catch(h){}}function H(a){try{var b=$.Array.findObject($G.get("navConf").tree,"name",a);return b.data}catch(c){}}function I(a,b){function c(){for(var b=a.dom.firstChild.childNodes,c=0,d=0;d<b.length;d++)c+=b[d].offsetWidth||0;return c}b=b||125,setTimeout(function(){try{var d=!1,e=a.find(".nui-tree-item-text");if(!e)return;for(var f=50,g=2,h=e.html();c()>b&&f>0&&h.length>5;)h=e.html(),h=$.String.decodeHTML(h),h=h.substring(0,h.length-g),h=$.String.encodeHTML(h),e.html(h),f--,d=!0;d&&e.html(e.dom.innerHTML+"..")}catch(i){}},0)}function J(a,b){if(a.groupFoldCls&&a.cpt){var c,d=a.groupFoldCls,e=b?"fold":"unfold",f=b?"unfold":"fold";c=a.cpt.el.find("."+d[f]),c&&(c.removeClass(d[f]),c.addClass(d[e]))}}function K(){function a(){try{if("ud"===$S("ad").userType)return;if(d.tree.__extraPromoAdded__)return;var a=window.gAd.get("leftNavBottom"),c=$.Link.html({title:"去广告",text:'<b class="Cw0 nui-ico nui-ico-close-noHover"></b><b class="Db0"></b>',extcls:"ym1",click:function(){b.showProduct("noAd")}}),e=$I("util.Misc").getTime();e>new Date(2016,6,20).valueOf()&&e<new Date(2016,7,4).valueOf()&&(c="");var f=$.Component.html({html:'<li class="nui-tree-item En0" role="complementary">'+c+a+"</li>",listeners:{mouseover:{handler:function(){var a=$(this);a&&$.Event.isMouseover(a.dom)&&a.addClass("AM1")}},mouseout:{handler:function(){var a=$(this);a&&$.Event.isMouseout(a.dom)&&a.removeClass("AM1")}}}});d.tree.el.append(f),d.tree.__extraPromoAdded__=!0}catch(g){}}try{var b=$L("product.Privileges",this)}catch(c){return c}var d=this;window.gAd.ready.leftNavBottom?a():$.Listener.listen("ad:dataChange",function(b){"leftNavBottom"===b&&a()})}function L(a,b,c,d){var e=this,f=e.getTreeItem(a,b);if(f){var g=(f.find("$type$"+c)||[])[0];g&&(d?g.show():g.hide())}}function M(a){var b=this;try{a&&(b.tree.curFocusItem=b.tree.children()[0]);var c=b.tree.curFocusItem;c?c.find("$treeType$treeitem")[0].getDom().focus():b.tree.children()[0].find("$treeType$treeitem")[0].getDom().focus()}catch(d){}}var N=$.createClass($N("init.Nav")),O=$.Ud;$.Object.extend(N,{init:a,createNav:c,show:b,initDataSource:e,initItemData:f,getData:d,createTree:g,createTreeItemConf:m,getNavItemConfig:h,setTitleUd:i,addItem:k,getTreeExtLnk:n,getAdvLock:o,getExtIcon:q,getIcon:r,getExtContent:s,setContextMenu:t,getTreeId:w,getTreeItem:x,checkLock:p,update:j,entry:u,getModule:v,setReceiveIcon:y,setServiceEnable:A,getShowStatus:z,createNavTop:l,createExtraPromo:K,getFid:B,getItem:C,getCustomObj:D,findCustomObj:E,tree:null,receiveClass:"ico ico-btn ico-btn-receive",receivingClass:"ico ico-btn ico-btn-receiving",redFolderText:$.LETTERFLAG[1]+"邮件",redFolderId:"-2",truncateTitle:I,chageGroupIcon:J,changeExtraIcon:L,custom:{getStatus:F,setStatus:G,getData:H},focus:M,delayTruncItems:{},treeItemsDataCache:{},cptItems:{}})}(),function(a,b){function c(c){function d(){var b={width:200,extcls:"nH0",groups:[{items:[{xtype:"menuitem",text:"关闭全部",icon:"closeAll",click:function(){e.closeAll(),a.Log.cache({MultiTabMenuCloseAll:1})}},{xtype:"menuitem",text:'<b class="nui-txt-impt">管理默认标签</b>',click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"custom.AppManagerModule"})}),a.Log.cache({MultiTabMenuManager:1})}}]}],listeners:{show:function(){a.Log.cache({MultiTabMenuShow:1})}}},c=[];b.groups.push({items:c,type:"scroll",checkType:"radio"});for(var d=e._tab.getEl().find("LI").doms,f=[],g=0;g<d.length;g++)f.push(a.Component.find("#"+d[g].id));for(var h,i=!1,j=3==a.Ud.get({field:"ntes_option",flag:"useTab"}),g=0,k=f.length;k>g;g++)if(h=f[g],h!=e.moreItem){var l=h.rawConfig.nonClose,m={xtype:"menuitem",text:a.String.left(h.rawConfig.text.replace(/<b.+?\/b>/,""),20,!0),title:h.rawConfig.text,click:a.Function.bind(function(){this.active(),a.Log.cache({MultiTabMenuActive:this.rawConfig.tabid})},h),close:l?"":a.Function.bind(function(){e._tab.remove(this.id),$S("moreTabMenu")&&$S("moreTabMenu").hide(),a.Log.cache({MultiTabMenuClose:this.rawConfig.tabid})},h),closeTitle:"点击关闭标签"};if(l||i||j||(m.split="before",i=!0),h.isActive()&&(m.checked=!0),j&&!l)continue;c.push(m)}return b}var e=this;e.defaultTabQuantity=a.Browser.isIE("7")?3:8,$S("isCorp")&&(e.useQuantityCtrl=!1),this.groups={};var f={extcls:"tz0",renderTo:"dvMultiTab",items:[],listeners:{close:function(b,c){function d(){$E("interface.OptionInterface",function(a){a.entry({module:"custom.AppManagerModule"})}),a.Log.cache({MultiTabClosePromoteTabClick:1})}function f(){}var g=e.items[b],h=g.isPromoteTab&&(!g.promoteConfig||!g.promoteConfig.hiddenCloseMsg);return e._isShowPromoteTabTips()&&h&&!g.aSyncDelete&&(a.Msgbox.show({title:"是否永久关闭“"+g.text+"”默认标签",type:"confirm",okText:"立即设置",cancelText:"取消",ok:d,cancel:f,close:f}),e._hidePromoteTabTips()),t.onRemove(b,c)},afterclose:function(){e.getCloseAll(),e.setUglyStyle()}},hasClose:!0};this._tab=new($I("component.Tab"))(f),a("#dvMultiTabWrapper").after('<div class="sJ0"></div>'),e._tabAppsList=c?a.AppManager.getTabAppsList({firstInit:!0}):a.AppManager.getTabAppsList();for(var g=0;g<e._tabAppsList.length;g++){var h=e._tabAppsList[g];h.display-0,a.AppManager.shouldTabAppShow(h)&&(h.fromInit=!0,h.nonClose=!0,h.isPromoteTab&&(h.nonClose=!1),h.log={deftabclick:h.tabid},h.tabid&&(e.tabs[h.tabid]=e.add(h,!h.def||$S("showHashPage"))))}e.constructor.appcenterInitListened||(s.listen("appcenter:init",function(){for(var b,c=a.AppManager.getTabAppsList(),d=0;d<c.length;d++){var f=e.tabs[c[d].id];c[d].display-0;var g=c[d];if(f&&a.AppManager.shouldTabAppShow(g)&&(b=f),!f&&a.AppManager.shouldTabAppShow(g)){e._tabAppsList.push(c[d]),c[d].nonClose=!0;var h=e.tabs[c[d].id]=e.add(c[d],!0);b&&b.getEl().after(h.getDom()),b=f}}}),e.constructor.appcenterInitListened=!0),e.moreItem=this._tab.add({xtype:"tabitem",title:"点击查看更多",extcls:"tA0 rC0",nonClose:!0,special:!0,border:!0,text:"",items:[{xtype:"icon",type:"dArr",extcls:"fn-bg"}]}),a.Event.unlistenAll(e.moreItem.getDom(),"mousedown"),a.Event.unlistenAll(e.moreItem.getDom(),"mouseup"),e.moreMenu=j,e.moreMenu&&e.moreMenu.destroy();
var i=d(),j=new a.Menu(i);$S("moreTabMenu",j),j.updateMenu=function(){var a=d();j.getDom()&&(a.hidden=!0),j.update(a),j.hide()},j.attachTo({clickFrom:e.moreItem.getEl(),reverse:!0}),e.moreItem.getEl().listen("click",function(){$S("moreTabMenu")&&$S("moreTabMenu").updateMenu()}),a.Event.listen(b,"resize",function(){e._tab.resize()}),e._tab.resize(),s.listen("tab:modify",function(b){if(b){var c=e.tabs[b];if(c){try{c.rawConfig["var"].aSyncDelete=!0}catch(d){}e._tab.remove(c.id),delete e.tabs[b]}}else for(var f,g=a.AppManager.getTabAppsList(),h=0;h<g.length;h++){var i=g[h],c=e.tabs[i.tabid];if(i.display-0,a.AppManager.shouldTabAppShow(i)){var j;c?j=c:(i.nonClose=!0,i.isPromoteTab&&(i.nonClose=!1),a.Array.each(e._tabAppsList,function(b,c){if(c.module==i.module&&a.Object.isEqual(c.param||{},i.param||{})){var d=c.id;return e._tab.exist(d)&&e._tab.remove(d),a.BREAK}}),j=e.add(i,!0),e.tabs[i.tabid]=j),f&&f.getEl().after(j.getDom()),f=j}else c&&(e._tab.remove(c.id),delete e.tabs[i.tabid])}}),s.listen("tab:reset",function(){var b=a.AppManager.getTabAppsList();for(var c in e.tabs){var d=a.Array.findObject(b,"tabid",c);d.display-0,d&&a.AppManager.shouldTabAppShow(d)||(e._tab.remove(e.tabs[c].id),delete e.tabs[c])}s.fire("tab:modify")})}function d(a){for(var b=this._tab.find("tabitem"),c=b.length-1;c>-1;c--)b[c]==this.moreItem||0===c||b[c].rawConfig.nonClose||(a?(b[c].show(),b[c].rawConfig.orgGroup&&(t.groups[b[c].rawConfig.orgGroup]=b[c])):b[c].hide())}function e(b,c){var d,e,f,g,h=this,i=b.module,j=b.param,k=b.mod||a.JS.get(i,j,b.useParam),l="",m="";if(k?(d=k.name,f=(k._tab||{}).id,l=k.getText?k.getText(function(b){e&&(k&&"compose.ComposeModule"==k.mtype?(b=a.Icon.html({type:"compose"})+a.String.encodeHTML(b),e.title(b,!0)):e.title(b))}):k.text||""):l=b.text||"",k&&"compose.ComposeModule"==k.mtype?(m=l,l=a.Icon.html({type:"compose"})+a.String.encodeHTML(l)):k&&l&&(l=a.String.encodeHTML(l)),!f)for(var n=0,o=h._tabAppsList.length;o>n;n++)if(h._tabAppsList[n].module==i&&a.Object.isEqual(h._tabAppsList[n].param||{},j||{})){g=h._tabAppsList[n];break}if(k)for(var n=0,o=h._tabAppsList.length;o>n;n++)if(h._tabAppsList[n].active&&h._tabAppsList[n].active(k)){g=h._tabAppsList[n];break}if(g&&(f=g.id,i=g.module,j=g.param),!f||!this._tab.exist(f)){var p=b.group||k&&(k.getGroup?k.getGroup():k.name),q=3==a.Ud.get({field:"ntes_option",flag:"useTab"}),r=t.groups[p],s={text:l,"var":b,xtype:"tabitem",extcls:b.nonClose?"tA0 oZ0":"tA0",active:!c,nonClose:b.nonClose,notFireClick:b.notFireClick,title:m||l,border:!0,tabid:b.tabid};r&&(s.extcls=r.rawConfig.extcls,s.nonClose=r.rawConfig.nonClose),c||!q||s.nonClose||(k&&"options"==p||(s.orgGroup=p,p="_noGroup"),s.hidden=!0),r||c||!q||(r=t.groups[p]),"outlink.OutlinkModule"==b.module&&(b.useParam={key:!0,url:!0,cross:!0}),s.click=function(){var c=this;b.entry&&"outlink.OutlinkModule"==b.module&&(b.useParam||(b.useParam={key:!0,url:!0,cross:!0}),b.param.url||a.JS.each(function(c,d){return d._var.param&&b.param&&d._var.param.key==b.param.key?(a.Object.extend(b.param,d._var.param),a.BREAK):void 0})),b.entry&&!a.JS.get(b.module,b.param,b.useParam)?b.entry():h.switchMultiTab(b,function(){}),a.Log.cache({deftabclick:b.tabid||c.rawConfig.tabid}),(b.tabid&&-1===(b.tabid+"").indexOf("t")||"t2"===b.tabid)&&a.Thread.delay(function(){a.Log.record("appCenter",{AppCenter_Entry_Mail_Tab:b.tabid})})},s.onRender=b.onRender,s.fromInit=!0,e=h._tab.add(s),h.moreItem&&e.render(h.moreItem,"before"),g&&(g.id=e.id),c||(b.fromInit?($S("showDefaultModule",!0),setTimeout(function(){e.active(b)},100)):e.active(b)),h.items[e.id]=b,h.moduleTabsMap[b.module]=h.moduleTabsMap[b.module]||[],h.moduleTabsMap[b.module].push(e.id),b.mod=k,k&&(k._tab=e),e.module=k;var u=function(){try{if(k&&t.useQuantityCtrl){var a=k.mtype;if("compose.ComposeModule"===a||"outlink.OutlinkModule"===a)return;var b=t.moduleTabsMap[a],c=t.quantityCtrl[a]||t.defaultTabQuantity,d=e.ownerCt.children();if(b.length>c||d.length>t.maxTabsCount){var f=b.shift(),g=t.items[f],h=t._tab.exist(f);if(g&&g.mod&&!r){var i=g.mod,j=h&&h.group||i&&(i.getGroup?i.getGroup():i.name);return r=t.groups[j],j}}}}catch(l){}};if(p=u()||p){if(r){var v=r.rawConfig.tabid;e.rawConfig.tabid=v,this._tab.replace(r,e),v&&h.tabs[v]&&(h.tabs[v]=e)}t.groups[p]=e,e.group=p,e.listen("destroy",function(){delete t.groups[p],k&&k._tab&&k._tab==e&&delete k._tab})}h._tab.resize(),h.setUglyStyle(),$S("moreTabMenu")&&$S("moreTabMenu").updateMenu();try{var w=[{text:"关闭当前窗口",click:function(){h._tab.remove(e.id),a.Log.cache({MultiTabContextCloseCurrent:1})}}];(b.nonClose||s.nonClose||"mbox.ListModule"==b.module)&&(w=[]),w=w.concat([{text:"关闭全部",click:function(){h.closeAll(),a.Log.cache({MultiTabContextCloseAll:1})}},{text:"关闭其它全部",click:function(){this.ownerCt&&this.ownerCt._relatedEventTarget&&(t.contextMenuObj=this.ownerCt._relatedEventTarget),h.closeAll(!0),a.Log.cache({MultiTabContextCloseOther:1})}},{text:"管理默认标签",click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"custom.AppManagerModule"})}),a.Log.cache({MultiTabContextManager:1})}}]),e.getEl().listen("contextmenu",function(b){a.Event.stop(b),$I("util.Contextmenu").show({groups:[{items:w}],width:120}),a.Log.cache({MultiTabContextShow:1})})}catch(x){}return e}h.items[f].mod=k,e=this._tab.exist(f),e&&(e.active(b),e.title(l,!0),k&&(k._tab=e))}function f(){var b=this,c="dvMultiTab",d="li",e=[],f=a("#"+c);f&&(e=f.find(d).doms,b.moreItem&&(e=e.slice(0,e.length-1))),a(e[0]).addClass("qv0"),a.Array.each(e,function(b,c){a(c).removeClass("rJ0")}),a(e[e.length-1]).addClass("rJ0")}function g(){var b=1,c=a.Ud.get({field:"ntes_read",flag:"promoteMultiTabClose"})-0;return b==c?!1:!0}function h(){var b=1;a.Ud.set({field:"ntes_read",flag:"promoteMultiTabClose",value:b})}function i(a){var b=a._tab;b&&b.ownerCt&&b.ownerCt.remove(b.id)}function j(b,c){var d=this;c=c||a.Context.module;var e=c._tab;d._tab.remove(e.id,!0),b&&b()}function k(b,c){var d=this,e=d.items[b];if(e){var f=e.module,g=e.param,h=e.mod||a.JS.get(f,g,e.useParam);h&&d.removeTab(c,h)}}function l(b,c){function d(){setTimeout(function(){$S("moreTabMenu")&&$S("moreTabMenu").updateMenu()},100),delete f.items[b]}function e(b){if(h._forwardParam)return h._forwardParam.exit=!0,h._forwardParam.cacheModule=h.cacheDom,h._forwardParam.fromTabClick=!0,a.JS.go(h._forwardParam),void 0;var b={module:b.module,param:b.param,exit:!0,cacheModule:h.cacheDom,call:function(){c&&(c(),d())},fromTabClick:!0,useParam:"outlink.OutlinkModule"==b.module?{key:!0,url:!0,cross:!0}:null};a.JS.go(b)}var f=this,g=f.items[b],h=g.mod;if(g&&g.isTempPromoteTab&&(a.AppManager.setTempPromoteTabClicked(g,1),g.display-0,a.Context.module&&"custom.AppManagerModule"===a.Context.module.mtype&&a.JS.refresh(a.Context.module)),!h)return d(),!0;var i,j=h.name,k=f._tab.history;if(j&&k.length>1){for(var l=k.length-1;l>-1&&k[l];){var m=f.items[k[l].id];if(i=m.mod,!i||i.name!=h.name)break;l--}if(!i)return h._forwardParam?(e(),!1):(d(),!0);if(a.JS.reqModule==h.name)e(i._var,!1);else{if(!i||!i._tab||h._cacheCleaned||"read.ReadModule"==h.mtype)return d(),!0;f.switchMultiTab(h._var,function(){e(i._var,!0)},!0)}}else e({module:a.Context.defaultModule},!0);return!1}function m(b){return a.Ext.useTab?b&&b._tab:!1}function n(){}function o(b){for(var c=this,d=this._tab.find("tabitem"),e=t.contextMenuObj,f=null,g=[],h=d.length;h--;){var i=d[h];i==this.moreItem||0===h||i.rawConfig.nonClose||(b&&e&&a.Element.inside(e,i.getDom())?f=i:g.push(i.id))}for(var h=d.length;h--;){var j=d[h].module;if(j&&(!f||f.module!==j))try{var k=j.exit(j._var,function(){c.closeAll(b)},null);if(!k)return}catch(l){}}f?f.active():a.JS.go({module:a.Context.defaultModule});for(var h=g.length;h--;)c._tab.remove(g[h],!0)}function p(){}function q(){}function r(b,c,d){var e={module:b.module,param:b.param,exit:!1,reset:!1,cacheDom:!0,cacheModule:!0,fromTabClick:!0};a.Object.extend(e,b,!0),d&&(e.record=!1),c&&(e.call=c),a.JS.go(e)}var s=$I("core.Listener"),t=a.createClass($N("init.MultiTab"));a.Object.extend(t,{closeAllCount:5,items:{},groups:{},tabs:{},useQuantityCtrl:!0,defaultTabQuantity:3,maxTabsCount:15,quantityCtrl:{},moduleTabsMap:{},init:c,add:e,onRemove:l,pre:p,next:q,exist:m,setEnable:d,closeAll:o,getCloseAll:n,switchMultiTab:r,remove:i,removeTab:j,removeTabById:k,setUglyStyle:f,_isShowPromoteTabTips:g,_hidePromoteTabTips:h,_tab:null,_tabAppsList:[],_lastTabItem:null,_x:[]})}($,window),function(a,b){function c(){var a=this;"standard"===$G.mailPattern.currentPattern&&p.listen("appcenter:init",function(){a.show(),a.dockIsHidden&&a.hiddenDock()})}function d(){}function e(){a.fly("#dvDock")&&a.fly("#dvDock").show(),this.dockIsHidden=!1}function f(){a.fly("#dvDock")&&a.fly("#dvDock").hide(),this.dockIsHidden=!0}function g(c,d){var e=(a.fly("#spnDockNew")||{}).dom,f=a.Array.findObject(b.gCustomConf[$S("domain")],"id",c),g=(a.Component.find("$title$邮箱应用")||[])[0];$S("weiboCount",d);var h=(a.Array.findObject(o.getDockAppsList(),"id",22)||{}).display;e&&h&&(e.innerHTML=d,e.style.display="",function(a){var c=0;if(!q&&!$S("SpnDockNew")&&!$G.isDebug){var d=b.setInterval(function(){c>=168&&(c=0),c+=24,a.style.backgroundPosition="0px -"+c+"px"},200);$S("SpnDockNew",d)}}(e)),g&&f.display&&(g.getEl().find(".nui-ico-redot")||g.getEl().append('<div class="nui-tabs-item-status"><b class="nui-ico nui-ico-redot"></b></div>'))}function h(a){a=a||{};var b=parseInt(a.replyCount||0,10)+parseInt(a.directCount||0,10)+parseInt(a.replyAtCount||0,10)+parseInt(a.atCount||0,10);b>0&&(s.showDot(22,b),$S("buzzCount",b))}function i(){function b(){function b(b){a.fly("#dvFullItems").hideChildren(),a.fly(a.fly("#dvFullItems").dom.childNodes[b]).show(),u.removeClass("eo0"),a.fly(u.doms[b]).addClass("eo0"),B=b}for(var d=0;d<j.length;d++){var f=j[d],g=f.text,h=f.name;if(f.display){var i,k,l,m="",n=$G.get("appsIconConf");f.icon?m=f.icon:(l=n[h]&&n[h].icon||h,n[h]&&n[h].defaultIcon&&(m=l),k=$G.environment.mimgUrl+"p/images/app/"+l+"_32.png",$S("isVip")&&(k=$G.environment.mimgUrl+"vip/xm/use-js5/img/app/"+l+"_32.png"),i=new a.Icon({extcls:"gApps-productIco",url:k,click:function(){}})),a.Ext.appCenter&&(m="",l=f.icon,k=$G.environment.mimgUrl+"p/images/app/"+l+"_32.png",i=new a.Icon({extcls:"gApps-productIco",url:k,click:function(){}})),0===z%A&&(z&&y.push("</div>"),y.push('<div class="hj0" '+(0===z/A?"":'style="display:none;"')+">"));var o=m?"gApps-productIco-"+m+"-sizeS ":"",p='<div class="oK0" role="link" tabindex="0" title="'+g+'" '+"onmouseover=\"this.className='oK0 hJ0'\" "+"onmouseout=\"this.className='oK0'\">"+(m?'<b class="gApps-productIco gApps-productIco-'+m+" "+o+'nui-ico"><img src="'+$G.environment.mimgUrl+'p/t.gif" alt="" /></b>':i.html())+'<p class="id0">'+g+(f.isNew?'<b class="nui-ico nui-ico-new3"></b>':"")+"</p>"+'<div class="ty0 sn0" '+(22==f.id&&$S("weiboCount")?"":'style="display:none')+'" id="dvNew_'+f.id+'">'+(22==f.id?$S("weiboCount")||"":"")+"</div>"+"</div>";x.push(c(p,f)),y.push(c(p,f)),z++}}var q="添加应用";$S("isVip")&&(q="添加VIP特权应用");var r='<div class="oK0" onmouseover="this.className=\'oK0 hJ0\'" onmouseout="this.className=\'oK0\'"><b class="gApps-productIco gApps-productIco-add gApps-productIco-add-sizeS nui-ico"><img src="http://mimg.127.net/p/t.gif" alt="'+q+'"></b><p class="id0">'+q+"</p></div>";if(!$S("isCorp"))var t={html:r,listeners:[{name:"click",type:"dom",handler:function(){e(),a.Support.gotoAppCenter(),a.Log.cache({FrameDockAdd:1})}}]};0===z%A&&(z&&y.push("</div>"),y.push('<div class="hj0" '+(0===z/A?"":'style="display:none;"')+">")),x.push(a.Component.html(t)),y.push(a.Component.html(t)),z++,C=z,s.totalApps=z,s.showingAppsCount=C,10>=z&&(a.fly("#dvScrollUp").hide(),a.fly("#dvScrollDown").hide()),z&&y.push("</div>"),1==$S("dockType")?(a.fly("#dvDockItems").dom.style.width=80*z+"px",a.fly("#dvDockItems").dom.parentNode.style.height="",a.fly("#dvDockItems").dom.style.height=""):(a.fly("#dvDockItems").dom.parentNode.style.width="",a.fly("#dvDockItems").dom.style.width="",a.fly("#dvDockItems").dom.style.height=41*z+"px"),a.fly("#dvDockItems").html(x.join("")),a.fly("#dvFullItems").html(y.join("")),new a.Link({icon:{type:"lArr"},click:function(){B>0&&(B--,b(B))},extcls:"rv0",attrs:'role="button" title="上一页"',renderTo:"spnFullBottom"});var u=[],v=Math.ceil(z/A);1==v&&a.fly("#spnFullBottom").hide();for(var d=0;v>d;d++){var w=new a.Link({icon:{},click:a.Function.bind(function(a){b(a)},this,d),extcls:"nui-fIBlock lf0"+(0===d?" eo0":""),renderTo:"spnFullBottom"});u.push(w.getDom())}u=new a.Element(u),new a.Link({icon:{type:"rArr"},click:function(){v-1>B&&(B++,b(B))},extcls:"qH0",attrs:'role="button" title="下一页"',renderTo:"spnFullBottom"}),a.Component.setEvents()}function c(b,c){return a.Component.html({html:b,listeners:{click:{handler:a.Function.bind(d,this,c)},mouseover:{handler:function(){this.parentNode.focus()}},mousewheel:{handler:function(b){var c=a.Event.getEvent(b),d=c.wheelDelta;d>0&&g(),0>d&&f()}},DOMMouseScroll:{handler:function(b){var c=a.Event.getEvent(b),d=c.detail;d>0&&f(),0>d&&g()}}}})}function d(b){var c=b.id;e();try{a.Log.cache({FrameDockAppClick:c}),(-1===(c+"").indexOf("m")||"m3"===c)&&a.Log.record("appCenter",{AppCenter_Entry_Mail_Dock:c})}catch(d){}if(b.isNew&&(o.markDockAppClicked(c),s.show()),!a.Context.module||"outlink.OutlinkModule"!==a.Context.module.mtype||a.Context.module.appId!=c)if(0!==(c+"").indexOf("m"))if(a.Ext.appCenter){if(c===a.AppCenterInterface.appIdForYiqipin())return a.AppCenterInterface.gotoYiqipin("dock"),void 0;var f=a.Array.findObject(o.getAppsList(),"id",c);if(f)o.startApp(f);else{var g=a.Array.findObject(o.getDockAppsList(),"id",c);o.startApp(g)}}else{var f=a.Array.findObject(o.getAppsList(),"id",c);$E("interface.OutlinkInterface",function(a){a.goOutlink({key:f.name,title:f.text,lockid:f.lockid,cross:f.listen})})}else switch(c){case"m0":a.JS.go({module:a.Context.defaultModule});break;case"m1":$E("interface.ComposeInterface",function(a){a.entry()});break;case"m2":a.JS.go({module:"contact.ContactModule"});break;case"m3":a.Support.gotoAppCenter();break;case"m4":$E("interface.OutlinkInterface",function(a){a.goOutlink({key:"lab",title:"实验室"})});break;case"m5":a.Nav.entry("OptionInterface",{module:"options.AccountCenterModule"});break;case"m6":$E("interface.MboxInterface",function(a){a.entry({fid:1})});break;case"m7":$E("product.FileCenter",function(a){a.entry("nf_center")});break;case"m8":$E("interface.OptionInterface",function(a){a.entry({module:"LinkModule",link:"mobile_set"})}),a.Log.cache({from:"mobile_from_dock"})}}function e(){var b=["iW0","jX0","nM0","nM0","qv1"];if(a.fly("#dvDockList")){a.fly("#dvDockList").removeClass(b.join(" "));try{a.fly("#dvDockList").dom.style.width="0px",a.fly("#dvDockList").dom.style.height="0px"}catch(c){}}var d=["nN0","fG0","fr0"];a.fly("#dvDockStart")&&a.fly("#dvDockStart").removeClass(d.join(" ")),a.fly("#dvFDock1")&&(a.fly("#dvFDock1").show(),a("#dvDockStart").hide()),s.showing=!1}function f(b){var c,d,e,f="marginLeft",g=80;1!=$S("dockType")&&(f="marginTop",g=41),b&&(c=Math.round(s.currentAppPos/s.showingAppsCount),e=Math.ceil(s.totalApps/s.showingAppsCount)-1,d=c+1>e?e:c+1,s.currentAppPos=d===e?s.totalApps-s.showingAppsCount-1:d*s.showingAppsCount-1),z-s.currentAppPos>s.showingAppsCount&&(s.currentAppPos++,a.fly("#dvDockItems").dom.style[f]=-(s.currentAppPos*g)+"px")}function g(b){var c,d,e="marginLeft",f=80;1!=$S("dockType")&&(e="marginTop",f=41),b&&(c=Math.round(s.currentAppPos/s.showingAppsCount),d=0>c-1?0:c-1,s.currentAppPos=d*s.showingAppsCount+1),s.currentAppPos>0&&(s.currentAppPos--,a.fly("#dvDockItems").dom.style[e]=-(s.currentAppPos*f)+"px")}var h=this;$S("dockType",a.Ud.get({field:"huodong_option",flag:"dockType"})-0);var i=a.Ud.get({field:"huodong_option",flag:"dockEnable"});if($S("dockType"),a.fly("#dvDock")&&a.fly("#dvDock").remove(),!(i-0)){var j=o.getDockAppsList(),k=$S("dockType")===h.dockType.horizon,l=k?"horizon":$S("dockType")===h.dockType.vertical?"vertical":"full",m="",n=!a.Array.findObject(j,"display",1),q=n?k?"fO0":"eT0":"",r="",t=k?"rM1":"qw1",u=k?"hR1":"gR2";"horizon"===l?(m="jX0",r="hR1"):"vertical"===l?(m="iW0",r="gR2"):"full"===l&&(m="nM0",r="jR1");var v='<div class="tQ0" id="dvDock">   <div class="qo0" id="dvDockStartOuter" title="邮箱触点" tabindex="0" hidefocus="true" >       <div class="sQ0" id="dvDockStart">           <span class="qt0 ok0"></span>           <span class="qt0 od0"></span>           <span class="qt0 nX0"></span>           <span class="qt0 nP0"></span>           <span class="ty0" id="spnDockNew" style="display:none"></span>       </div>   </div>   <div class="sb0 '+q+'" id="dvDockList" style="width:0px;height:0px;">'+'<div class="nB1">'+a.Link.html({click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"custom.AppManagerModule",type:"dock"})}),e()},attrs:'title="点击添加应用"',extcls:"nui-ico nS0"})+'       <div class="ta0 '+t+'" id="dvScrollUp">'+a.Link.html({icon:{type:1==$S("dockType")?"lArr":"uArr"},click:function(){g(!0)},attrs:'role="button" title="上一页"',extcls:"rv0"})+"       </div>"+'       <div class="nK0 '+u+'"  id="dvDockAppLsit">'+'           <div class="nq0 nui-fClear" style="height:492px;width:696px" id="dvDockItems">'+"               "+"           </div>"+"       </div>"+'       <div class="ta0 '+t+'" id="dvScrollDown">'+a.Link.html({icon:{type:1==$S("dockType")?"rArr":"dArr"},click:function(){f(!0)},attrs:'role="button" title="下一页"',extcls:"qH0"})+"       </div>"+'       <div class="so0">'+a.Link.html({icon:{type:"option"},click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"custom.AppManagerModule",type:"dock"})}),e(),a.Log.cache({FrameDockManager:1})},attrs:'role="button" title="设置"',extcls:"nO0 nui-fIBlock"})+a.Link.html({icon:{type:$S("dockType")===h.dockType.fullScreen?"dockMin":"dockMax"},click:function(){var b,c=this,d="dockMin";s._showType===h.dockType.fullScreen?(d="dockMax",b=a.Ud.get({field:"huodong_option",flag:"dockType"})-0,c.el.attr({title:"最大化"})):(b=s.dockType.fullScreen,c.el.attr({title:"最小化"}));var e=this.children()[0].getEl();e.removeClass("nui-ico-dockMax nui-ico-dockMin"),e.addClass("nui-ico-"+d),$S("dockType",b),s._showType=$S("dockType"),s.showDockByType(),a.Log.cache({FrameDockMax:1})},attrs:$S("dockType")===h.dockType.fullScreen?'role="button" title="最小化"':'role="button" title="最大化"',extcls:"nO0 nui-fIBlock"})+"       </div>"+'       <div class="nK0 jR1" id="dvFullList">'+'           <div class="nq0 nui-fClear" style="width:1908px" id="dvFullItems">'+"           </div>"+"       </div>"+'       <div class="ta0 uf0">'+'           <span class="pZ0" id="spnFullBottom">'+"           </span>"+"       </div>"+"</div>"+'       <div class="mb0"></div>'+'       <div class="mt0 jm0"></div>'+'       <div class="mt0 jn0"></div>'+'       <div class="mt0 jo0"></div>'+"</div>";a.fly(document.body).append(v),a.Component.setEvents(),s._showType=$S("dockType"),s.showDock||(s.showDock=function(){if(s.showing)return e(),s.showing=!1,void 0;if(s.showing=!0,s.showDockByType(),s._showType===s.dockType.fullScreen);else{s.showNewAppPos=!1;for(var b=o.getDockAppsList(),c=s.totalApps-2;c>=s.totalApps-s.showingAppsCount&&c>=0;c--)if(b[c].isNew){s.showNewAppPos=!0;break}s.showNewAppPos&&0===$S("dockType")-0&&s.totalApps>s.showingAppsCount&&(a.fly("#dvDockItems").dom.style.marginTop=41*-(s.totalApps-s.showingAppsCount)+"px",s.currentAppPos=s.totalApps-s.showingAppsCount),s.showNewAppPos&&1===$S("dockType")-0&&s.totalApps>s.showingAppsCount&&(a.fly("#dvDockItems").dom.style.marginLeft=80*-(s.totalApps-s.showingAppsCount)+"px",s.currentAppPos=s.totalApps-s.showingAppsCount)}try{a.Event.cancelBubble()}catch(d){}});var w=!1;a.fly("#dvDockStartOuter").listen("click",function(){$S("dockType",a.Ud.get({field:"huodong_option",flag:"dockType"})-0),w||(b(),w=!0),h.hideAddedAnimation(),s.showDock(),a.Log.cache({FrameDockClick:1}),a.Component.setEvents()}),a.fly("#dvDockStartOuter").listen("mouseover",function(){s.loadedCss||(a.Support.loadStyleSheet(s.cssPath),s.loadedCss=!0)}),a.fly(document.body).listen("click",function(b){var c=a(a.Event.getTarget(b));c.findParent("#dvDock")||e()}),a.fly(document.body).listen("blur",function(){e()}),s.specailEffect(),a.Ext.msgCenter&&p.fire("msgcenter:init");var x=[],y=[],z=0,A=32,B=0;s.currentAppPos=0;var C}}function j(){function b(){var b,e=["","gDock-startOuter-autumn-shine"],f=0;c=setInterval(function(){try{a.fly("#"+d).dom.className="gDock-startOuter-autumn "+e[f],0===f&&(b=1),f==e.length-1&&(b=-1),f+=b}catch(g){clearInterval(c)}},200)}var c;if(a.Ext.specailEffect){var d="dvFDock1";a("#dvDockStart").hide();var e='<div class="gDock-startOuter-autumn" id="'+d+'"><div class="gDock-startOuter-autumn-inner" title="" tabindex="0" hidefocus="true"></div></div>';a.fly("#dvDockStartOuter").prepend(e),b(),a.fly("#"+d).listen("mouseover",function(){a.fly("#"+d).dom.className="gDock-startOuter-autumn gDock-startOuter-autumn-hover",clearInterval(c)}),a.fly("#"+d).listen("mouseout",function(){a.fly("#"+d).dom.className="gDock-startOuter-autumn",b()}),a.fly("#dvFDock1").listen("click",function(){a("#dvDockStart").show()})}}function k(c){function d(){b.DockAnimationTimer=i=b.setTimeout(function(){f.hideAddedAnimation()},3e3)}function e(){i&&b.clearTimeout(i)}var f=this,g="dockAddedAnimation",h=$C(g),i=b.DockAnimationTimer;h&&(e(),h.destroy());var j=o.getApp(c),k=a.Support.getAppIconUrl(j.icon+"_32");if(1!==a.Ud.get({field:"huodong_option",flag:"dockEnable"})-0){var l=a.Link.html({text:"立即使用"+j.text+"&gt;&gt;",cls:"nui-txt-link",click:function(){o.startApp(c),f.hideAddedAnimation()}}),m=a.Component.html({html:'<a href="#" style="display:block;width:18px;height:18px;position:absolute;right:7px;top:9px;color:#999"><b class="nui-ico nui-ico-close  nui-ico-close-dark">x</b></a>',listeners:[{name:"click",type:"dom",handler:function(){f.hideAddedAnimation()}}]}),n='<div class="of0"><p class="jW0">应用已成功添加到触点！</p><p class="hT0">'+l+"</p>"+'<b class="fx0">'+'<img src="'+k+'" alt="'+j.text+'">'+"</b>"+m+"</div>",p=a.Component.html({id:g,html:n,listeners:[{name:"mouseover",type:"dom",handler:function(){e()}},{name:"mouseout",type:"dom",handler:function(){d()}}]});a(document.body).append(p),a.Component.setEvents(),d()}}function l(){var a="dockAddedAnimation";$C(a)&&$C(a).hide()}function m(){var b=a("#dvDockStartOuter");b&&(b.addClass("animation-dock"),setTimeout(function(){b.removeClass("animation-dock")},2e3))}function n(b){if(b=b||s._showType,null!==b){var c=a("#dvDockList");s.totalApps>s.maxDockAppsCount+1&&(b=s._showType=s.dockType.fullScreen);var d,e,f,g,h,i=s.totalApps,j=58,k=96;10>i&&i>=5?s._showType==s.dockType.horizon?(g=80*i,e=g+k):s._showType==s.dockType.vertical&&(h=41*i,f=h+j):5>i?(s._showType==s.dockType.horizon?(g=400,e=g+k):s._showType==s.dockType.vertical&&(h=205,f=h+j),d=5):i>=10&&(d=10),s.showingAppsCount=d;var l=s.hasNewsNotify,m="";l&&(m=b===s.dockType.horizon?" ew1":b===s.dockType.vertical?" dZ1":" hu1"),b===s.dockType.horizon?(g||(g=800),e||(e=800+k),f=l?140:111,h=85):b===s.dockType.vertical?(h||(h=410),f||(f=410+j),e=189,l&&(f+=29),g=189):b===s.dockType.fullScreen&&(e=882,f=l?508:479);var n=!a.Array.findObject(a.AppManager.getDockAppsList(),"display",1),o="";n&&(o=b===s.dockType.horizon?" fO0":b===s.dockType.vertical?" eT0":" iD0");var p="";p=b===s.dockType.horizon?"jX0":b===s.dockType.vertical?"iW0":"nM0",n&&(b===s.dockType.horizon?(e=219,f=182):b===s.dockType.vertical?(f=200,e=193):b===s.dockType.fullScreen&&(e=193,f=200)),c.dom.style.height=f+"px",c.dom.style.width=e+"px";var q=a("#dvDockAppLsit");q&&b!==s.dockType.fullScreen&&(q.dom.style.height=h+"px",q.dom.style.width=g+"px");var r="sb0 "+p+m+" qv1"+" "+o;c.setClass(r);var t=a("#dvDockStart"),u="";u=b===s.dockType.horizon?"fG0":b===s.dockType.vertical?"fr0":"fr0";var v="sQ0 nN0 "+u;t.setClass(v)}}try{var o=$I("init.CustomAppManager"),p=$I("core.Listener"),q=6==a.Browser.ie()-0}catch(r){return r}var s=a.createClass($N("init.Dock"));a.Object.extend(s,{cssPath:"gdock.css",showNewAppPos:!0,totalApps:0,showingAppsCount:0,currentAppPos:0,maxDockAppsCount:15,hasNewsNotify:!1,init:c,show:i,initShow:d,showDot:g,unHiddenDock:e,hiddenDock:f,jump:m,specailEffect:j,buzzCall:h,showAddedAnimation:k,hideAddedAnimation:l,showDockByType:n,dockType:{vertical:0,horizon:1,fullScreen:2},_showType:null})}($,window),function(a){function b(){return null}function c(a){this.info=a}function d(){return null}function e(){return null}function f(a,b,c,d){var e,f,g;b?(e="unreadMessageCount",f="unreadMessageSize",g="unreadThreadCount"):(e="messageCount",f="messageSize",g="threadCount"),a[e]+=c,a[e]>0||(a[e]=0),a[f]+=d,a[f]>0||(a[f]=0);try{a[g]>=0&&(a[g]+=c,a[g]>0||(a[g]=0))}catch(h){}}function g(){}function h(){}function i(){}function j(){}function k(){}function l(){}function m(){}var n=a.createClass($N("init.Stats"));a.Object.extend(n,{info:null,inited:!1,format:b,set:c,getData:d,compare:e,fix:f,read:g,move:h,flag:i,tag:j,defer:k,archive:l,init:m})}($,window),function(a){function b(a){for(var b=this,c={tags:{},normal:{},brand:{},smart:{}},d=$I("init.Thread"),e=d.check(),f=c.tags,g=[],h=0,i=a.length;i>h;h++){var j=a[h],k={},l=k.name=t.escapeHTML(t.trim(j[0])),m=j[1];if(m||(m=j[1]={}),k.color=m.color||0,t.has(l,"%"))if(t.has(l,"st_p_"))try{var n=l.match(/%st_p_(\w+)%$/)[1];if(!b.smarts[n])continue;k.alias=n,k.type="smart"}catch(o){continue}else k.type="brand",k.alias=l.replace(/%/g,"");else k.type="normal",k.alias=m.alias||k.name;var p=m.show;k.show=p>=0?p:1;var q=k.stats={};q.messageCount=j[2]||0,q.messageSize=j[3]||0,e&&(q.threadCount=j[4]||0),q.unreadMessageCount=j[5]||0,q.unreadMessageSize=j[6]||0,e&&(q.unreadThreadCount=j[7]||0),g.push(k)}g.sort(function(a,b){return a.name.localeCompare(b.name)});for(var h=0,i=g.length;i>h;h++){var k=g[h],r=k.name;f[r]=k,c[k.type][r]=k}return c}function c(a){var b=this;b.info=a,b.tags=a.tags,b.normal=a.normal,b.brand=a.brand,b.smart=a.smart}function d(a,b,c){var d=this;return d.init(),b||(b="normal"),c&&("smart"===b&&(a="st_p_"+a),a="%"+a+"%"),d[b][a]}function e(a){var b=this;return b.init(),a||(a="normal"),b[a]}function f(a,b){var c=$I("init.Thread"),d=c.check();"unread"!==a&&(a=""),"size"!==b?b="count":d=!1,b=b.substring(0,1).toUpperCase()+b.substring(1);var e="";e=d?"thread":"message","unread"===a&&(e=e.substring(0,1).toUpperCase()+e.substring(1));var f=a+e+b;return f}function g(a,b,c){var d=this,e=d.get(a,"tags"),f=0;if(e){var g=d.getProperty(b,c);f=e.stats[g],f>0||(f=e.stats[g]=0)}return f}function h(a){var b=this,c=b.getMatch(),d=null;if(c){var e=b.get(a,"brand");if(e)for(var f=0,g=c.length;g>f;f++)if(e.alias===c[f].id){d=c[f];break}}return d}function i(){var a=this,b=$S("matchBrandData");if(!b){b=[];var c=$S("brandData");if(c)for(var d=0,e=c.length;e>d;d++){var f=c[d],g=a.get(f.id,"brand",!0);g&&a.getInfo(g.name,"total","count")>0&&b.push(f)}$S("matchBrandData",b)}return b}function j(a){var b=this,c=null,d=b.get(a,"smart");return d&&(c=b.smarts[d.alias].name),c}function k(a){var b=this;s.isString(a)&&(a=b.get(a,"tags"));var c,d=a.type,e=a.name;if("brand"===d){var f=b.getBrand(e);f&&(c=f.name)}else if("smart"===d){var g=b.getSmart(e);g&&(c=g)}else c=a.alias;return c}function l(){var a=this,b=$I("init.Thread"),c=[{func:"mbox:listTags","var":{stats:!0,threads:b.check()}}];return{items:c,compare:u.bind(a.compare,a)}}function m(a,b){function c(a,b,c,d){var e=!1,f={};for(var g in c){var h=0;h+=c[g],d[g]&&(h-=d[g]),f[g]=h,e=e||0!==h}return e&&(a[b]=f),e}var d=this,e=a[0]["var"],f=d.info,g=d.format(e),h=f.tags,i=g.tags,j=$G.attrs,k=!1,l=!1,m=!1,n=!1,o=j.tags.length!==e.length,p={};s.each(i,function(a,b){var d=h[a],e=b.stats,f=d?d.stats:{};k=k||!d||b.name!==d.name,l=l||b.alias!==d.alias,m=m||b.color!==d.color,n=c(p,a,e,f)||n});var q=k||l||m||n||o;return(q||b)&&(j.tags=e,d.set(g)),{changed:q,info:{name:k,alias:l,length:o,color:m,stats:n?p:null}}}function n(a){for(var b=this,c=!1,d=a.data,e=a.value,f={},g=0,h=d.length;h>g;g++){var i=d[g],j=i.tag;if(j)for(var k=i.size,l=0,m=j.length;m>l;l++){var n=b.get(j[l],"tags");if(n){var o=1,p=k;e&&(o=-o,p=-p),b.fix(n.stats,!0,o,p),b.fixSource(n),f[n.name]=!0,c=!0}}}return{changed:c,info:{tags:f}}}function o(a){for(var b=this,c=!1,d=a.data,e=a.value,f=$G.common.unnormalids,g={},h=0,i=d.length;i>h;h++){var j=d[h],k=j.fid,l=v.has(f,k),m=v.has(f,e),n=j.flags.read;if(l^(m||!e)){var o=j.tag;if(o)for(var p=j.size,q=0,r=o.length;r>q;q++){var s=b.get(o[q],"tags");if(s){var t=1,u=p;l||(t=-t,u=-u);var w=s.stats;b.fix(w,!1,t,u),n||b.fix(w,!0,t,u),b.fixSource(s),g[s.name]=!0,c=!0}}}e||$S("matchBrandData",null)}return{changed:c,info:{tags:g}}}function p(a){for(var b=this,c=!1,d=a.data,e=a.value,f=a.isAdd,g={},h=0,i=d.length;i>h;h++){var j,k=d[h],l=k.tag,m=k.flags.read;j=e?[e]:l;for(var n=k.size,o=0,p=j.length;p>o;o++){var q=b.get(j[o],"tags");if(q){var r=1,s=n;f||(r=-r,s=-s);var t=q.stats;b.fix(t,!1,r,s),m||b.fix(t,!0,r,s),b.fixSource(q),g[q.name]=!0,c=!0}}}return{changed:c,info:{tags:g}}}function q(a){for(var b=a.name,c=a.stats,d=$G.attrs.tags,e=0,f=d.length;f>e;e++){var g=d[e];if(b===t.escapeHTML(t.trim(g[0]))){g[2]=c.messageCount||0,g[3]=c.messageSize||0,g[4]=c.threadCount||0,g[5]=c.unreadMessageCount||0,g[6]=c.unreadMessageSize||0,g[7]=c.unreadThreadCount||0;break}}}function r(a){var b=this;if(a||!b.inited){$S("matchBrandData",null);var c=$G.attrs.tags;b.set(b.format(c)),b.inited=!0}}var s=a.Object,t=a.String,u=a.Function,v=a.Array,w=$I("init.Stats"),x=a.createClass($N("init.Tag"));s.mix(x,w,{colorCount:20,tags:null,normal:null,brand:null,smart:null,info:null,inited:!1,smarts:{reg:{name:"注册",index:0},bank:{name:"银行",index:1},sns:{name:"社交",index:2},order:{name:"订单",index:3},job:{name:"工作",index:4},bill:{name:"账单",index:5}},format:b,set:c,get:d,list:e,getProperty:f,getInfo:g,getBrand:h,getMatch:i,getSmart:j,getName:k,getData:l,compare:m,read:n,move:o,tag:p,fixSource:q,init:r})}($,window),function(a,b){function c(a,b){var c=this;c.init();var d=c._isThread,e=c._isOpen||b;return a&&(d=d&&("number"!=typeof a||0===a||1===a||a>20)),!(!d||!e)
}function d(){var c=this;if(!c.inited){try{var d=$G.environment.domain,e=a.Array.has(["163.com","126.com","yeah.net"],d),f=b.netease.mail.js6.util.Ud.get({field:"ntes_option",flag:"thread"}),g=$G.attrs.user.ntes_labs;c._isThread=$G.attrs.cos.perm_mail_threading&&(!e||g&&"1"===g.substring(12,13)),c._isOpen=!e^"0"===f}catch(h){}c.inited=!0}}var e=a.createClass($N("init.Thread"));a.Object.extend(e,{_isThread:!1,_isOpen:!1,inited:!1,check:c,init:d})}($,window),function(a){function b(a,b){function c(b){for(var d=b.length-1;d>-1;d--){var e=b[d];l[e.id]||(a.push(e),l[e.id]=e),e.children&&(e.children.length>0&&c(e.children),delete e.children)}}function d(a,b){var c={id:a,name:b,flags:{virtual:!0},stats:{messageCount:0,messageSize:0,unreadMessageCount:0,unreadMessageSize:0,threadCount:0,unreadThreadCount:0}};return c}var e=this,f=[],g=[],h=[],i=[],j={},k={},l={};w.each(a,function(a,b){l[b.id]=b}),c(a);for(var m=a.length-1;m>-1;m--){var n=a[m],o=n.id;if(o>5&&20>o&&7!==o&&15!==o&&17!==o&&18!==o&&19!==o);else{n.name=y.escapeHTML(y.trim(n.name));var p=n.flags;if(j[o]=n,p||(p=n.flags={}),n.stats||(n.stats={}),p.system)p.pop=!1,g.push(n);else{var q={};try{q=e.getPopInfo(o)}catch(r){}q&&q.isPop?(p.pop=!0,p.iconSubtype=q.iconSubtype,p.username=q.username,i.push(n)):(p.custom=!0,p.pop=!1,h.push(n))}}}var s=d(0,"所有邮件");return f.push(s),j[s.id]=s,i.sort(function(a,b){return a.name.localeCompare(b.name)}),h.sort(function(a,b){return a.name.localeCompare(b.name)}),g.sort(function(a,b){var c=a.id,d=b.id,e={18:4.5,7:4.6};return c=e[c]||c,d=e[d]||d,c-d}),x.each(b,function(a,b){w.has(a.split(","),"1")&&(k=b)}),{virtual:f,system:g,custom:h,pop:i,hash:j,total:k}}function c(a){var b=this;b.info=a,b.virtual=a.virtual,b.system=a.system,b.custom=a.custom,b.pop=a.pop,b.hash=a.hash,b.total=a.total}function d(a){var b=this;b.init();var c=b.list();w.each(c,a)}function e(a){var b=this;b.init();var c;return a>=0&&(c=b.hash[a]),c}function f(b){var c=this;c.init();var d;return b=b.toLowerCase(),w.each(c.list(),function(c,e){return e.name.toLowerCase()===b?(d=e,a.BREAK):void 0}),d}function g(a){var b=this;b.init();var c=b.list(),d=[];return w.each(c,function(b,c){var e=c.id;a&&w.has(a,e)||d.push(e)}),d}function h(a){var b=this;b.init();var c;return c=a?b[a]:[].concat(b.system,b.custom,b.pop)}function i(a){for(var b=$G.attrs.popAccounts,c={isPop:!1},d=0,e=b.length;e>d;d++){var f=b[d];if(f.fid===a){if("pop3"===f.type){var g=f.username;/@/.test(g)||(g=f.username+"@"+f.server.replace(/pop(3)?\./i,""));var h=g.split("@")[1],i=$I("util.Icon").getSubtype({type:"folder",domain:h});c={isPop:!0,index:d,name:f.name,username:g,server:f.server,stats:f.stats,delegatedSend:f.delegatedSend,iconSubtype:i}}break}}return c}function j(a,b,c){var d=$I("init.Thread"),e=d.check(a);"unread"!==b&&(b=""),"size"!==c?c="count":e=!1,c=c.substring(0,1).toUpperCase()+c.substring(1);var f="";f=e?"thread":"message","unread"===b&&(f=f.substring(0,1).toUpperCase()+f.substring(1));var g=b+f+c;return g}function k(a,b,c){try{var d=this,e=d.get(a),f=d.getProperty(a,b,c),g=e.stats[f];return g>0||(g=e.stats[f]=0),g}catch(h){return 0}}function l(a,b){var c=this;c.init();var d=c.getProperty(null,a,b),e=c.total[d];return e>0||(e=c.total[d]=0),e}function m(b){return $G.user.topMailCount&&a.Ext.letterTop&&b>0&&!w.has([4,5,7,15,18],b)}function n(){for(var a=this,b=$I("init.Thread"),c=[],d=b.check(),e=a.list(),f=$G.common.unnormalids,g=0,h=e.length;h>g;g++){var i=e[g].id;w.has(f,i)||c.push(i)}var j=[];return j.push({func:"mbox:getAllFolders","var":{stats:!0,threads:d}}),j.push({func:"mbox:getFolderStats","var":{ids:[c.join()],messages:!0,threads:d}}),{items:j,compare:z.bind(a.compare,a)}}function o(b,c){function d(a,b,c,d){var e=!1,f={};for(var g in c){var h=0;h+=c[g],d[g]&&(h-=d[g]),f[g]=h,e=e||0!==h}return e&&(a[b]=f),e}var e=this,f=b[0]["var"],g=b[1]["var"],h=e.info,i=e.format(f,g),j=h.hash,k=i.hash,l=$G.attrs,m=!1,n=!1,o=!1,p=l.folders.length!==f.length,q={};x.each(k,function(b,c){if(c.flags.virtual)return a.CONTINUE;var e=j[b],f=c.stats,g=e?e.stats:{},h=c.flags,i=e?e.flags:{};n=n||!e||c.name!==e.name,m=d(q,b,f,g)||m,o=o||h.custom!==i.custom||h.pop!==i.pop});var r=h.total,s=i.total;m=d(q,0,s,r)||m;var t=p||n||m||o;return(t||c)&&(l.folders=f,l.folderStats=g,e.set(i)),{changed:t,info:{name:n,length:p,flags:o,stats:m?q:null}}}function p(a){for(var b=this,c=!1,d=a.data,e=a.value,f=$G.common.unnormalids,g={},h=0,i=d.length;i>h;h++){var j=d[h],k=j.fid,l=j.size,m=b.get(k),n=m.stats,o=b.total,p=w.has(f,k),q=1,r=l;e&&(q=-q,r=-r),b.fix(n,!0,q,r),p||b.fix(o,!0,q,r),g[k]=!0,c=!0}return{changed:c,info:{fids:g}}}function q(a){for(var b=this,c=!1,d=a.data,e=a.value,f=$G.common.unnormalids,g={},h=0,i=d.length;i>h;h++){var j=d[h],k=j.fid,l=b.get(k),m=w.has(f,k),n=b.get(e),o=w.has(f,e),p=b.total,q=j.flags.read,r=j.size,s=l.stats;if(b.fix(s,!1,-1,-r),q||b.fix(s,!0,-1,-r),n){var t=n.stats;b.fix(t,!1,1,r),q||b.fix(t,!0,1,r)}(!n||o)&&(b.fix(p,!1,-1,-r),q||b.fix(p,!0,-1,-r)),m&&!o&&(b.fix(p,!1,1,r),q||b.fix(p,!0,1,r)),g[k]=!0,g[e]=!0,c=!0}return{changed:c,info:{fids:g}}}function r(){var a=this;a.initArchive()}function s(a){var b={func:"mbox:getFolderStats",body:{mboxa:"2",fids:[a],messages:!0,threads:$I("init.Thread").check(a)}};return b}function t(a){var b=this;a?b.archives=a["var"]:delete b.archives}function u(a,b,c){var d=this,e=d.archives;if(e){var f=e[a];if(f){var g=d.getProperty(a,b,c),h=f[g];return h>0||(h=f[g]=0),h}}}function v(a){var b=this;if(a||!b.inited){var c=$G.attrs.folders,d=$G.attrs.folderStats;b.set(b.format(c,d)),b.inited=!0}}var w=a.Array,x=a.Object,y=a.String,z=a.Function,A=$I("init.Stats"),B=a.createClass($N("init.Folder"));x.mix(B,A,{virtual:null,system:null,custom:null,pop:null,hash:null,total:null,info:null,inited:!1,archives:null,format:b,set:c,each:d,get:e,getByName:f,getFids:g,list:h,getPopInfo:i,getProperty:j,getInfo:k,getTotal:l,isTop:m,getData:n,compare:o,read:p,move:q,archive:r,loadArchive:s,initArchive:t,getArchive:u,init:v})}($,window),function(a,b,c){function d(c){var d=this;if(!d.today||d.tomorrow||d.yesterday){var e=a.Misc.getTime(0),f=d.today=new b.Date(e.getFullYear(),e.getMonth(),e.getDate());d.yesterday=v.addDate(f,-1),d.tomorrow=v.addDate(f,1)}return d[c]}function e(a,b){var c=!$I("init.Thread").check()||b;return c=c&&(1===a||3===a||a>20)}function f(a,b){function c(a,b){var c=a.stats={};t.extend(c,{messageCount:0,messageSize:0,unreadMessageCount:0,unreadMessageSize:0});try{if(b){var d=b.all;c.messageCount=d.msgcnt,c.messageSize=d.msgsize,c.unreadMessageCount=d.newmsgcnt,c.unreadMessageSize=d.newmsgsize}}catch(e){}}var d={},e={};return c(d,a),c(e,b),{total:d,expire:e}}function g(a){var b=this;return b.init(),b[a]}function h(a){var b=this;b.info=a,b.total=a.total,b.expire=a.expire}function i(b){function d(){}function e(a){f.setCache(a)}var f=this,g=f.getDate("today"),h="19700101:"+v.format(g,"yyyyMMdd"),i=$I("init.Folder").getFids(),j="mbox:listMessages",k={func:j,body:{mboxa:a.Ext.archive?"1":c,fids:i,order:"deferredDate",desc:!1,filter:{defer:h,flags:{deferHandle:!0}},skipLockedFolders:!0,returnTag:!!a.Ext.tag,returnTotal:!0}};return b?k:(t.extend(k,{call:e,error:d}),(new a.DataAction).wmsvr(k),void 0)}function j(a){var b,c=this,d=c.response;return d&&(b=a?d[a]:d),b}function k(a){if(this.response=a,a)for(var b=a["var"],c=0,d=b.length;d>c;c++){var e=b[c],f=e.flags;f||(f=e.flags={}),f.expire=!0}}function l(a,b){"unread"!==a&&(a=""),"size"!==b&&(b="count"),b=b.substring(0,1).toUpperCase()+b.substring(1);var c="message";"unread"===a&&(c=c.substring(0,1).toUpperCase()+c.substring(1));var d=a+c+b;return d}function m(a,b,c){try{var d=this;d.init();var e=d.get(a),f=d.getProperty(b,c),g=e.stats[f];return g>0||(g=e.stats[f]=0),g}catch(h){return 0}}function n(){var a=this,c=$I("init.Folder").getFids(),d=new b.Date,e=v.format(d,"yyyyMMdd"),f="19700101",g=[];return g.push({func:"mbox:statMessages","var":{fids:c,filter:{defer:f+":"}}}),g.push({func:"mbox:statMessages","var":{fids:c,filter:{defer:":"+e}}}),{items:g,compare:w.bind(a.compare,a)}}function o(a,b){function c(a,b,c,d){var e=!1,f={},g=c[b].stats,h=d?d[b].stats:{};for(var i in g){var j=0;j+=g[i],h[i]&&(j-=h[i]),f[i]=j,e=e||0!==j}return e&&(a[b]=f),e}var d=this,e=a[0]["var"],f=a[1]["var"],g=d.info,h=d.format(e,f),i={},j=!1;return j=c(i,"total",h,g)||j,j=c(i,"expire",h,g)||j,(j||b)&&($G.attrs.deferTotal=e,$G.attrs.deferExpire=f,d.set(h)),{changed:j,info:{stats:j?i:null}}}function p(a){for(var b=this,c=!1,d=a.data,e=a.value,f={},g=0,h=d.length;h>g;g++){var i=d[g],j=i.flags.deferHandle;if(j){var k=["total"];i.defer<b.getDate("tomorrow")&&k.push("expire");for(var l=i.size,m=0,n=k.length;n>m;m++){var o=k[m],p=b.get(o),q=1,r=l;e&&(q=-q,r=-r),b.fix(p.stats,!0,q,r),f[o]=!0,c=!0}}}return{changed:c,info:{defers:f}}}function q(a){for(var b=this,c=!1,d=a.data,e=a.value,f=$G.common.unnormalids,g={},h=0,i=d.length;i>h;h++){var j=d[h],k=j.fid;u.has(f,k),u.has(f,e);var l=j.flags.read;if(!e){var m=j.flags.deferHandle;if(m){var n=["total"];j.defer<b.getDate("tomorrow")&&n.push("expire");for(var o=j.size,p=0,q=n.length;q>p;p++){var r=n[p],s=b.get(r),t=-1,v=-o,w=s.stats;b.fix(w,!1,t,v),l||b.fix(w,!0,t,v),g[r]=!0,c=!0}}}}return{changed:c,info:{defers:g}}}function r(a){function b(a,b,d,e){var f=c.get(a),g=f.stats;c.fix(g,!1,b,d),e||c.fix(g,!0,b,d),i[a]=!0}var c=this,d=!1,e=a.data,f=a.value.defer,g=a.value.deferHandle,h=a.type,i={};if("delete"!=h)for(var j=0,k=e.length;k>j;j++){var l=e[j],m=l.defer,n=l.flags.deferHandle,o=n&&m<y.getDate("tomorrow"),p=l.flags.read;if(f||m||g!=n||f.getYear()==m.getYear()&&f.getMonth()==m.getMonth()&&f.getDate()==m.getDate()){var q=l.size,r=1,s=q;if("add"===h&&(b("total",r,s,p),f<y.getDate("tomorrow")&&b("expire",r,s,p)),"complete"===h&&(b("total",-r,-s,p),o&&b("expire",-r,-s,p)),"modify"===h&&(f<y.getDate("tomorrow")?o||b("expire",r,s,p):o&&b("expire",-r,-s,p)),d=!0,"complete"===h&&o){var t=c.getCache("var");if(t)for(var u=0,v=t.length;v>u;u++){var w=t[u];if(w.id===l.id){t.splice(j,1);break}}}}}return{changed:d,info:{defers:i}}}function s(a){var b=this;if(a||!b.inited){var c=$G.attrs.deferTotal,d=$G.attrs.deferExpire;b.set(b.format(c,d)),b.inited=!0}}var t=a.Object,u=a.Array,v=a.Date,w=a.Function,x=$I("init.Stats"),y=a.createClass($N("init.Defer"));t.mix(y,x,{today:null,tomorrow:null,yesterday:null,total:null,expire:null,info:null,response:null,inited:!1,getDate:d,showTop:e,format:f,get:g,set:h,loadCache:i,getCache:j,setCache:k,getProperty:l,getInfo:m,getData:n,compare:o,read:p,move:q,defer:r,init:s})}($,window),function(a,b,c){function d(a,b,c){var d,e=this;if("group"!==a.ctype&&(a.email||a.emails)){var f=a.emails?a.emails:[a.email];d=f.join().toLowerCase(),b&&c&&!c[d]&&(b.push({data:a,arr:f,str:d,ctype:"contact"}),c[d]=!0)}else try{for(var g=($I("support.AddressSupport").getMarkData()||{}).contact||[],h=0,i=g.length;i>h;h++)if(a.cid===g[h].cid){a=g[h];break}for(var j=a.contacts,k=[],h=0,i=j.length;i>h;h++){var l=j[h],m=e.parseEmail(l);k=k.concat(m.split(","))}var n=k.join();b&&b.push({data:a,arr:k,str:n,ctype:"group"}),d=n}catch(o){}return d}function e(a){var b,c=this,d=c.contacts;try{if(a&&d&&d.length>0){a=a.toLowerCase();for(var e=0,f=d.length;f>e;e++){var g=d[e];if(a===g.str){b=g;break}}}}catch(h){}return b}function f(a){var b,c=this,d=c.contacts;try{if(a&&d&&d.length>0)for(var e=0,f=d.length;f>e;e++){var g=d[e];if(a===g.data.cid){b=g;break}}}catch(h){}return b}function g(a){function b(a){if(a)for(var b=0,f=a.length;f>b;b++){var g=a[b];c.parseEmail(g,d,e)}}var c=this,d=c.contacts;if(!d||a){d=[];var e={};try{var f=$I("support.AddressSupport").getMarkData();b(f.contact),c.contacts=d}catch(g){}}return d}function h(a){for(var b=this,c=b.getContacts(),d={ids:{},email:{},all:{}},e=0,f=c.length;f>e;e++){var g=c[e],h=g.arr,i=g.str,j=a[e]["var"],k={},l=k.stats={};s.extend(l,{messageCount:0,messageSize:0,unreadMessageCount:0,unreadMessageSize:0});try{if(j){var m=j.all;l.messageCount=m.msgcnt,l.messageSize=m.msgsize,l.unreadMessageCount=m.newmsgcnt,l.unreadMessageSize=m.newmsgsize}}catch(n){}d.all[i]=k;for(var o=0,p=h.length;p>o;o++){var q=d.email,r=h[o].toLowerCase(),t=q[r];t||(t=q[r]=[]),t.push(k)}}return d}function i(a,b){var d,e=this;try{var f;f="email"!==b?e.parseEmail(a):a,d=e.all?e.all[f]:c}catch(g){}return d}function j(a){var b=this;b.info=a,b.ids=a.ids,b.email=a.email,b.all=a.all}function k(){var a=this,b=a.contacts,c=0;try{if(b&&b.length>0)for(var d=0,e=b.length;e>d;d++){var f=b[d];"contact"===f.ctype&&(c+=a.getInfo(f.str,"unread"))}}catch(g){}return c}function l(a,b){"unread"!==a&&(a=""),"size"!==b&&(b="count"),b=b.substring(0,1).toUpperCase()+b.substring(1);var c="message";"unread"===a&&(c=c.substring(0,1).toUpperCase()+c.substring(1));var d=a+c+b;return d}function m(a,b,d){try{var e=this,f="string"==typeof a?"email":c,g=e.get(a,f),h=e.getProperty(b,d),i=g.stats[h];return i>0||(i=g.stats[h]=0),i}catch(j){return 0}}function n(){var a,b=this,c=b.getContacts(),d=[],e=$G.common.unnormalids,f=$I("init.Folder").getFids(e);if(c&&c.length>0){for(var g=0,h=c.length;h>g;g++)d.push({func:"mbox:statMessages","var":{fids:f,filter:{chatWithAddress:c[g].str}}});a={items:d,compare:u.bind(b.compare,b)}}return a}function o(b,d){function e(a,b,c,d){var e=!1,f={};for(var g in c){var h=0;h+=c[g],d[g]&&(h-=d[g]),f[g]=h,e=e||0!==h}return e&&(a[b]=f),e}var f=this,g=f.info,h=f.format(b),i={},j=!1,k=!1,l=h?h.all:c,m=g?g.all:c;s.each(l,function(a,b){var d=m?m[a]:c;d||(j=!0);var f=b.stats,g=d?d.stats:{};k=e(i,a,f,g)||k}),s.each(m,function(b){var d=l?l[b]:c;return d?void 0:(j=!0,a.BREAK)});var n=j||k;return(n||d)&&f.set(h),{changed:n,info:{inited:!g,length:j,stats:k?i:null}}}function p(a){for(var b=this,c=$I("util.Uri"),d=!1,e=!1,f=a.data,g=a.value,h={},i=0,j=f.length;j>i;i++){var k=f[i],l=k.fid;if(3===l){e=!0;break}var m=c.getAddress(k.from),n=k.size,o=b.email[m];if(o){var p=1,q=n;g&&(p=-p,q=-q);for(var r=0,s=o.length;s>r;r++)b.fix(o[r].stats,!0,p,q);h[m]=!0,d=!0}}return{changed:d,request:e,info:{emails:h}}}function q(b){for(var c=this,d=!1,e=!1,f=b.data,g=b.value,h=$G.common.unnormalids,i={},j=0,k=f.length;k>j;j++){var l=f[j],m=l.fid;if(3===m){e=!0;break}var n=t.has(h,m),o=t.has(h,g),p=l.flags.read;if(n^(o||!g)){var q=a.Uri.getAddress(l.from),r=l.size,s=c.email[q];if(s)for(var u=0,v=s.length;v>u;u++){var w=s[u],x=1,y=r;n||(x=-x,y=-y);var z=w.stats;c.fix(z,!1,x,y),p||c.fix(z,!0,x,y),c[q]=!0,d=!0}}}return{changed:d,request:e,info:{emails:i}}}function r(){}var s=a.Object,t=a.Array,u=a.Function,v=$I("init.Stats"),w=a.createClass($N("init.Contacts"));s.mix(w,v,{contacts:null,email:null,all:null,info:null,parseEmail:d,getContact:e,getGroup:f,getContacts:g,format:h,get:i,set:j,getUnread:k,getProperty:l,getInfo:m,getData:n,compare:o,read:p,move:q,init:r})}($,window),function(a){function b(){var b=this;b.init(),b.activated&&b.failed&&(b.failed=!1,a.Listener.fire("sync:request",{Sent:{changed:!0,info:{failed:!1,reset:!0}}},{}))}function c(){var a,b=this;if(b.init(),b.activated){var c=3,d=$I("init.Folder").getInfo(c);if(d>b.count){b.count=d;var e=[{func:"mbox:listMessages","var":{fid:c,order:"date",desc:!0,filter:{sentDate:"1:"}}}];a={items:e,compare:g.bind(b.compare,b)}}}return a}function d(a){var b=this;if(b.init(),b.activated){for(var c=!1,d=!1,e=b.mids,f=a[0]["var"],g=0,h=f.length;h>g;g++){var i=f[g],j=i.sndStatus,k=i.flags;if("number"!=typeof j){var l=k.rcptQueued,m=k.rcptSucceed,n=k.rcptFailed;(l||m||n)&&(m?n&&(j=5):j=n?4:1,i.sndStatus=j)}if("number"==typeof j)if(j>3){var o=i.id;e[o]||(c=!0,e[o]=!0)}else 3>j&&b.count--}return c!=b.failed&&(b.failed=c,d=!0),{changed:d,info:{failed:c}}}}function e(){var b=this;b.activated=a.Ud.get({field:"save_sent"})<2}var f=a.Object;a.String;var g=a.Function;a.Array;var h=$I("init.Stats"),i=a.createClass($N("init.Sent"));f.mix(i,h,{activated:!1,failed:!1,count:0,mids:{},reset:b,getData:c,compare:d,init:e})}($,window),function(a,b,c){function d(b,c){function d(b){var c=b.code;switch(c){case"FA_INVALID_SESSION":case"FA_SECURITY":a.Tips.show({err:!0,text:"您当前状态已失效，请重新"+a.Link.html({text:"登录邮箱",link:a.Uri.getUrl("logout"),target:"_top"}),expire:0});break;case"S_PARTIAL_OK":b["var"]=b["var"].splice(0,b.failIndex),e(b,!0)}return!0}function e(a){var d=a["var"],e=[];if(d&&d.length>0){try{for(var f=0,h=d.length;h>f;f++){var j=d[f]["var"];j[""]&&(j.all=j[""],delete j[""])}}catch(k){}u.each(i,function(a,b){try{var c=b.items.length,f=b.compare(d.splice(0,c),g);e.push(f)}catch(h){}})}for(var l={},f=0,h=b.length;h>f;f++)l[b[f]]=e[f];w.fire("sync:request",l,c)}c||(c={});var f=c.sync,g=c.force;c.listen;var h=$I("core.DataAction");b||(b=["Folder","Tag","Defer","Contacts","Sent"]);for(var i=[],j=0,k=b.length;k>j;j++){var l=$I("init."+b[j]).getData();l?i.push(l):(b.splice(j,1),j--,k--)}var m={func:"global:sequential",sync:!!f,call:e,error:d},n=[];u.each(i,function(a,b){u.each(b.items,function(a,b){n.push(b)})}),m.body={items:n},(new h).wmsvr(m)}function e(a,b,c,d){var e,f,g;b?(e="unreadMessageCount",f="unreadMessageSize",g="unreadThreadCount"):(e="messageCount",f="messageSize",g="threadCount"),a[e]+=c,a[e]>0||(a[e]=0),a[f]+=d,a[f]>0||(a[f]=0);try{a[g]>=0&&(a[g]+=c,a[g]>0||(a[g]=0))}catch(h){}}function f(a,b,c){var d=this,e={};u.each(b,function(b,d){try{e[d]=$I("init."+d)[c](a)}catch(f){}});var f=[];t.each(e,function(a,b){b.request&&f.push(a)}),f.length>0&&d.request(f,{force:!0,listen:!0}),w.fire("sync:cache",e)}function g(a){var b=this,c=["Folder","Tag","Defer","Contacts"];b.cache(a,c,"read")}function h(a){var b=this,c=["Folder","Tag","Defer","Contacts"];b.cache(a,c,"move")}function i(a){var b=this,c=[];b.cache(a,c,"flag")}function j(a){var b=this,c=["Tag"];b.cache(a,c,"tag")}function k(a){var b=this,c=["Defer"];b.cache(a,c,"defer")}function l(a){var b=this,c=["Folder"];b.cache(a,c,"archive")}function m(b,c){function d(){top.window.focus(),$E("interface.MboxInterface",function(a){a.entry({filter:{flags:{read:!1}}})})}var e=c.listen;if(!e){var f=b.Folder;if(f&&f.changed){var g=f.info.stats;if(g&&g[0]){var h=g[0];x.check();var i="unreadMessageCount",j=h[i]||0,k=[18];if(t.each(g,function(a,b){u.has(k,a)&&(j-=b[i])}),j>0){try{var l=$I("util.Notification");if(l.check())l.show({info:{title:"网易邮箱新邮件到达",body:"您收到 "+j+" 封新邮件"},event:{click:d},timeout:5e3});else{var m=[{html:"您收到 "+j+" 封新邮件，"},{xtype:"link",text:"点击查看",extcls:"nui-txt-cLink",click:d}];a.Popup.show({title:"新邮件到达",content:m})}}catch(n){}try{if(0===a.Ud.get({field:"ntes_option",flag:"newmailSound"})-0){var o="http://res.126.net/p/frontend/part/js6lib/sound/",p=o+"message.mp3",q=o+"message.wav";a.Audio.play({url:{mp3:p,wav:q}})}}catch(n){}}}}try{var r=b.Sent;if(r&&r.changed){var s=r.info,v=s.failed,w=s.reset;(v||w)&&a.Nav.changeExtraIcon("folder",3,"mailLv",v)}}catch(n){}}}function n(a){var b=this,d=a.area,e=a.action,f=!x.check();if(f){if("archive"!==d)try{switch(e){case"read":b.read(a);break;case"move":b.move(a);break;case"flag":b.flag(a);break;case"tag":b.tag(a);break;case"defer":b.defer(a)}}catch(g){}}else b.request(c,{force:!0,listen:!0});("archive"===d&&"move"===e||"read"===e)&&b.archive(a)}function o(){var a=this;a.request(c,{force:!0,listen:!0})}function p(){var a=this;a.request(c,{force:!0,listen:!0})}function q(){$I("init.Folder").initArchive()}function r(){var a=this,b=$I("init.Contacts");if(b.getContacts(!0),b.contacts.length>0)a.request(["Contacts"]);else{var c=b.compare([],!0);w.fire("sync:request",{Contacts:c})}}function s(){var a=this;a.inited||(w.listen("sync:request",v.bind(a.syncRequest,a)),w.listen("letter:update",v.bind(a.letterUpdate,a)),w.listen("letter:allread",v.bind(a.letterAllRead,a)),w.listen("letter:setfilter",v.bind(a.letterSetFilter,a)),w.listen("letter:rollback",v.bind(a.letterRollback,a)),w.listen("addr:dataInit",v.bind(a.addrData,a)),w.listen("addr:dataMark",function(b){(b.contactEmailChange||b.groupChange||b.statusChange)&&a.addrData()}),a.inited=!0)}var t=a.Object,u=a.Array,v=a.Function,w=a.Listener,x=$I("init.Thread"),y=a.createClass($N("init.Sync"));t.extend(y,{inited:!1,request:d,fix:e,cache:f,read:g,move:h,flag:i,tag:j,defer:k,archive:l,syncRequest:m,letterUpdate:n,letterAllRead:o,letterSetFilter:p,letterRollback:q,addrData:r,init:s})}($,window),function(){function a(){var a=this,b={uid:a.getUid(),vip:a.getVip(),getMobileVip:a.getMobileVip(),pop3:a.getPop3(),defined:a.getDefined(),mobile:a.getMobile(),chinese:a.getChinese(),corpAlias:a.getCorpAlias(),"default":a.getDefault(!0)};return b}function b(){var a=this,b=[];a.getName(),b.push(a.getUid());var c=a.getVip();c&&b.push(c);var d=a.getMobile();d&&b.push(d);var e=a.getChinese();if(e&&b.push(e),c&&d){var f=a.getMobileVip();f&&b.push(f)}var g=a.getPop3();g&&(b=b.concat(g));var h=a.getDefined();if(h&&(b=b.concat(h)),$S("isCorp")){var i=a.getCorpAlias();i&&(b=b.concat(i))}for(var j={},k=[],l=0,m=b.length;m>l;l++){var n=b[l];if(n&&n.address){var o=n.address.toLowerCase();j[o]||(j[o]=!0,k.push(n))}}return k}function c(){var a=$S("showMobileAccountOnly")?$S("uid"):$S("orgUid");return new p(a,this.getName())}function d(){if($S("is188")&&$S("member").is188vip){var a=$S("user")+"@vip.188.com",b=this.getName();return new p(a,b)}return null}function e(){if($S("is188")&&$S("member").is188vip){var a=this.getMobile();if(a){var b=a.address.split("@")[0]+"@vip.188.com",c=a.name;return new p(b,c)}}return null}function f(){var a,b=$S("attrs").popAccounts,c=[];return $.Array.each(b,function(b,d){d.authenticated&&d.delegatedSend&&(a=new p(d.username,d.name),d.smtpHost&&(a.smtp=!0,a.smtpHost=d.smtpHost,a.smtpPort=d.smtpPort,a.smtpUseSSL=d.smtpUseSSL,a.smtpAuth=d.smtpAuth,a.smtpPassword=d.smtpPassword,a.popId=d.id),c.push(a))}),c.length>0?c:null}function g(a){function b(a){if(a&&a.length>0){for(var b=[],c=0;c<a.length;c++){var d=q.getEmails(a[c],"Email").match[0];d?b.push(d):b.push({address:a[c],name:""})}return b}return null}var c=$S("attrs").senders;if(c){var d=b(c.audited);if(a){var e={};return e.audited=d,e.unaudited=b(c.unaudited),e}return d}return null}function h(){var a=null,b=$G.attrs.alias;if(b&&b[0]&&b[0].aliases)for(var c=b[0].aliases,d=0;d<c.length;d++){var e=c[d].id;p.checkMobile(e)&&(a=e)}return!a&&window.$S&&$S("reserveMobile")&&(a=$S("reserveMobile")),a?new p(a,$S("uid")?this.getName():null):null}function i(){var a=null,b=$G.attrs.alias;if(b&&b[0]&&b[0].aliases)for(var c=b[0].aliases,d=0;d<c.length;d++){var e=c[d].id;if(!p.checkMobile(e)){a=e;break}}return a?new p(a,this.getName()):null}function j(){if($S("isCorp")){var a=$G.attrs.alias;if(a&&a[0]&&a[0].aliases){for(var b=[],c=a[0].aliases,d=this.getName(),e=0;e<c.length;e++){var f=new p(c[e].id,d);b.push(f)}return b}}return null}function k(){var a=$S("attrs").user.ntes_defaultsender;if(a){a=a.toLowerCase();for(var b=this.getList(),c=0,d=b.length;d>c;c++)if(b[c].address.toLowerCase()==a)return b[c]}if(a=$S("mobile_sender")||$S("uid"),$S("is188")&&$S("member").is188vip){var e=$.Ud.get({field:"ntes_defaultaccount"});e&&"0"!=e&&(a=$S("user")+"@vip.188.com")}return new p(a,this.getName())}function l(a){var b=this;a=a.toLowerCase();var c=null,d=b.getList();return $.Array.each(d,function(b,d){a==d.address.toLowerCase()&&(c=d)}),c}function m(){return new p($S("uid"),this.getName())}function n(){var a,b=$G.attrs.user,c=b.displaysender,d=b.true_name,e=b.nick_name;a=1==c&&e?e:d||$S("uid").split("@")[0];var f=[String.fromCharCode(92)+String.fromCharCode(92)];return a=a.replace(new RegExp('["/'+f[0]+"]","g"),"")}var o=$.createClass($N("init.SenderList")),p=$.Email,q=$.Uri;$.Object.extend(o,{getAll:a,getList:b,getUid:c,getVip:d,getMobileVip:e,getPop3:f,getDefined:g,getMobile:h,getChinese:i,getCorpAlias:j,getDefault:k,isSender:l,getAccount:m,getName:n})}(),function(a,b){function c(){this.fixInterface(),this.fixName()}function d(){top.Interface=b.Interface={},b.Interface.compose=function(a){$E("interface.ComposeInterface",function(b){b.entry(a)})},b.Interface.syncUdConfig=function(b,c,d){a.Ud.set({field:b,flag:c,value:d,notPost:!0})},b.Interface.addressRefresh=function(a,b){$E("interface.AddressInterface",function(c){c.contactRefresh(a,b)})}}function e(){b.Nav=b.Nav||{},b.Nav.entry=a.Nav.entry,b.Ud=b.Ud||a.Ud;var c=a.createClass($N("util.CustomAppManager"));a.Object.extend(c,$I("init.CustomAppManager"))}var f=a.createClass($N("init.Nut"));a.Object.extend(f,{modules:{pop3:{"interface":"MailCenterInterface"},address:{"interface":"AddressInterface"},pop3_create:{"interface":"MailCenterInterface",param:{type:"create"}},related:{"interface":"MailCenterInterface",method:"related"},related_add:{"interface":"MailCenterInterface",method:"related",param:{type:"add"}},personal:{"interface":"OptionInterface",param:"options.PersonalModule"},folderMain:{"interface":"OptionInterface",param:"options.FolderTagModule"},compose:{"interface":"ComposeInterface"}},init:c,fixInterface:d,fixName:e})}($,window),function(a,b){function c(){function c(a,b){var c=this;return a?"rcmd"==a?c._getDftRcmdHtml(a,b):c._getDftCommonHtml(a,b):!1}function d(a){var b=this,c=b._dftData,d=c[a];if(!d)return!1;var e,f=d.div,g=d.ads;return!f&&g.length>0&&(e=Math.floor(g.length*Math.random()),f=g[e].div||""),f}function e(b,c){var d=this,e=d._dftData,f=e[b],g="6.0"==a.Browser.ie();return c&&"getDft"==c.func?0:g?f.ie6_ads:f.ads}function f(a){var b=this;return a?"readFlash"==a||"close"==a?!1:b.get(a):!1}var g;"undefined"==typeof gAd&&(g=$G.get("promote")||{},b.gAd={bizReady:!1,ready:{},_dftData:g,get:c,getBiz:f,_getDftCommonHtml:d,_getDftRcmdHtml:e})}function d(){var c=$G.environment.promote,d=c.innerAdScript,e=c.bjAdScript;d&&setTimeout(function(){e&&a.Support.loadScript(e,function(){b.gAd.setReady&&b.gAd.setReady(null,"bj")}),a.Support.loadScript(d)},200)}var e=a.createClass($N("init.Promote"));a.Object.extend(e,{init:c,loadAd:d})}($,window),function(a,b,c){function d(){var c=this;v.listen("msgcenter:init",function(){if(a.Ext.msgCenterPush){var d=a("#dvDock .sb0"),e={text:'<b class="nui-ico Bk0"></b><span class="xM1">你收到'+(c.isShowUnread?c.unreadCount:0)+"条通知</span>",icon:{extcls:"sb1"},extcls:"rd1",click:function(){var b=u.module&&"outlink.OutlinkModule"===u.module.mtype&&"msgcenter"===u.module.key;b||$E("interface.AppCenterInterface",function(a){a.goMsgCenter(),c.makeAllPushed()}),c.isDockJump=!1,a.Dock.show()}};a.Array.each(d.doms,function(b,c){var d=a(c);if(d){var f=a.Link.html(e);f='<div class="tQ1">'+f+"</div>",d.find(".nB1").prepend(f),d.hasClass("jX0")?a(c).addClass("ew1"):d.hasClass("nM0")?a(c).addClass("hu1"):a(c).addClass("dZ1")}}),d.doms&&(a.Dock.hasNewsNotify=!0)}!c.hasPushed&&$S("useAppCenter")&&(b.setTimeout(function(){a.MsgCenter.pushMsg()},1e4),c.hasPushed=!0)})}function e(b,c){function d(d){a.Ext.msgCenterPush&&(e.messages=d.messages,e.unreadCount=d.totalUnRead||0,e.updateUnreadCont(),c||e.notify(),e.dockNotify(),b&&b(d))}var e=this,f="pullMessages",g={event:"mc_Notify",limit:0};e._request(f,g,d)}function f(b,c){var d=this,e="markAsPulled";b&&(a.Object.isArray(b)||(b=[b]));var f={msgids:JSON.stringify(b)};d._request(e,f,c)}function g(){var b=this,c=[];b.messages&&b.messages.length>0&&a.Array.each(b.messages,function(a,b){c.push(b.msgId)}),b.messages=[],b.makePushed(c)}function h(b){var d=this;b!==c&&(d.unreadCount=b),b=b||d.unreadCount;var e=a.Component.find("$extcls$rd1");e&&a.Array.each(e,function(a,c){var e=c.getEl(),f=e.find(".unreadCount");f&&f.html(d.isShowUnread?b:0)});var f=a("#spnDockNew");d.isShowUnread&&b>0?f.show():f.hide()}function i(b){var c=this,d=b[0],e=u.module&&"outlink.OutlinkModule"===u.module.mtype&&u.module.appId==d.appId;if(e){var f=r.getApp(d.appId);if(f){var g=JSON.parse(d.msgData)||{},h='<div class="APP-gMsgCenter-msgbox-header"><img class="APP-gMsgCenter-msgbox-header-logo" src="'+a.Support.getAppIconUrl(f.icon+"_75")+'" alt="'+f.text+'">'+'<h2 class="APP-gMsgCenter-msgbox-header-name">'+f.text+"</h2>"+'<ul class="APP-gMsgCenter-msgbox-header-intro">'+'<li class="APP-gMsgCenter-msgbox-header-intro-item">'+(d.title||"")+"</li>"+'<li class="APP-gMsgCenter-msgbox-header-intro-item">更新日期：<span>'+a.Date.format(new Date(d.recieveTime),"yyyy年MM月dd日")+"</span></li>"+"</ul>"+"</div>"+'<div class="APP-gMsgCenter-msgbox-content nui-scroll">'+(g.brief||"")+"<br><br>"+(g.desc||"")+"</div>",i={header:"新消息",extcls:"APP-gMsgCenter-msgbox",content:h,okText:"立即体验",contentType:"custom",cancelText:"查看更多消息通知",ok:function(){},close:function(){},cancel:function(){$E("interface.AppCenterInterface",function(a){a.goMsgCenter()})}};a.Msgbox.show(i),c.readMsg({msgIds:d.msgId});try{c.frameActions.readOneAppMsg()}catch(j){}}}}function j(b,c){function d(b){var d=b.messages,f=[];a.Array.each(d,function(a,b){b.read||f.push(b)}),f.length>0&&e.showMsg(f),c&&c(b)}if(a.Ext.msgCenterPush){var e=this,f="pickMessagesByApp",g={appid:+b};e._request(f,g,d)}}function k(b,c){var d=this,e="readMessage",f=b.appIds,g=b.msgIds,h={};f&&(a.Object.isArray(f)||(f=[f]),a.Array.each(f,function(a,b){f[a]=+b}),h.appids=JSON.stringify(f)),g&&(a.Object.isArray(g)||(g=[g]),a.Array.each(g,function(a,b){g[a]=b+""}),h.msgids=JSON.stringify(g)),d._request(e,h,function(a){c&&c(a)})}function l(c){function d(){f.showMsgTimer=i=b.setTimeout(function(){f.hideMsgTips()},f.msgShowingDuration)}function e(){i&&b.clearTimeout(i)}var f=this,g="dockMsgTips",h=$C(g),i=f.showMsgTimer;if(h&&(e(),h.destroy()),1!==w.get({field:"huodong_option",flag:"dockEnable"})-0){var j=c.appId,k=r.getApp(j),l=!1;(-100===j||-1e3===j)&&(l=!0,k.text="系统消息",k.icon="system_tips");var m=a.Support.getAppIconUrl(k.icon+"_75"),n=JSON.parse(c.msgData)||{},o=c.title,p=n.brief||n.desc,q=a.Link.html({text:"立即查看&gt;&gt;",cls:"nui-txt-link",click:function(){var a=u.module&&"outlink.OutlinkModule"===u.module.mtype&&u.module.appId==j;if(l)if(n.linkUrl&&0===n.linkUrl.indexOf("appcenter")){var b=n.linkUrl.split("|");$E("interface.AppCenterInterface",function(a){var c={};b[1]&&(c.showinfo=b[1]),a.entry(c)})}else $E("interface.AppCenterInterface",function(a){a.goMsgCenter({sysMsg:!0})});else a||r.startApp(j);f.hideMsgTips()}}),s='<div class="APP-dock-tips"><div class="APP-dock-tips-ico"><img src="'+m+'" alt="'+k.text+'"></div>'+'<div class="APP-dock-tips-appname">'+a.String.left(o,18,!0)+"</div>"+'<div class="APP-dock-tips-appdesc">'+a.String.left(p,40,!0)+"</div>"+'<div class="APP-dock-tips-enter">'+q+"</div>"+"</div>";f.msgTips=new a.Layer({content:s,params:"hasArr arrDown hasClose",doNotHide:!0,arrFixX:16,fixY:-145,type:"noPadding",pointTo:a("#dvDock"),listeners:{closeclick:function(){f.hideMsgTips()},mouseover:{handler:function(){e()}},mouseout:{handler:function(){d()}}}}),f.msgTips.render(),d()}}function m(){var a=this;a.msgTips&&a.msgTips.destroy()}function n(){var a=this,c=a.messages;if(a.timer&&b.clearTimeout(a.timer),c.length>0&&a.unreadCount>0){var d=a.getNotifyMsg();if(!d)return;a.showMsgTips(d),a.pushedMsg+=1,a.makePushed(d.msgId);var e=Math.min(a.pushedMsg,a.msgShowingIntervals.length),f=6e4;a.timer=b.setTimeout(function(){a.notify()},a.msgShowingIntervals[e-1]*f)}}function o(){var a=this;a.msgSorted||(a.messages.sort(function(a,b){return a.appId===b.appId?0:-100===a.appId||-1e3===a.appId?-1:-100===b.appId||-1e3===b.appId?1:0}),a.msgSorted=!0);for(var b=a.messages.shift();b&&b.read;)b=a.messages.shift();return b}function p(){var b=this,c=6e4;b.isDockJump&&b.unreadCount>0?(a.Dock.jump(),b.dockTimer=setTimeout(function(){b.dockNotify()},3*c)):b.dockTimer&&clearTimeout(b.dockTimer)}function q(b,c,d){var e=this,f="http://{0}/pushmessager/cmdsvr?cmd={1}&sid={2}&uid={3}",g=c&&c.appcenter;g&&(f="http://{0}/{4}ftentry.do?func={1}&sid={2}&uid={3}",delete c.appcenter);var h=$S("host"),i="appcenter/";$S("isyeah")&&(h=(g?"appcenter":"pushmessager")+".mail."+$S("domain"),i=""),f=a.Support.format(f,h,b,$S("sid"),$S("uid"),i);var j={url:f,postOriginalData:!g,body:c,error:function(){return!0},call:function(a){d&&(a["var"]?d(a["var"]):d(a))}};$S("isyeah")&&(j.type=t.FLASH),e._msgAction.wmsvr(j)}try{var r=$I("init.CustomAppManager")
}catch(s){return s}var t=a.DataAction,u=a.Context,v=a.Listener,w=a.Ud,x=a.createClass($N("init.MsgCenter"));a.MsgCenter=x,a.Object.extend(x,{msgTimeout:1,msgShowingDuration:1e4,msgShowingIntervals:[5,7,11,13,17],pushedMsg:0,messages:[],unreadCount:0,isShowUnread:!0,isDockJump:!0,frameActions:{},init:d,pushMsg:e,makePushed:f,makeAllPushed:g,updateUnreadCont:h,showMsg:i,getUnreadMsg:j,readMsg:k,notify:n,getNotifyMsg:o,dockNotify:p,showMsgTips:l,hideMsgTips:m,_msgAction:new t,_request:q})}($,window),function(a){function b(){try{var b=$L("util.MD5",this)}catch(c){return c}var d={},e=arguments[arguments.length-1];arguments.length>=3?(d.uid=arguments[0],d.size=arguments[1],d.useCache=4===arguments.length&&arguments[2]):2===arguments.length&&(Object.isObject(arguments[0])?d=arguments[0]:d.uid=arguments[0]);var f=this,g=f._cache,h="http://mimg.127.net/p/js6/lib/img/noface.gif",i=d.uid.replace(/@/g,""),j=d.size||32,k=d.useCache;if(d.ignoreErr,!a.Email.checkFree(d.uid))return e(h,!0);try{i=b.encode(i)}catch(c){}var l="http://nos.netease.com/mail-online/"+i+"/mail180x180.jpg?imageView&thumbnail="+j+"x"+j+"&timestamp="+(new Date).getTime();if(k&&i in g)return g[i]?e(l):e(h,!0);if(d.uid===$S("orgUid"))f.has(function(a){g[d.uid]=a,a?e(l):e(h,!0)});else{var m=new Image;m.onload=function(){g[i]=!0,e(l)},m.onerror=function(){g[i]=!1,e(h,!0)},m.src=l}}function c(a){var b=$I("util.Ud"),c="mail.avt";b.getProxy({field:c,call:function(b){return a(!!b[c])}})}var d=a.createClass($N("init.Avatar"));a.Object.extend(d,{_cache:{},get:b,has:c})}($,window),function(a,b,c){function d(){function d(){var c=a.DataAction;c.show=function(){try{a.Tips.loading("加载中..")}catch(b){}},c.hide=function(){try{a.Tips.loading()}catch(b){}},c.lock=function(c,d){var e=this;a.AdvLock.show(function(){b.setTimeout(function(){e.request(d)},500)},"FA_NEED_AUTH2"!=c)},c.mailUnlock=function(a,b){var c=this;$E("product.MailUnlock",function(a){a.unlockMail(function(){c.request(b)},function(){var a=b.data.error;a&&a(b)})})},c.reload=function(){a.Support.relogin()},c.check=function(b){a.Listener.fire("global:network",b),a.Support.checkNetWork(b)},c.error=function(b){try{a.Msgbox.show({title:"请求错误",content:b})}catch(c){}}}function e(){a.Loader.delay(!0),a.Loader.showLoading=function(b){try{a.Tips.loading(b?"加载中..":null)}catch(c){}},a.Loader.fix=function(a){try{if($Fix.fix&&-1===a.indexOf("p/common")){var b=a.split("/js/")[1].split(".")[0];$Fix.fix(b)}}catch(c){}}}a.Listener=$I("core.Listener"),a.Frame=$I("init.Frame"),a.Support=$I("init.Support"),a.Folder=$I("init.Folder"),a.Ext=$I("init.Ext"),a.AppManager=$I("init.CustomAppManager"),a.Nav=$I("init.Nav"),a.MultiTab=$I("init.MultiTab"),a.Dock=$I("init.Dock"),a.AdvLock=$I("init.AdvLock"),a.Notification=$I("util.Notification"),a.SenderList=$I("init.SenderList"),e(),d(),a.JS=new($I("framease.Js6"))({container:"dvContainer"}),a.SM=new($I("framease.Js6"))({container:"dvSubContainer"}),a.Listener.init($G.get("customEvents")),a.Object.extend(a,$I("component")),a.Uri.init($G.get("uriConf"));var f=a.Thread._heartbeat,g=a.Thread._threadSleep;a.Thread._heartbeat=25,a.Thread._threadSleep=0,$I("init.Promote").init(),a.Support.baseInit(),"student"===$G.mailPattern.currentPattern&&(a.Context.defaultModule="mbox.MboxModule"),"qiye.163.com"===$G.environment.domain&&(a.Context.defaultModule="welcome.CorpWelcomeModule"),$S("clientHeight",document.documentElement.clientHeight),$S("clientWidth",document.documentElement.clientWidth),a.Ext.init(),a.Support.init(),$I("init.Sync").init(),a.AppManager.init(),a.AdvLock.init(),"standard"===$G.mailPattern.currentPattern&&(a.Support.loadHomePage(),a.MultiTab.init(!0)),a.Nav.init();try{a.Support.getMarkedContacts(function(b){$S("contactInit")||b&&b.contact&&b.contact.length>0&&($S("firstMarkedContacts",b),a.Nav.addItem("contactMail"))})}catch(h){}a.Dock.init(),a.Thread.run(function(){a.Support.loadMsgbox()}),a.Thread.run(function(){a.Log.configure($G.get("logConf")),$I("init.MsgCenter").init(),$I("init.Nut").init()}),a.Thread._heartbeat=f,a.Thread._threadSleep=g;var i=!1;a(document.body).click(function(){$G.appStarted||i||(i=!0,b.setTimeout(function(){i=!1,$G.appStarted||($G.p1LoadedError===c&&($G.p1LoadedError=!0),a.Event.fire(b,"error"))},6e3))})}function e(){var b=a.Thread._heartbeat,c=a.Thread._threadSleep;if(a.Thread._heartbeat=25,a.Thread._threadSleep=0,a.Loader.delay(!1),a.Loader.flush(),"standard"!==$G.mailPattern.currentPattern&&(a.Support.loadHomePage(),a.MultiTab.init(!0)),a.Object.extend(a,$I("component")),"student"===$G.mailPattern.currentPattern)try{a.Tips.forbidLoading=!0}catch(d){}$S("showHashPage")||"student"!==$G.mailPattern.currentPattern||$S("showDefaultModule")||$E("interface.MboxInterface",function(a){a.entry({fid:1})}),$I("init.Promote").loadAd();try{var e=$S("isCorp")?"support.EntAddressSupport":"support.AddressSupport";$E(e,function(a){a.init()})}catch(d){}a.Thread.run(function(){a.AppManager.getAppsList()}),$S("isCorp")||$I("product.AccountRelate").init(!0,function(){$S("multiAccount:changed",!0)}),a.Thread.run(function(){a.Ext.scheduleMbox&&$E(["product.Schedule"],function(a){a.init()})}),$G.appStarted=!0,$G.cacheClick&&($G.cacheClick(),$G.cacheClick=null),a.Thread.delay(function(){a.Support.monitorZoom()}),a.Thread._heartbeat=b,a.Thread._threadSleep=c,$E("support.Theme",function(a){a.init()}),$S("isCorp")||a.Thread.delay(function(){a.SM.get("address.AddressModule")||a.SM.go({module:"address.AddressModule",noDragbar:!0,reset:!1,parent:"module.ComposeModule",hidden:!0})});try{a.Support.afterMailLoaded()}catch(d){}}var f=a.Object,g=a.getPackage($G.environment.packageName);f.extend(g,{appInit:d,appStart:e})}($,window),function(a){function b(a){function b(a){return a&&a>99&&(a="99+"),a}var c=this,d=c.module,e=(d.view,d.action);if(a){if(a.Folder&&a.Folder.changed){var f=e.getUnread(),g=d.getEl("dvUnreadMailInfo"),h=g.findParent(".gWel-mailInfo-item");f?(h.attr({title:"有"+f+"封未读邮件"}),f=b(f),g.html('未读邮件<span class="gWel-mailInfo-status">'+f+"</span>")):(h.attr({title:"无未读邮件"}),g.html("未读邮件"))}if(a.Contacts&&a.Contacts.changed){var f=e.getContactEmail(),g=d.getEl("dvCntaMailInfo"),h=g.findParent(".gWel-mailInfo-item");f?(h.attr({title:"有"+f+"封未读联系人邮件"}),f=b(f),g.html('联系人邮件<span class="gWel-mailInfo-status">'+f+"</span>")):(h.attr({title:"没有未读联系人邮件"}),g.html("联系人邮件"))}if(a.Defer&&a.Defer.changed){var f=e.getTodo(),g=d.getEl("dvTodoMailInfo"),h=g.findParent(".gWel-mailInfo-item");f?(h.attr({title:"有"+f+"封待办邮件需要处理"}),f=b(f),g.html('待办邮件<span class="gWel-mailInfo-status">'+f+"</span>")):(h.attr({title:"没有需要处理的联系人邮件"}),g.html("待办邮件"))}}}function c(){var a=this,b=a.module,c=b.view,d=b.action;d.getHealth(h.bind(c.renderHealth,c))}function d(){var b=this,c=b.module,d=c.view,e=c.action;a.Ext.avatar_show&&e.getAvatar(h.bind(d.renderAvatar,d))}try{var e=$L("module.BaseListener")}catch(f){return f}var g=a.Object,h=a.Function;a.Array;var i=a.createClass($N("module.welcome.WelcomeListener"));g.mix(i,e,null,{_listeners:{"sync:request":{handler:b},"sync:cache":{handler:b},"sync:health":{handler:c},"user:avatarChanged":{handler:d}}})}($,window),function(a,b){function c(a){a()}function d(b){a.Ud.getProxy({field:["product.androidMailMaster","product.iosMailMaster","product.androidMail","product.iosMail"],call:function(c){var d=!1;a.Object.each(c,function(b,c){return c?(d=!0,a.BREAK):void 0});var e=a.Uri.getUrl("welcome_master"),f=a.Uri.getUrl("welcome_yanxuan");b(d?f:e)}})}function e(){var a=this;return a.module,gAd.get("greet")+(!gAd.getGreetImg||$S("ad")&&"ud"===$S("ad").userType?"":gAd.getGreetImg())}function f(b,c){function d(a){var b=a.cnPm25Aqi;return b&&(a.aqi=a.aqi||{},b.pmUs?(a.aqi.from="来源:美使馆",a.aqi.pm=b.pmUs,a.aqi.aqi=b.aqiUs):(a.aqi.from="来源:环保部",a.aqi.pm=b.pm,a.aqi.aqi=b.aqi),a.aqi.extUrl=b.extUrl),a}var e=this;e.module;var f=a.Uri.getUrl("weather");f=a.String.uriAddParam(f,"city="+b),a.Ajax.jsonp(f,function(b){b.code==a.S_OK&&c(d(b.data))})}function g(a){var b=this;b.module,Q.set({field:"app_city",value:a})}function h(b){function c(a){var b={},c={};return P.each(a,function(a,d){var e=d.c,f=d.pr;d.ct&&(f="国外城市"),c[e]||(c[e]={}),c[e][d.a]=d,b[f]||(b[f]={}),b[f][e]||(b[f][e]=c[e])}),O.each(b,function(a,c){var d=0;for(var e in c)d++;1==d&&e==a&&(b[a]=c[e])}),b}var d=this;d.module,$G.CITYLIST?b&&b(c($G.CITYLIST)):a.Ajax.request({requestType:a.Ajax.SCRIPT,url:a.Uri.getUrl("cityMap"),call:function(){b&&b(c($G.CITYLIST))}})}function i(b){var c=this;c.module,a.Ajax.request({url:a.Uri.getUrl("optimizer_getdetail"),requestType:a.Ajax.SCRIPT,paddingFunc:function(a){b(a.data)}})}function j(){return $I("init.Folder").getTotal("unread")}function k(){return $I("init.Contacts").getUnread()}function l(){return $I("init.Defer").getInfo("expire")}function m(){}function n(){var a=this;a.module;var b=!($S("ad").show===!1&&"ud"==$S("ad").userType),c=[];try{b&&gAd.ready.rcmd&&(c=gAd.get("rcmd"))}catch(d){}return c}function o(){var a=this;a.module;var b=!($S("ad").show===!1&&"ud"==$S("ad").userType);return b&&gAd.ready.welBanner?{html:$S("ad").show?gAd.getBiz("welBanner"):gAd.get("welBanner")}:null}function p(){var a=this;return a.module,{html:gAd.get("welWeather")}}function q(){var a=this;a.module;var b=[];return b[b.length]='<div class="item">'+gAd.get("welBottom1")+"</div>",b[b.length]='<div class="item">'+gAd.get("welBottom2")+"</div>",b[b.length]='<div class="item">'+gAd.get("welBottom5")+"</div>",b[b.length]='<div class="item">'+gAd.get("welBottom3")+"</div>",b[b.length]='<div class="item">'+gAd.get("welBottom4")+"</div>",{html:b.join("")}}function r(){function c(){var a=[{key:"pinle",value:20},{key:"yfl",value:20},{key:"world",value:20},{key:"life",value:20},{key:"buy",value:20}];return b.BG||(a=[{key:"pinle",value:35},{key:"yfl",value:15},{key:"world",value:15},{key:"life",value:20},{key:"buy",value:15}]),a}var d,e=this,f=e.module;try{var g=a.Ud.get({field:"ntes_buzz",flag:"tabdef"});d=[{tabid:"mailrecom",text:"邮推荐",img:"http://mimg.127.net/ggimg/all/img17/131119_js6_wel1.jpg",type:"panel",info:e.getRecommend(),udflag:"tab0",mode:"fixed",defflag:"0"},{tabid:"life",text:"限时购",img:"http://mimg.127.net/ggimg/all/img19/170328_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("xsg"),udflag:"tab2",defflag:"2"},{tabid:"pinle",text:"拼团购",img:"http://mimg.127.net/ggimg/all/img19/140414_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("pinle"),udflag:"tab14",defflag:"e"},{tabid:"yfl",text:"邮福利",img:"http://mimg.127.net/ggimg/all/img19/150506_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("yfl"),udflag:"tab13",defflag:"d"},{tabid:"world",text:"看世界",img:"http://mimg.127.net/ggimg/all/img17/131119_js6_wel2.jpg",type:"iframe",info:R.IFRAME_URL.world,udflag:"tab1",defflag:"1"},{tabid:"buy",text:"乐网购",img:"http://mimg.127.net/ggimg/all/img17/131119_js6_wel4.jpg",type:"panel",info:e._getHappyBuyData(),udflag:"tab3",defflag:"3"},{tabid:"game",text:"爱游戏",img:"http://mimg.127.net/ggimg/all/img19/150120_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("game"),udflag:"tab12",defflag:"c"},{tabid:"caipiao",text:"买彩票",img:"http://mimg.127.net/ggimg/all/img17/131119_js6_wel5.jpg",type:"iframe",info:e._getIframeUrl("caipiao"),udflag:"tab4",defflag:"4"},{tabid:"t163",text:"识君子",img:"http://mimg.127.net/ggimg/all/img18/140506_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("t163"),udflag:"tab5",defflag:"5"},{tabid:"story",text:"读小说",img:"http://mimg.127.net/ggimg/all/img17/131119_js6_wel7.jpg",type:"iframe",info:e._getIframeUrl("story"),udflag:"tab6",defflag:"6"},{tabid:"lofter",text:"Lofter",img:"http://mimg.127.net/ggimg/all/img17/131119_js6_wel3.jpg",type:"iframe",info:e._getIframeUrl("lofter"),udflag:"tab7",defflag:"7"},{tabid:"study",text:"爱学习",img:"http://mimg.127.net/ggimg/all/img18/140505_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("study"),udflag:"tab8",defflag:"8"},{tabid:"bobo",text:"美女秀",img:"http://mimg.127.net/ggimg/all/img19/140710_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("bobo"),udflag:"tab9",defflag:"9"},{tabid:"huoche",text:"火车票",img:"http://mimg.127.net/ggimg/all/img19/140829_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("huoche"),udflag:"tab10",defflag:"a"},{tabid:"cc",text:"看直播",img:"http://mimg.127.net/ggimg/all/img19/141209_js6_wel.jpg",type:"iframe",info:e._getIframeUrl("cc"),udflag:"tab11",defflag:"b"}];for(var h=0,i=!1,j=0;j<d.length;j++){var k=d[j].udflag,l="0"==Q.get({field:"ntes_buzz",flag:k});("tab7"==k||"tab8"==k||"tab9"==k||"tab10"==k||"tab11"==k||"tab12"==k)&&(l="1"==Q.get({field:"ntes_buzz",flag:k})),("tab13"==k||"tab14"==k)&&(l="0"==Q.get({field:"ntes_compose",flag:k})),g==d[j].defflag&&(i=!0),l&&6>h?(h++,d[j].show=l):(l&&(f._forceSetNoShow||(f._forceSetNoShow=[]),a.Array.has(f._forceSetNoShow,k)||f._forceSetNoShow.push(k)),d[j].show=!1)}d[5].info=e._getHappyBuyData(d[7].show)}catch(m){}"9"==Q.get({field:"ntes_inbox",flag:"welcome_tab"})&&(d[5].def||d[7].def)&&Q.set({field:"ntes_buzz",flag:"tabdef",value:"0"});for(var n=[],o=[],j=0;j<d.length;j++)d[j].show?n.push(d[j]):o.push(d[j]);return e.fixConfigTab(n,c()),{all:d,show:n,wait:o}}function s(a,b){for(var c,d=b,e=100*Math.random(),f=0,g=0;g<d.length;g++){var h=d[g];if(f+=h.value,f>e){c=d[g].key;break}}for(var i=!1,j=!1,g=0;g<a.length;g++)if("pinle"==a[g].tabid&&(i=!0),a[g].tabid==c){a[g].def=!0,j=!0;break}j||(i?a[1].def=!0:a[0].def=!0)}function t(b){var c=this;c.module;var d,e,f=0,g=a.Cookie.get("P_INFO",!0);if(g)try{var h=g.split("|");if(h[0]==$S("orgUid")){var i=h[5],j=i.split("#"),k=j[0],l=k.split("&");d=a.LOGIN_PROVINCE[l[0]]||"未知地区",e=a.LOGIN_PRODUCT[l[2]]||"未知产品";var m=j[2];("0"==m||"01"==m||"02"==m)&&(f=$S("is163")&&"163邮箱"==e||$S("is126")&&"126邮箱"==e||$S("isyeah")&&"yeah邮箱"==e||$S("is188")&&"188邮箱"==e||$S("isvip")&&"vip邮箱"==e?1:2)}}catch(n){}if(!b)return f;if("get"==b){var o,p=parseInt(l[1]+"000",10);if(isNaN(p))o=!1;else{var q=new Date(p);o=!0}return o?{lastDate:q,lastArea:d,lastProduct:e,sign:f}:null}}function u(){var b=this,c=(b.module,!1),d=a.Browser.ie()-0;if(a.Browser.isIE()&&9>d){6>=d&&(c=!0);var e=10,f=100*Math.random();7>=d&&e>f&&(c=!0)}return c}function v(){var a=this;a.module;var b=0,c=!1;try{b=$I("init.Folder").getTotal()}catch(d){}return $G.user.isUnlimit||b>=45e3&&(c=!0),c}function w(){var a=this;a.module;var b={},c=a._getWarnLogin(),d=a._getWarnBrowser(),e=a._getWarn4WLetter();return $S("showingUserGuide")?b:(c&&(b.warnLogin=c),d&&(b.warnBrowser=d),e&&(b.warn4WLetter=e),b)}function x(a){var b=this;b._clearTab(),"tab7"==a||"tab8"==a||"tab9"==a||"tab10"==a||"tab11"==a||"tab12"==a?Q.set({field:"ntes_buzz",flag:a,value:"1"}):"tab13"==a||"tab14"==a?Q.set({field:"ntes_compose",flag:a,value:"0"}):Q.set({field:"ntes_buzz",flag:a,value:"0"})}function y(a){var b=this;b._clearTab(),"tab7"==a||"tab8"==a||"tab9"==a||"tab10"==a||"tab11"==a||"tab12"==a?Q.set({field:"ntes_buzz",flag:a,value:"0"}):"tab13"==a||"tab14"==a?Q.set({field:"ntes_compose",flag:a,value:"1"}):Q.set({field:"ntes_buzz",flag:a,value:"1"})}function z(){var a=this,b=a.module;b._forceSetNoShow&&(P.each(b._forceSetNoShow,function(a,b){Q.set({field:"ntes_buzz",flag:b,value:"1"})}),b._forceSetNoShow=[])}function A(b){function c(a,b){return'<iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" '+(0===b?'src="':'data-url="')+a+'"></iframe>'}var d=this,e=[],f=["1yuan","yx","caipiao_i","vipmail","yxp","kaola"],g="1yuan",h=Q.get({field:"ntes_inbox",flag:"welcome_tab"})+"";switch(h){case"0":break;case"8":break;case"7":g=a.Number.random(10)<5?"vipmail":"caipiao_i";break;case"c":g="kaola";break;case"d":g="yxp"}return b&&"caipiao_i"==g&&(g=0===a.Number.random(2)?"vipmail":"yxp"),f=f.sort(function(a,b){return a==g?-1:b==g?1:0}),P.each(f,function(a,b){e.push({html:c(d._getIframeUrl(b),a)})}),e}function B(){function a(a,b){return'<iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" '+(0===b?'src="':'data-url="')+a+'"></iframe>'}var b=this,c=[],d=["1yuan","yuehui","bobo_i","cc_i"],e="1yuan",f=Q.get({field:"ntes_inbox",flag:"welcome_tab"})+"";switch(f){case"9":case"4":case"a":e="1yuan";break;case"b":e="bobo_i"}return d=d.sort(function(a,b){return a==e?-1:b==e?1:0}),P.each(d,function(d,e){c.push({html:a(b._getIframeUrl(e),d)})}),c}function C(b){return a.Uri.getUrl(R.IFRAME_URL[b])||""}function D(b){function c(){var b=a.Cookie.get("P_INFO",!0),c="";return b&&(c=b.split("|")[5].split("#")[1].split("&")[1]),c}var d=$G.attrs.user,e=d.app_city;if(e)a.Array.has(R.NOCITYCODE,e)&&(e=55591),b(e);else{var f=c();null!==f&&""!==f?this.wmsvr({url:a.Uri.getUrl("urs2city")+"&ursPos="+f,type:a.Ajax.XMLHTTP,call:function(c){c.code==a.S_OK?(e=c["var"].citycode,a.Array.has(R.NOCITYCODE,e)&&(e=55591),b(e)):(e=55591,b(e))},error:function(){return!0}}):(e=55591,b(e))}}function E(a){var b=$I("init.Avatar");b.get($S("orgUid"),100,function(b){a(b)})}function F(a){var b=this,c=b.module,d=c.view;$E("product.Club",function(b){b.getJiFen(a,function(){d._manageTips("mobile_pre",!0)})})}function G(b){var c=1==a.Ud.get({field:"huodong_option",flag:"wel_constellation"})-0;if(c){var d=a.Uri.getUrl("welcome_constellation");a.Ajax.jsonp(d,function(a){200==a.code&&b(a.data)})}else b(null)}function H(b,c){var d=this;d._tips?c&&c(d._tips["webmail.js."+b]):this.wmsvr({func:"ntes:udproxy:getAttrs",body:{attrIds:["webmail.js.weltips_constell","webmail.js.weltips_mob"]},call:function(e){e.code==a.S_OK?(d._tips=e["var"],c&&c(d._tips["webmail.js."+b])):d._tips={"webmail.js.weltips_constell":!0,"webmail.js.weltips_mob":!0}},error:function(){return d._tips={"webmail.js.weltips_constell":!0,"webmail.js.weltips_mob":!0},!0}})}function I(b,c){var d=this,e={};e["webmail.js."+b]=c,this.wmsvr({func:"ntes:udproxy:setAttrs",body:{attrs:e},call:function(e){e.code==a.S_OK&&d._tips&&(d._tips["webmail.js."+b]=c)}})}function J(b){var c=a.Uri.getUrl("mailarchive_get");a.Ajax.jsonp(c,function(a){"200"==a.code?b(a.data):b({enable:!1})})}function K(b,c,d){var e=a.Uri.getUrl("mailarchive_set");e+="&mailarchive="+b,a.Ajax.jsonp(e,function(a){"200"==a.code?c():d(a.error)})}function L(b){var c=a.Uri.getUrl("welcome_lofter");c+="&email="+$S("uid")+"&from=mailjs6",a.Ajax.jsonp(c,function(a){b(a)})}try{var M=$L("module.BaseAction")}catch(N){return N}var O=a.Object;a.Function;var P=a.Array,Q=a.Ud,R=a.createClass($N("module.welcome.WelcomeAction"));O.mix(R,M,{IFRAME_URL:{huoche:"http://trip.163.com/web/mail.html",bobo:"http://www.bobo.com/special/mailmnx/",bobo_i:"http://www.bobo.com/special/mailmnxdsh/",cc_i:"http://cc.163.com/page/mailwelcome",cc:"http://cc.163.com/page/mailwelcome/?fromtype=4011&size=big","1yuan":"https://3c.163.com/html/161228_dsh_ai/dsh_ai.htm",yuehui:"http://yh4.yuehui.163.com/mail/getmailwelcomepage.do?ver=6",study:"http://study.163.com/recommend/mailRecommendCoursesV6.htm",world:"http://news.163.com/special/163mail_6?color=003399",lofter:"http://www.lofter.com/mailEntry.do?color=003399&mail60",caipiao_i:"http://qian.mail.163.com/promote/webmail.html",caipiao:"http://caipiao.163.com/mailPromote.html?verionNo=740px&customizetype=customize&color=003399&from=mail10&uid="+$S("orgiUid"),yxp:"http://fa.163.com/ext/popularize/163mail",vipmail:"http://activity.vip.163.com/activity/freemailAD/program.htm",t163:"http://men.163.com/special/shijunzi/",story:"http://yuedu.163.com/special/0021rt/newrecommend.html?color=003399&from=163mail&customizetype=default&uid="+$S("orgiUid"),game:"http://nie.163.com/aiyouxi/",kaola:"http://www.kaola.com/Iframe/email.html",yfl:"http://mail.163.com/dashi/activity/mailwelfare/index.html",pinle:"http://pin.mail.163.com/html/welcomeTab.html",yx:"https://activity.mail.163.com/static/tvYieOMVCX.html",xsg:"https://you.163.com/act/static/cVu7GRWG0N.html?from=web_rk_mail_xsg_0"},NOCITYCODE:[101073,102269,102281,102315,101364,101517,101811,102287,100306,102241,101111,102225,101537,101239,100474,101071,56080,100029,102226,101749,102285,101952,101645,102219,100129,54292,102290,100121,102291,100208,102137,102314,102282,100860,102136,102286,96315,100794,101283,102283,57278,101494,100128,101933,100601,59997,102047,101563,101910,47108,101908,101361]},{init:c,getGreet:e,getAvatar:E,getWeather:f,getConstellation:G,setPos:g,getCityMap:h,getHealth:i,getUnread:j,getNotification:m,getTodo:l,getContactEmail:k,getRecommend:n,getRightAd:o,getRecommendLeftIframe:d,getRightWeatherAd:p,getWelBottom:q,getConfigTabs:r,fixConfigTab:s,getClubJiFen:F,getLofter:L,_getLifeData:B,_getHappyBuyData:A,_getIframeUrl:C,addTab:x,removeTab:y,_clearTab:z,_getWarnLogin:t,_getWarnBrowser:u,_getWarn4WLetter:v,getWarn:w,getTips:H,setTips:I,getCityCode:D,getMailArchive:J,setMailArchive:K})}($,window),function(a,b,c){function d(){}function e(){var a=this,b=a.module,c=[];return c[c.length]='<div class="gWel-inner">',c[c.length]='<div class="gWel-tips" style="display:none" id="'+b.createId("dvWarnTips")+'"></div>',c[c.length]=a._getTopHtml(),c[c.length]='<div class="gWel-bottom">',c[c.length]='<div class="gWel-tabs"><div class="gWel-tabs-promt sI0 En0" style="display:none" id="'+b.createId("dvTabsPromt")+'"></div><div  id="'+b.createId("dvTabs")+'"></div></div>',c[c.length]='<div class="gWel-promt En0" id="'+b.createId("dvPrmot")+'"></div>',c[c.length]="</div></div>",b.log("welcome","show","1"),a.addHeader(!1,c.join(""),"frame-main-cont-body-noToolbar")}function f(){function b(b,c,d){c&&c>99&&(c="99+");var e='<li class="gWel-mailInfo-item '+(d.extcls||"")+'" title="'+(d.title||"")+'" tabindex="0" >'+'<div class="gWel-mailInfo-ico">'+(d.iconHtml||"")+"</div>"+'<div class="gWel-mailInfo-txt" id="'+h.createId("dv"+d.type+"MailInfo")+'">'+b+(c?'<span class="gWel-mailInfo-status">'+c+"</span>":"")+"</div>"+"</li>";return a.Component.html({html:e,listeners:{click:{handler:d.click},focus:{handler:function(){a(this).addClass("gWel-mailInfo-item-hover")}},blur:{handler:function(){a(this).removeClass("gWel-mailInfo-item-hover")}},mouseover:{handler:function(){a(this).addClass("gWel-mailInfo-item-hover")}},mouseout:{handler:function(){a(this).removeClass("gWel-mailInfo-item-hover")}}}})}function c(){var a='<li class="gWel-mailInfo-item" id="'+h.createId("dvHealth")+'"></li>';return a}function d(){var b=a.Component.find("#"+h.createId("compTrueName")),c=b.getValue();""!==c?(a.Ud.set({field:"true_name",value:c}),a.Listener.fire("options:personalModify",[{field:"true_name",value:c}])):(c=k,b.setValue(a.String.encodeHTML(k))),h.getEl("dvGreetName").html(a.String.encodeHTML(c)),h.getEl("dvGreet").removeClass("gWel-greet-edit")}function e(){var b=a.Component.find("#"+h.createId("compTrueName"));h.getEl("dvGreet").removeClass("gWel-greet-edit"),b.setValue(a.String.encodeHTML(k))}var f,g=this,h=g.module,i=h.action,j=$G.attrs.user,k=j.true_name||j.nick_name||a.Uri.getDefaultName($S("uid")),l='<span class="gWel-greet-trueName" title="点击编辑"><span id="'+h.createId("dvGreetName")+'">'+a.String.encodeHTML(k)+"</span>"+'<span class="gWel-greet-split">'+'<span class="gWel-greet-split-dot">，</span>'+'<b class="gWel-greet-split-icon nui-ico nui-ico-edit"></b>'+"</span>"+"</span>";return f='<div class="gWel-top '+(a.Ext.avatar_show?"gWel-top-hasAvatar":"")+'">'+'<div class="gWel-avatar" id="'+h.createId("dvAvatar")+'">'+"</div>"+'<div class="gWel-greet" tabindex="0" id="'+h.createId("dvGreet")+'">'+a.Component.html({html:l,listeners:{click:{handler:function(){h.log("name","edit",1),h.getEl("dvGreet").addClass("gWel-greet-edit")}},keyup:{handler:function(){var b=a.Event.getEvent();13==b.keyCode&&(h.log("name","edit",1),h.getEl("dvGreet").addClass("gWel-greet-edit"),a.Component.find(h.createId("compTrueName"))&&a.Component.find(h.createId("compTrueName")).select())}},focus:{handler:function(){a(this).addClass("gWel-greet-trueName-hover")}},blur:{handler:function(){a(this).removeClass("gWel-greet-trueName-hover")}},mouseover:{handler:function(){a(this).addClass("gWel-greet-trueName-hover")}},mouseout:{handler:function(){a(this).removeClass("gWel-greet-trueName-hover")}}}})+'<div class="wg0">'+a.Input.html({value:k,id:h.createId("compTrueName"),maxLength:30,keyup:function(){var b=a.Event.getEvent();13==b.keyCode?d():27==b.keyCode&&e()}})+a.Button.html({extcls:"vN0",icon:"done",title:"确认修改",click:d})+a.Button.html({extcls:"uY1",icon:"cancel",title:"取消修改",click:e})+"</div>"+'<span class="gWel-greet-text" id="'+h.createId("dvGreetText")+'">你好</span>'+"</div>"+'<div class="gWel-mailInfo" id="'+h.createId("dvMailInfo")+'">'+'<ul class="gWel-mailInfo-list">'+b("未读邮件",i.getUnread(),{click:function(){$E("interface.MboxInterface",function(a){a.entry({filter:{flags:{read:!1}}})}),h.log("unread","click",1)},extcls:"gWel-mailInfo-unread",iconHtml:'<b class="nui-ico gWel-ico gWel-ico-unread-top"></b><b class="nui-ico gWel-ico gWel-ico-unread-letter"></b><b class="nui-ico gWel-ico gWel-ico-unread-bottom"></b>',type:"Unread",title:0===i.getUnread()?"无未读邮件":"有"+i.getUnread()+"封未读邮件"})+b("待办邮件",i.getTodo(),{click:function(){$E("interface.MboxInterface",function(a){a.defer()}),h.log("todo","click",1)},extcls:"gWel-mailInfo-todo",iconHtml:'<b class="nui-ico gWel-ico gWel-ico-todo"></b><b class="nui-ico gWel-ico gWel-ico-todo-lhand"></b><b class="nui-ico gWel-ico gWel-ico-todo-shand"></b>',type:"Todo",title:0===i.getTodo()?"没有需要处理的待办邮件":"有"+i.getTodo()+"封待办邮件需要处理"})+b("联系人邮件",i.getContactEmail(),{click:function(){$E("interface.MboxInterface",function(a){a.emails()}),h.log("cnta","click",1)},extcls:"gWel-mailInfo-cnta",iconHtml:'<b class="nui-ico gWel-ico gWel-ico-cnta"></b><b class="nui-ico gWel-ico gWel-ico-cnta-star"></b>',type:"Cnta",title:0===i.getContactEmail()?"没有未读联系人邮件":"有"+i.getContactEmail()+"封未读联系人邮件"})+'<li style="display:none;" tabindex="0" id="'+h.createId("dvClub")+'"></li>'+c()+($S("isFree")?b("登录保护",0,{click:function(){$E("interface.OptionInterface",function(a){a.entry({module:"MailSecurityModule",linkName:"secondauth"})})},extcls:"gWel-mailInfo-pinle gWel-mailInfo-err",iconHtml:'<b class="nui-ico gWel-ico gWel-ico-pinle" style="background-image: url(\'http://mimg.127.net/ggimg/all/img19/170220_ico_lock.png\');background-position: 0 0;width: 23px;height: 22px;top: 13px;"></b>',type:"pinle",title:"登录保护"}):"")+"</ul>"+"</div>"+'<div class="gWel-weather gWel-weather-default" tabindex="0" id="'+h.createId("dvWeather")+'">'+"</div>"+'<div class="gWel-weather-promote"><div class="gWel-weather-promote-inner"  id="'+h.createId("dvWeatherPromote")+'"></div></div>'+"</div>"}function g(){var c,d=this,e=d.module,f=e.action,g=[],h=[],i=f.getConfigTabs().all,j=[],k=[],l=0,m=d._parseToObjConfig(i);e._current={};for(var n=0;n<i.length;n++)i[n].show&&(j.push(i[n]),i[n].def&&(c=i[n]));c||(c=m.mailrecom),a.Ud.get({field:"ntes_inbox",flag:"welcome_tab"}),E.each(j,function(b,c){var f="dv"+c.tabid+"panel",g={xtype:"tabitem",text:c.text,img:c.img,nonClose:!0,active:function(){return c.def&&(e.log(c.tabid,"default_show",1),e.log("autoSwitch",c.tabid,1)),c.def}(),extcls:0===b?"gWel-tabs-list-first":"",border:"",listeners:{click:function(){var b=this.getEl(),g=e.getEl("dvTabLocate");g.css({left:b.dom.offsetLeft+"px"}),l++;var h,i=e.getEl(f);i&&(""===i.html()&&(h="iframe"==c.type?d._getIframePanelHtml(c.info):d._getPanelHtml(c.info,c.tabid,{extcls:"buy"==c.tabid||"life"==c.tabid?"gWel-tabs-panel-ctrl-low":""}),i.html(h),"panel"==c.type&&d._initPanelEvent(c.tabid)),e._currentPanelId&&e.getEl(e._currentPanelId)&&e.getEl(e._currentPanelId).removeClass("gWel-tabs-panel-show"),i.addClass("gWel-tabs-panel-show"),e._currentPanelId=f),e._currentTadid=c.tabid;for(var j in this.ownerCt._items){var k=this.ownerCt._items[j];k.getEl().hasClass("nui-txt-cLink")&&k.getEl().removeClass("nui-txt-cLink")}b.addClass("nui-txt-cLink"),"mailrecom"==c.tabid?e.mailRecomInterval("start"):e.mailRecomInterval("stop"),l>1&&!e._alreadyAutoSwitch&&(e._alreadyAutoSwitch=!0),d._addedWorldPanelEvent||e._alreadyAutoSwitch||(d._addedWorldPanelEvent=!0,a.Event.listen(i,"mouseover",function(){e._noAutoSwitch=!0}),a.Event.listen(i,"mouseout",function(){e._noAutoSwitch=!1,e.autoSwitchMailRecom()})),d._firstShowed?e.log(c.tabid,"click",1):d._firstShowed=!0},mouseover:{handler:function(){var b=a(this),c=e.getEl("dvTabPreview");c.css({left:b.dom.offsetLeft+"px"});var d=a.Component.find("#"+b.dom.id);c.find("IMG").dom.src=d.rawConfig.img,c.show()}},mouseout:{handler:function(){a(this);var b=e.getEl("dvTabPreview");b.hide()}}}};k.push(g),h[h.length]='<div class="gWel-tabs-panel '+("mailrecom"==c.tabid||"life"==c.tabid||"pinle"==c.tabid?"":"gWel-tabs-panel-hasBg ")+(c.def?"gWel-tabs-panel-show":"")+'" id="'+e.createId(f)+'"></div>'});var o=$I("util.Misc").getTime(),p=!0,q=new Date;q.setFullYear(2014),q.setMonth(7),q.setDate(12);var r=new Date;r.setFullYear(2014),r.setMonth(7),r.setDate(15),$S("isFree")&&($S("is163")?o.getTime()>r.getTime()&&(p=!1):o.getTime()>q.getTime()&&(p=!1)),k.push({xtype:"tabitem",extcls:"gWel-tabs-list-ext-new gWel-tabs-list-ext2",text:a.Link.html({extcls:"opt",icon:"option",attrs:'aria-haspopup="true"',title:"选项卡定制"}),click:function(){d.configTabs(),e.log("tabConfig","click",1),e._dragSetting()}}),p&&k.push({xtype:"tabitem",extcls:"gWel-tabs-list-ext2-new",text:a.Link.html({extcls:"nui-txt-link",text:"有奖调研",click:function(){b.open("http://survey2.163.com/html/mailuser_surveyofwebandapp/cover.html","_blank")}})}),g[g.length]='<div class="gWel-tabs-list">',g.push('<div id="'+e.createId("dvTabPreview")+'" class="preview" style="left:279px;display: none;"><div class="border"></div><img width="140" height="84" /></div>'),g[g.length]='<div class="gWel-tabs-list-bg"></div><div class="locate nui-txt-cLink" id="'+e.createId("dvTabLocate")+'" style="left:0;margin-left: 25px;"><b class="locate-inner">●</b>',g[g.length]="</div>",g[g.length]=a.Tab.html({id:e.createId("compWelcomeTab"),type:"common",hasClose:!1,items:k}),g[g.length]="</div>",g[g.length]=h.join(""),e.getEl("dvTabs").html(g.join("")),a.Component.setEvents()}function h(c,d){function e(c,d){var e,f,g=G.WEATHER_DICT,h="http://mimg.127.net/p/js6/lib/img/weather/";if(h+="big"==d?"100x100/":"64x64/",g[c])e=c;else for(var i in g){var j=g[i];if(j instanceof b.Array&&a.Array.has(j,c)){e=i;break}}return e||(e="00"),h+=e+".png",f=F?"background:0;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+h+"');":"background-image: url("+h+");"}function f(a){var b="";return a>300?b="严重污染":300>=a&&a>=201?b="重度污染":200>=a&&a>=151?b="中度污染":150>=a&&a>=101?b="轻度污染":100>=a&&a>=51?b="良":50>=a&&a>=0&&(b="优"),b+"/"+a}function g(a){var b={"05":"雨伴冰雹",11:"大暴雨",24:"大暴雨",12:"特大暴雨",25:"特大暴雨"};return a.code in b?b[a.code]:a.value}function h(a){var b=$I("util.Misc").getTime();return b.getFullYear()!=a.getFullYear()?!1:b.getMonth()!=a.getMonth()?!1:b.getDay()!=a.getDay()?!1:!0}var i=this,j=i.module,k=j.action,l=[],m=j.getEl("dvWeather"),n=d.publishTime,o=n.slice(6,8)-0,p=new Date(n.slice(0,4),n.slice(4,6)-1,o),q=d.city,r=d.info;if(h(p)||r.shift(),l[l.length]='<div class="gWel-weather-wrapper">',l[l.length]='<div class="gWel-weather-address">'+a.Link.html({title:"切换城市",text:q.areaCnName+'<span class="address-edit"><b class=" nui-ico nui-ico-edit"></b></span>',extcls:"address-txt nui-txt-link",click:function(){j.showWeatherConfig(),j.log("weather_config","click",1)}})+'<span class="address-date">'+a.Date.format(p,"M月d日 ")+(d.lunar?"农历"+d.lunar:"")+" </span>"+"</div>",l[l.length]=' <div class="gWel-weather-info">',E.each(r,function(b,c){var d=c.weatherDay?c.weatherDay.code:c.weatherNight.code,f=c.weatherNight.code,h="",i=g(c.weatherDay?c.weatherDay:c.weatherNight);if(d!=f&&(h="转"+c.weatherNight.value),b>2)return a.CONTINUE;var j,k;0===b?(j="今天",k="today"):1==b?(j="明天",k="tommorow"):2==b&&(j="后天",k="tommorow last");var m=new Date(n.slice(0,4),n.slice(4,6)-1,o+b);l[l.length]='<div class="'+k+'">'+'<div class="date">'+j+'<span class="week">(周'+a.Date.getWeek(m)+") </span></div>"+'<div class="icon">'+'<img src="http://mimg.127.net/p/t.gif" style="'+e(d,0===b?"big":"small")+'" />'+" </div>"+'<div class="temp">'+'<span class="desc">'+i+"&nbsp;</span>"+(c.tempDay?c.tempDay+"℃～"+c.tempNight+"℃":c.tempNight+"℃")+"</div>"+'<div class="desc"> '+i+"</div>"+"</div>"
}),l[l.length]="</div>",l[l.length]='<div class="'+(a.Ext.constellation_show?"gWel-weather-footer":"gWel-weather-footer-old")+'">'+'<div class="quality">'+(d.aqi?'<span class="name">空气质量：</span><span class="cont">'+f(d.aqi.aqi)+"</span>":"")+(d.aqi&&d.aqi.from?a.Link.html({title:d.aqi.from,text:d.aqi.from,cls:"nui-txt-link from",click:function(){b.open(d.aqi.extUrl),j.log("weather","aqi_from",1)}}):"")+"</div>"+'<div class="more">'+a.Link.html({title:"查看未来7天天气",text:"查看未来7天天气>",cls:"nui-txt-link",click:function(){b.open(d.extUrl),j.log("weather","show7",1)}})+"</div>"+"</div>",a.Ext.constellation_show&&(l[l.length]='<div class="gWel-weather-lucky" id="'+j.createId("dvConstellation")+'"></div>'),l[l.length]="</div>",l[l.length]='<div class="gWel-weather-area" id="'+j.createId("dvWeatherConfig")+'" style="display:none;"></div>',m.html(l.join("")),a.Component.setEvents(),c&&(m.addClass("gWel-weather-expand"),m.removeClass("gWel-weather-default")),!i._initWeatherEvent){var s=function(){i.weatherTimeout=b.setTimeout(function(){m.addClass("gWel-weather-expand"),m.removeClass("gWel-weather-default"),j.log("weather","expend_show",1),i.weatherTimeout=null,i._tipLayer&&i._tipLayer.hide()},500)},t=function(){return i.weatherTimeout?(b.clearTimeout(i.weatherTimeout),void 0):(i._showWeatherConfig||(m.removeClass("gWel-weather-expand"),m.addClass("gWel-weather-default")),void 0)};m.mouseenter(s),m.focus(s),m.mouseleave(t),m.blur(t),i._initWeatherEvent=!0}a.Ext.constellation_show&&k.getConstellation(D.bind(i.renderConstellation,i))}function i(b){function c(){var a=$G.attrs.user,c=a.app_city;for(var d in b){var e=b[d];for(var f in e)if(e[f]==c)return{provice:d,city:f,cityCode:c}}return null}function d(){g.hide(),e._showWeatherConfig=!1,f.getEl("dvWeather").removeClass("gWel-weather-expand"),f.getEl("dvWeather").addClass("gWel-weather-default")}var e=this,f=e.module,g=f.getEl("dvWeatherConfig");c(),e._showWeatherConfig=!0;var h=[];h[h.length]='<div class="gWel-weather-area-header">',h[h.length]=a.Tab.html({id:f.createId("compWeatherTab"),type:"common",hasClose:!1,items:[{xtype:"tabitem",text:"请选择"+a.Icon.html({type:"unfold"}),active:!0,skipDbClick:!0,click:function(){var c=f.getEl("dvWeatherProvice"),d=f.getEl("dvWeatherCity"),g=f.getEl("dvWeatherCounty"),h=a.Component.find("#"+f.createId("compWeatherCountyItem")),i=[],j=this;if(""===c.html()){for(var k in b)i[i.length]='<li class="item">'+a.Link.html({text:k,extcls:"nui-txt-cLink",click:function(){var b=a.Component.find("#"+f.createId("compWeatherCityItem")),c=this.getText();e._weatherProvice=c,j.setText(c+a.Icon.html({type:"unfold"})),b.show(),a.Component.find("#"+f.createId("compWeatherTab")).active(1)}})+"</li>";c.html(i.join(""))}h&&h.hide(),d.hide(),g.hide(),c.show()}},{xtype:"tabitem",id:f.createId("compWeatherCityItem"),hidden:!0,skipDbClick:!0,text:"请选择"+a.Icon.html({type:"unfold"}),click:function(){var c=f.getEl("dvWeatherProvice"),d=f.getEl("dvWeatherCity"),h=f.getEl("dvWeatherCounty"),i=[],j=this;e._weatherProvice=e._weatherProvice||"北京";var k=b[e._weatherProvice];for(var l in k)i[i.length]='<li class="item">'+a.Link.html({text:l,extcls:"nui-txt-cLink",click:function(){var b=this.getText();if(e._weatherCity=b,k[l].nc)f.setWeatherPos(k[b].nc),g.hide();else{j.setText(b+a.Icon.html({type:"unfold"}));var c=a.Component.find("#"+f.createId("compWeatherTab"));a.Component.find("#"+f.createId("compWeatherCountyItem")).show(),c.active(2)}}})+"</li>";d.html(i.join("")),a.Component.setEvents(),c.hide(),h.hide(),d.show()}},{xtype:"tabitem",id:f.createId("compWeatherCountyItem"),hidden:!0,skipDbClick:!0,text:"请选择"+a.Icon.html({type:"unfold"}),click:function(){var c=f.getEl("dvWeatherProvice"),d=f.getEl("dvWeatherCity"),h=f.getEl("dvWeatherCounty"),i=[],j=b[e._weatherProvice][e._weatherCity];for(var k in j)i[i.length]='<li class="item">'+a.Link.html({text:k,extcls:"nui-txt-cLink",click:function(){var a=this.getText();e._weatherCounty=a,f.setWeatherPos(j[a].nc),g.hide()}})+"</li>";h.html(i.join("")),a.Component.setEvents(),c.hide(),d.hide(),h.show()}},{xtype:"tabitem",extcls:"ext",skipDbClick:!0,text:a.Link.html({icon:"x",click:function(){g.hide()}})}]}),h[h.length]="</div>",h[h.length]='<div class="gWel-weather-area-main"><ul class="list" id="'+f.createId("dvWeatherProvice")+'"></ul>	'+'<ul class="list" style="display:none;" id="'+f.createId("dvWeatherCity")+'"></ul>'+'<ul class="list" style="display:none;" id="'+f.createId("dvWeatherCounty")+'"></ul>'+"</div>",g.html(h.join("")),a.Component.setEvents(),g.show(),a(document.body).listen("keyup",function(a){27==a.keyCode&&d()}),a(document.body).listen("click",function(b){var c=a.Event.getTarget(b);a(c).findParent("#"+f.createId("dvWeatherConfig"))||d()})}function j(b,c){var d=this,e=d.module;try{var f=e.getEl("dvWarnTips"),g='<span class="gWel-tips-icon"><b class="gWel-ico"></b></span><span class="gWel-tips-txt">'+c+"</span>"+a.Link.html({icon:"close",extcls:"gWel-tips-close",click:function(){f.hide()}});"err"==b?f.addClass("gWel-tips-err"):"alert"==b&&f.addClass("gWel-tips-alert"),f.html(g),f.show(),a.Component.setEvents()}catch(h){}}function k(b,c,d){var e=this,f=e.module,g=[],h=[],i=[],j=0;"mailrecom"==c&&(j=gAd.get("rcmd",{func:"getDft"})>0?gAd.get("rcmd",{func:"getDft"})-1:0),g[g.length]='<div class="gWel-tabs-panel-cont" id="'+f.createId("dv"+c+"PanelCont")+'">';for(var k=0;k<b.length;k++){var l=b[k].html;h.push('<div class="item '+(k===j?"item-show":"")+'" data-index="'+k+'">'+("mailrecom"==c&&k!==j?"":l)+"</div>"),i.push('<a href="javascript:void(0);" hidefocus="hidefocus" class="item '+(k===j?"item-on":"")+'" data-index="'+k+'"><b class="gWel-ico"></b></a>')}if(g[g.length]=h.join(""),g[g.length]='</div><div class="gWel-tabs-panel-ctrl '+(d.extcls||"")+'" tabindex="-1" id="'+f.createId("dv"+c+"PanelCtrl")+'">',g[g.length]=i.join("")+"</div>","mailrecom"==c){a.Uri.getUrl("welcome_master");var m=a.Uri.getUrl("welcome_duobao");a.Uri.getUrl("welcome_yanxuan");var n="http://qian.163.com/promote/web_promote.html",o='<div class="gWel-promote-iframe"><div class="bg"></div><iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" id="welcomeRecommedLeftIframe" src=""></iframe></div><div class="gWel-promote-iframe gWel-promote-iframe-right"><div class="bg"></div><iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" src="'+m+'"></iframe>'+"</div>";document.documentElement.clientWidth>1700&&(o+='<div id="'+f.createId("dvMoney")+'" class="gWel-promote-iframe" style="left:820px;">'+'<div class="bg"></div>'+'<iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" src="'+n+'"></iframe>'+"</div>"),g[g.length]=o}return f._current[c]=j,g.join("")}function l(b){var c=this,d=c.module,e=d.getEl("dv"+b+"PanelCont"),f=d.getEl("dv"+b+"PanelCtrl");e&&f&&(a.Event.live({context:f,selector:".item",event:"click",handler:function(e,f){var g=f.currentTarget;c.switchPanel(g,b),"mailrecom"==b&&(d.mailRecomInterval("stop"),d.log("mailrecom","click",1)),a.Event.stop(e)}}),"mailrecom"==b&&(a.Event.listen(e,"mouseover",function(){d.mailRecomInterval("stop")}),a.Event.listen(e,"mouseout",function(){d.mailRecomInterval("start")}),a.Event.live({context:e,selector:".item div",event:"click",handler:function(a,b){var c=b.currentTarget,e=c.parentNode.getAttribute("data-index");d.log("mailrecom_"+e,"click",1)}})))}function m(a){var b,c=this;return c.module,b='<div class="gWel-tabs-panel-cont"><iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" src="'+a+'">正在加载...</iframe>'+"</div>"}function n(){var b=this,c=b.module,d=c.action,e=[],f=d.getConfigTabs();f.all;var g=f.show,h=f.wait,i=[],j=[];if(g.length<6){var k={tabid:"new",text:"新增",show:!0,img:"",mode:"new"};g.push(k)}c._bIsChangeTab=!1,e[e.length]='<div class="nui-mask gWel-option-mask " id="'+c.createId("dvConfigMask")+'"></div>',e[e.length]='<div class="gWel-option " id="'+c.createId("dvConfigTabs")+'"> <div class="gWel-option-inner">',e[e.length]='<div class="gWel-tips gWel-tips-center gWel-tips-err" id="'+c.createId("dvConfigTips")+'" style="display:none"></div>',e[e.length]='<div class="gWel-option-list">',e[e.length]='<div id="'+c.createId("dvWelcomeConfigShow")+'" >',E.each(g,function(b,c){var d=new a.WelcomeItem(c);i.push(d),e[e.length]=d.html()}),e[e.length]="</div>",e[e.length]=' <div id="'+c.createId("dvWelcomeConfigLine")+'" class="list-title">'+'<div class="line line-left"></div>'+'<div class="text"><span class="w-drag"><b class="w-drag-ln1">&nbsp;</b><b class="w-drag-ln2">&nbsp;</b><b class="w-drag-ln3">&nbsp;</b><b class="w-drag-ln4">&nbsp;</b><b class="w-drag-ln5">&nbsp;</b><b class="w-drag-ln6">&nbsp;</b></span>可拖动下面栏目到常用区</div>'+'<div class="line line-right"></div>'+"</div>",e[e.length]='<div id="'+c.createId("dvWelcomeConfigWait")+'">',E.each(h,function(b,c){var d=new a.WelcomeItem(c);j.push(d),e[e.length]=d.html()}),e[e.length]="</div>",e[e.length]='<div class="item item-proxy" id="'+c.createId("dvItemMoreClose")+'"></div></div>',e[e.length]="</div></div>",a(document.body).append(e.join(""));var l=a("#"+c.createId("dvConfigMask"));l.addClass("gWel-option-mask-show"),setTimeout(function(){var b=a("#"+c.createId("dvConfigTabs"));b.addClass("gWel-option-show")},1),a.Component.setEvents(),b._initConfigTabs()}function o(){function b(){if(a.Browser.chrome()||a.Browser.safari()?(e.removeClass("gWel-option-show"),f.removeClass("gWel-option-mask-show"),setTimeout(function(){e.remove(),f.remove()},200)):(e.remove(),f.remove()),d._bIsChangeTab){var b=!($S("ad").show===!1&&"ud"==$S("ad").userType);c.renderTabHtml(),b||c.renderNoAdRecom(),a.Component.setEvents()}}var c=this,d=c.module,e=a("#"+d.createId("dvConfigTabs")),f=a("#"+d.createId("dvConfigMask")),g=a("#"+d.createId("dvItemMoreClose")),h=a("#"+d.createId("dvConfigTips"));f.listen("click",b),h.listen("click",function(c){h.hasClass("gWel-tips-err")?a.Event.cancelBubble(c):b()}),a(document.body).listen("keyup",function(a){27==a.keyCode&&b()}),e.find(".gWel-option-inner").listen("click",function(b){a.Event.cancelBubble(b)}),g.listen("click",function(){b()}),e.listen("click",function(){b()})}function p(){var b=this,c=b.module,d=a("#"+c.createId("dvConfigTips"));d.hasClass("gWel-tips-err")?(d.html('<span class="gWel-tips-txt"></span>'),d.removeClass("gWel-tips-err")):(d.html('<span class="gWel-tips-icon"><b class="gWel-ico"></b></span><span class="gWel-tips-txt">最多可自定义添加5项</span>'),d.addClass("gWel-tips-err"))}function q(c){var d,e=this,f=e.module,g=(f.action,""),h=!1,i=f.getEl("dvHealth"),j="您还未体检过，请点击进行体检。",k=$I("init.SenderList"),l=!1;if(c instanceof b.Object){var m=c.mark,n=$I("util.Misc").getTime(),o=new Date(c.lastChkDate),p=Math.round((n.getTime()-o.getTime())/864e5);j=p>30?"您的邮箱已经"+p+"天没有体检，强烈建议您立即体检！":100==m?"您的邮箱很安全，请继续保持并定期体检。":100>m&&m>89?"您的邮箱状态良好，请继续保持并定期体检。":89>=m&&m>59?"您的邮箱存在一些风险，请及时进行体检并修复。":"您的邮箱存在安全隐患，请立即进行体检并修复！",89>=m||p>30?i.addClass("gWel-mailInfo-health-err"):i.addClass("gWel-mailInfo-health-suc"),g='<div><div class="gWel-mailInfo-ico" ><b class="nui-ico gWel-ico gWel-ico-health gWel-ico-health-head '+(m>89&&30>=p?"gWel-ico-health-suc-head":"gWel-ico-health-err-head")+'"></b>'+'<b class="nui-ico gWel-ico gWel-ico-health gWel-ico-health-body '+(m>89&&30>=p?"gWel-ico-health-suc-body":"gWel-ico-health-err-body")+'"></b>'+"</div>"+'<div class="gWel-mailInfo-txt">健康度:'+(p>30?"过期":m)+(c.mobileBinded?"":'<span class="gWel-mailInfo-alert"><b class="nui-ico nui-ico-alert"></b></span>')+"</div></div>",c.mobileBinded||(l=!0,k.getMobile()||(h=!0),f.log("health_no_mobile","show",1))}else l=!0,g='<div><div class="gWel-mailInfo-ico"><b class="nui-ico gWel-ico gWel-ico-health gWel-ico-health-head gWel-ico-health-err-head"></b><b class="nui-ico gWel-ico gWel-ico-health gWel-ico-health-body gWel-ico-health-err-body"></b></div><div class="gWel-mailInfo-txt">健康度</div></div>',i.addClass("gWel-mailInfo-health-err"),k.getMobile()||(h=!0);if(l){var q=a.Cookie.get("mail_health_check_time",!0),r=0;if(null!==q)try{r=parseInt(q,10)}catch(s){r=0}var t=$I("util.Misc").getTime(),u=t.getTime();r>0?2592e5>u-r&&i.addClass("gWel-mailInfo-health-err-flash"):(a.Cookie.set("mail_health_check_time",""+u,{domain:$S("fullDomain"),expires:90}),i.addClass("gWel-mailInfo-health-err-flash"))}i.attr({title:j}),i.html(g),i.listen("click",function(){$E("interface.OptionInterface",function(a){a.entry({module:"LinkModule",linkName:"optimizer_check",exit:!0})}),c.mobileBinded||f.log("health_no_mobile","click",1),f.log("health","click",1)}),d=a.Component.html({html:g,listeners:{click:{handler:function(){$E("interface.OptionInterface",function(a){a.entry({module:"LinkModule",linkName:"optimizer_check",exit:!0})}),c.mobileBinded||f.log("health_no_mobile","click",1),f.log("health","click",1)}},mouseover:{handler:function(){i.addClass("gWel-mailInfo-item-hover")}},mouseout:{handler:function(){i.removeClass("gWel-mailInfo-item-hover")}}}}),i.html(d),a.Component.setEvents(),e._manageTips("mobile",!1)}function r(b,c){var d=this,e=d.module,f=e.action,g=f.getRecommend(),h=e.getEl("dv"+c+"PanelCont"),i=e.getEl("dv"+c+"PanelCtrl"),j=b.getAttribute("data-index")-0;if(i.find("[data-index="+e._current[c]+"]").removeClass("item-on"),h.find("[data-index="+e._current[c]+"]").removeClass("item-show"),"mailrecom"==c){if(""===h.find("[data-index="+j+"]").html()&&g[j]){var k=g[j].html;h.find("[data-index="+j+"]").html(k)}var l=e._current[c];if(g.length>j+1&&(l=j+1),""===h.find("[data-index="+l+"]").html()&&g[l]){var k=g[l].html;h.find("[data-index="+l+"]").html(k)}}else{var m=h.find("[data-index="+j+"] iframe").dom;(null===m.getAttribute("src")||""===m.getAttribute("src"))&&(m.src=m.getAttribute("data-url"))}a(b).addClass("item-on"),h.find("[data-index="+j+"]").addClass("item-show"),e._current[c]=j}function s(){var a,b=this,c=b.module,d=c.action,e="dvmailrecompanel",f=c.getEl(e);c.mailRecomInterval("stop"),a=b._getPanelHtml(d.getRecommend(),"mailrecom",{extcls:"gWel-tabs-panel-ctrl-high"}),f.html(a),b._initPanelEvent("mailrecom"),c.mailRecomInterval("start")}function t(){var b=this,c=b.module;c.action;var d,e="dvmailrecompanel",f=c.getEl(e),g=a.Uri.getUrl("welcome_noAd");d='<div class="gWel-tabs-panel-cont"><iframe allowtransparency="allowTransparency" class="iframe" frameborder="0" scrolling="no" src="'+g+'"></iframe>'+"</div>",f.css({width:"100%",height:"400px"}),f.html(d)}function u(a){var b=this,c=b.module,d=c.action,e='<a href="javascript:void(0);" class="gWel-avatar-inner nui-faceEdit nui-faceEdit-100" ><img src="'+a+'" width="100" height="100"><span class="nui-faceEdit-tips">点击编辑头像</span></a>';c.getEl("dvAvatar").html(e),b._initAvatarEvented||(b._initAvatarEvented=!0,c.getEl("dvAvatar").listen("click",function(){c.log("avatar","click",1),$E("support.OptionSupport",function(a){a.avatarUploader({uploader:function(){d.getAvatar(D.bind(b.renderAvatar,b))},cancel:function(){}})})}))}function v(c){var d=this,e=d.module;e.action;var f,g,h=e.getEl("dvClub");c&&(g='<div class="gWel-mailInfo-ico"><b class="nui-ico gWel-ico gWel-ico-jifen"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-1"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-2"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-3"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-4"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-5"></b><b class="nui-ico gWel-ico gWel-ico-jifen-plus gWel-ico-jifen-plus-6"></b></div>',"0"===c.jibie&&(h.jibie="1"),g+='<div class="gWel-mailInfo-txt">积分:'+c.jifen+"</div>",f=a.Component.html({html:g,listeners:{click:{handler:function(){b.open("http://club.mail.163.com/jifen/ucenter/how2GetJifen.do?from=webmail"),e.log("club","click",1)}},mouseover:{handler:function(){h.addClass("gWel-mailInfo-item-hover"),h.find(".gWel-mailInfo-txt").html("签到赚积分")}},mouseout:{handler:function(){h.removeClass("gWel-mailInfo-item-hover"),h.find(".gWel-mailInfo-txt").html("积分:"+c.jifen)}}}}),h.addClass("gWel-mailInfo-item gWel-mailInfo-jifen gWel-mailInfo-jifen-level"+c.jibie),h.html(f),h.show(),a.Component.setEvents(),d._manageTips("mobile_pre",!0))}function w(b){function c(){$I("util.CustomAppManager").startApp({name:"constellation_outlink",appId:G.CONSTELLATION_ID,text:"每日星座运程",url:"http://yh4.yuehui.163.com/activities/horoscope.do"})}var d=this,e=d.module,f=e.action,g=e.getEl("dvConstellation"),h=[];b?(h[h.length]='<div class="simple"> '+b.constellationName+'运程综合指数<span class="num">'+b.avg+"分</span></div>",h[h.length]='<div class="all">',h[h.length]='<div class="logo"><img src="http://mimg.127.net/p/js6/lib/img/xz/'+(G.COSTELLATION[b.constellationName]||"0")+'.png" class="img"><p class="name">'+b.constellationName+"</p></div>",h[h.length]='<div class="score">'+b.avg+"分</div>",h[h.length]='<div class="detail"><p class="txt">爱情：'+b.love.content+'</p><p class="txt">事业：'+b.career.content+"</p></div>",h[h.length]='<div class="more">'+a.Link.html({click:function(){c(),e.log("constellation","showAll",1)},cls:"nui-txt-link",text:"查看完整运势>"})+"</div>",h[h.length]="</div>",g.removeClass("gWel-weather-luck-none"),e.log("constellation","showData",1)):(h[h.length]='<div class="simple">您的今日运程是？ '+a.Link.html({click:function(){a.Ud.set({field:"huodong_option",flag:"wel_constellation",value:"1"}),c(),e.log("constellation","set",1),f.setTips("weltips_constell",!0)},cls:"nui-txt-link",text:"马上查看>"})+"</div>",h[h.length]='<div class="all">',h[h.length]='<div class="logo"><img src="http://mimg.127.net/p/js6/lib/img/xz/0.png" class="img"><p class="name">星座运势</p></div>',h[h.length]='<div class="blank">想看看你的星座信息，事业运程如何？ '+a.Link.html({click:function(){a.Ud.set({field:"huodong_option",flag:"wel_constellation",value:"1"}),c(),e.log("constellation","set",1),f.setTips("weltips_constell",!0)},cls:"nui-txt-link",text:"设置您的星座信息>"})+"</div>",h[h.length]="</div>",g.addClass("gWel-weather-luck-none")),g.html(h.join("")),a.Component.setEvents(),b?d._manageTips("constell",!1):d._manageTips("constell",!0)}function x(b,c,d){var e=this,f=e.module,g=f.action,h=["constell","mobile","mobile_pre"],i={constell:{isShow:!1},mobile:{isShow:!1}},j=!0,k=0;e._preHandleTips||(e._preHandleTips={}),a.Array.has(h,b)&&(e._preHandleTips[b]||(e._preHandleTips[b]={}),e._preHandleTips[b].ready=!0,e._preHandleTips[b].show=c,d&&(e._preHandleTips[b].data=d),a.Object.each(e._preHandleTips,function(b,c){return c.ready?(k++,void 0):(j=!1,a.BREAK)}),j&&k>=h.length&&(i.mobile.data=e._preHandleTips.mobile.data,g.getTips("weltips_mob",function(a){!a&&e._preHandleTips.mobile.show&&(i.mobile.isShow=!0),i.mobile.isShow||g.getTips("weltips_constell",function(a){!a&&e._preHandleTips.constell.show&&(i.constell.isShow=!0)}),e._showTips(i)})))}function y(d){var e,f=this,g=f.module,h=g.action;if(d.constell.isShow&&(f._tipLayer=new a.Layer({uniqueLayer:!0,params:"hasArr arrRight hasClose",renderTo:g.getEl("ScrollDiv"),pointTo:g.getEl("dvConstellation").find("div.simple"),fixX:-5,fixY:5,width:"200px",content:"新增星座运程指数，可查看每日运程情况",listeners:{closeclick:function(){h.setTips("weltips_constell",!0)}}}),f._tipLayer.render()),d.mobile.isShow){var i,j=d.mobile.data;i="<strong>您的邮箱存在风险，建议尽快改善</strong><br/>您的密码保护不够安全，如密码被他人篡改将无法通知您。强烈建议关联手机，忘记密码也可通过手机短信找回。<br/><div>"+a.Link.html({text:"下次不再出现",extcls:"nui-txt-cLink",click:function(){g.log("mobileTips","close","1"),e.hide(),h.setTips("weltips_mob",!0)},listeners:{render:function(){var a=document.createElement("div").style,b=a.cssFloat!==c?"cssFloat":a.styleFloat!==c?"styleFloat":"float",d={};d[b]="right",this.getEl().css(d)}}}),j&&j.mibao?(i+=a.Link.html({text:"立即关联手机号码",extcls:"nui-txt-cLink",click:function(){b.open("http://reg.163.com/mibao/controller/mob/bindsubmit.jsp"),g.log("mobileTips_mibao","click","1"),h.setTips("weltips_mob",!0)}}),g.log("mobileTips_mibao","show","1")):(i+=a.Link.html({click:function(){$E("support.OptionSupport",function(a){a.bindMobile()}),g.log("mobileTips_normal","click","1"),h.setTips("weltips_mob",!0)},extcls:"nui-txt-cLink",text:"立即关联手机号码"}),g.log("mobileTips_normal","show","1")),i+="</div>",e=new a.Layer({renderTo:g.getEl("ScrollDiv"),pointTo:g.getEl("dvHealth"),content:i,subclass:"tipsLayer",uniqueLayer:!0,width:"300px",params:"arrUp"}),a.Component.setEvents()}}function z(a){for(var b={},c=0;c<a.length;c++){var d=a[c].tabid;b[d]=a[c]}return b}try{var A=$L("module.BaseView");$L("module.welcome.WelcomeAction")}catch(B){return B}var C=a.Object,D=a.Function,E=a.Array;a.String;var F=6==a.Browser.ie();a.Ud;var G=a.createClass($N("module.welcome.WelcomeView"));C.mix(G,A,{WEATHER_DICT:{"00":!0,"01":!0,"02":!0,"03":!0,"04":!0,"05":!0,"06":["19"],"07":["08","09","10","11","12","21","22","23","24","25"],13:!0,14:["15","16","26","27","28"],17:["18"],20:["29","30","31"],53:!0},COSTELLATION:{"水瓶座":1,"双鱼座":2,"白羊座":3,"金牛座":4,"双子座":5,"巨蟹座":6,"狮子座":7,"处女座":8,"天秤座":9,"天蝎座":10,"射手座":11,"摩羯座":12},CONSTELLATION_ID:8},{init:d,getHtml:e,_getTopHtml:f,renderTabHtml:g,renderMailRecom:s,renderNoAdRecom:t,_getPanelHtml:k,_initPanelEvent:l,switchPanel:r,_getIframePanelHtml:m,renderWeather:h,renderHealth:q,renderConstellation:w,renderWarnTips:j,renderAvatar:u,renderClub:v,initWeatherConfig:i,configTabs:n,_initConfigTabs:o,_toggleConfigErrorTips:p,_manageTips:x,_showTips:y,_parseToObjConfig:z})}($,window),function(a,b){function c(){function c(c){var g=!($S("ad").show===!1&&"ud"==$S("ad").userType);if(!b._hasAd){if(!gAd.ready.rcmd||"all"!=c&&"rcmd"!=c||(g&&(e.renderMailRecom(),f.getRecommendLeftIframe(function(b){a("#welcomeRecommedLeftIframe").attr({src:b})})),d.autoSwitchMailRecom()),!gAd.ready.greet||"all"!=c&&"greet"!=c||d.getEl("dvGreetText").html(f.getGreet()),gAd.ready.welBanner&&("all"==c||"welBanner"==c)&&g){var h=d.getEl("dvPrmot"),i=a.Component.html({html:'<a title="去广告" href="javascript:void(0);" class="ym1 wc1"><b class="Cw0 nui-ico nui-ico-close-noHover"></b><b class="Db0"></b><span class="Bw0">去广告</span></a>',listeners:{click:{handler:function(){$E("product.Privileges",function(a){a.showProduct("noAd")})}}}}),j=$I("util.Misc").getTime();j>new Date(2016,6,20).getTime()&&j<new Date(2016,7,4).getTime()&&(i="");var k=i+f.getRightAd().html;h.html(k),a.Event.listen(h,"mouseover",function(){h.addClass("AM1")}),a.Event.listen(h,"mouseout",function(){h.removeClass("AM1")}),a.Component.setEvents()}!gAd.ready.welWeather||"all"!=c&&"welWeather"!=c||g&&d.getEl("dvWeatherPromote").html(f.getRightWeatherAd().html)}gAd.ready.rcmd&&gAd.ready.greet&&gAd.ready.welBanner&&gAd.ready.welBottom1&&gAd.ready.welBottom2&&gAd.ready.welBottom3&&gAd.ready.welBottom4&&(b._hasAd=!0)}var d=this,e=d.view,f=d.action;e.init(),f.init(function(){e.renderTabHtml(),c("all");var b=!($S("ad").show===!1&&"ud"==$S("ad").userType);b||e.renderNoAdRecom(),a.Ext.avatar_show&&f.getAvatar(z.bind(e.renderAvatar,e)),f.getCityCode(function(a){f.getWeather(a,z.bind(e.renderWeather,e,!1))}),f.getClubJiFen(z.bind(e.renderClub,e)),f.getHealth(z.bind(e.renderHealth,e)),a.Thread.run(function(){d.warnTips()}),a.Thread.run(function(){d.resize(),d.getEl("ScrollDiv").listen("scroll",z.bind(d.resize,d))}),a.Thread.run(function(){f.getTips()})}),a.Listener.listen("ad:dataChange",function(a){b._hasAd||c(a)}),b.setTimeout(function(){b._hasAd||c("all")},3e3)}function d(){var a=this,b=a.view,c=a.action;c.getCityMap(function(a){b.initWeatherConfig(a)})}function e(a){var b=this,c=b.view,d=b.action;d.setPos(a),d.getWeather(a,function(a){c.renderWeather(!0,a),c._showWeatherConfig=!1})}function f(c){var d=this,e=d.view,f=d.getEl("dvmailrecomPanelCtrl");if(f){var g=0;try{g=f.find(".item").doms.length}catch(h){}g>0&&("start"==c?d._recominterval||"mailrecom"!=d._currentTadid||(d._recominterval=setInterval(function(){if(a.Context.getModule()==d)try{var b=d._current.mailrecom||0,c=(b+1)%g;e.switchPanel(f.find("[data-index="+c+"]").dom,"mailrecom"),d._current.mailrecom=c}catch(h){}},A.MAILRECOM_SWITCH_TIME)):"stop"==c&&d._recominterval&&(b.clearInterval(d._recominterval),d._recominterval=null))}}function g(){var a=this;a.view,a.mailRecomInterval("stop")}function h(){var a=this,b=(a.view,a.action);a.mailRecomInterval("start"),a.getEl("dvGreetText").html(b.getGreet()),a.resize()}function i(){var b=this,c=b.view,d=b.action,e=d.getWarn(),f="";if(e){if(e.warnLogin){var g="http://reg.163.com/userLoginInfo.jsp?username="+$S("orgUid"),h="http://r.mail.163.com/r.jsp?url=https%3A%2F%2Freg.163.com%2Fmibao%2Fcontroller%2Fmob%2Findex.jsp&sign=375472632&_r_ignore_statId=1_13_8_4";return f=1==e.warnLogin?'温馨提示：您的帐号在邮箱登录时可能产生了<a class="gWel-lt-tips-a nui-txt-link" style="color:#fff !important;text-decoration:underline;" href="'+g+'&flag=1" target="_blank" >异常登录</a>'+'情况，建议绑定手机增加安全性<a class="gWel-lt-tips-a nui-txt-link"  style="color:#fff!important;text-decoration:underline;"  href="'+h+'&flag=1" target="_blank" onclick="$.Log.cache({\'welcome_tips_phone\':\'click\'});" >立即绑定</a>':'温馨提示：您的帐号可能通过手机或代理登录了其他网易产品，可<a class="gWel-lt-tips-a nui-txt-link" style="color:#fff !important;text-decoration:underline;"  href="'+g+'&flag=1" target="_blank" >查看详情</a>或<a class="gWel-lt-tips-a nui-txt-link" href="'+h+'&flag=1" target="_blank"  style="color:#fff!important;text-decoration:underline;"  onclick="$.Log.cache({\'welcome_tips_phone\':\'click\'});">绑定手机</a>增加安全性',c.renderWarnTips("err",f),a.Log.cache({welcome_tips_phone_show:"1"}),void 0}if(e.warn4WLetter){var i,j=a.Uri.getUrl("upgradeunlimit"),g='<a class="nui-txt-link" style="color:#fff !important;text-decoration:underline;" target="_blank" href="'+j+'" >免费升级到无限容量</a>';i=$S("isyeah")?a.Link.html({text:"旧邮件归档",extcls:"nui-txt-link",listeners:{render:function(){this.getEl().dom.style.cssText="color:#fff !important;text-decoration:underline;"}},click:function(){d.setMailArchive("on",function(){a.Msgbox.show({icon:"suc",title:"您已成功开通旧邮件自动存档功能。"})},function(b){a.Msgbox.show({icon:"error",title:"开通失败："+b})})}}):'<a class="nui-txt-link" style="color:#fff !important;text-decoration:underline;" target="_blank" href="javascript:void(0)" onclick="$E(\'interface.OutlinkInterface\', function(outlink){outlink.goOutlink({key : \'optimizer_clean\'});});">清理无用邮件</a>';var k="警告：您邮箱的邮件数量即将达到当前等级上限，请尽快 "+i+" 或 "+g+"，以免影响正常使用。";return $S("isyeah")?d.getMailArchive(function(a){a.enable||c.renderWarnTips("err",k)}):c.renderWarnTips("err",k),void 0}e.warnBrowser&&6==a.Browser.ie()&&(f="您的浏览器为IE6.0, 版本过旧存在严重的安全风险，11月1日后将无法登录网易邮箱，建议您改用谷歌浏览器或火狐浏览器等。",c.renderWarnTips("err",f),a.Log.cache({welcome_tips_ie6_show:"1"}))}}function j(){var b=this;b._alreadyAutoSwitch||a.Thread.run(function(){b._noAutoSwitch||b._alreadyAutoSwitch||(a.Component.find("#"+b.createId("compWelcomeTab")).active(0),b._alreadyAutoSwitch=!0)},7e3)}function k(){var b=this,c=b.getEl("ScrollDiv"),d=a(c).find(".gWel-inner").outerHeight();6!=a.Browser.ie()?a(c).outerHeight()+c.dom.scrollTop<d?b.getEl("dvTabs").find(".gWel-tabs-list").addClass("gWel-tabs-list-cover gWel-tabs-list-fixed"):b.getEl("dvTabs").find(".gWel-tabs-list").removeClass("gWel-tabs-list-cover gWel-tabs-list-fixed"):a(c).outerHeight()+c.dom.scrollTop<d?b.getEl("dvTabs").find(".gWel-tabs-list").addClass("gWel-tabs-list-cover").css({top:434-(d-a(c).outerHeight())+c.dom.scrollTop+"px"}):b.getEl("dvTabs").find(".gWel-tabs-list").removeClass("gWel-tabs-list-cover").css({top:"424px"});var e=b.getEl("dvMoney");e&&(document.documentElement.clientWidth>1700?e.show():e.hide())}function l(){var c=this;c.getEl("ScrollDiv"),c.dragItem=new a.Component({renderTo:b.document.body,hidden:!0,html:'<div style="left:0px;top:0px;z-index:9999;position:absolute;border:2px solid #06B43F;line-height: 0"></div>'});var d=a.Browser.getVersion()||[0,0];a.Browser.ie()&&d[0]<=8&&(document.ondragstart=function(){return!1});var e=a.getClass("netease.mail.util.DragDrop");this.drag=new e({drag:c.dragItem.getEl().dom,trigger:a("#"+c.createId("dvConfigTabs")).dom,triggerOffset:5,noListenerSelect:!0,listeners:[{name:"mousedown",handler:a.Function.bind(c._dragInit,c)},{name:"start",handler:a.Function.bind(c._dragStart,c)},{name:"drag",handler:a.Function.bind(c._dragMove,c)},{name:"drop",handler:a.Function.bind(c._dragDrop,c)}]}),c.drag._start=!1}function m(){var b=this,c=a.Event.get();if(3!=c.which){var d=a.Event.getTarget(),e=b.findItemByDom(d);if(e&&"welcomeitem"==e.xtype&&"fixed"!=e.rawConfig.mode){b.nextItem=b.findNextItem(e.rawConfig),b.selectedItem=e;var c=a.Event.get(),f=b.dragItem,g=e.getEl().dom.firstChild.outerHTML;f.getEl().html(g);var h=f.getEl().dom;h.style.left=c.pageX+"px",h.style.top=c.pageY+"px",b.drag._start=!0}}}function n(){var a=this;a.dragItem.show(),a.selectedItem.setMode("drag")}function o(){var b=this;b.view;var c=b.action,d=a("#"+b.createId("dvWelcomeConfigLine")),e=a("#"+b.createId("dvWelcomeConfigShow")),f=a("#"+b.createId("dvWelcomeConfigWait")),g=d.offset(),h=a.Event.get(),i=g[1];h.pageX;var j=h.pageY,k=b.selectedItem.rawConfig.show;if(k)if(j+42>i){if(!b.hasFillItem){b.hasFillItem=!0;var l=b.selectedItem.rawConfig;b.toAddItem=new a.WelcomeItem(l),b.nextItem?b.toAddItem.render(b.nextItem.getEl().dom,"before"):b.toAddItem.render(f)}}else b.hasFillItem&&(b.hasFillItem=!1,b.toAddItem.destroy(),b.toAddItem=null);else if(i>j+42){var m=a.Component.find("#"+e.dom.lastChild.id,!0);"new"==m.rawConfig.mode&&m.destroy();var n=c.getConfigTabs().show;if(n.length>=6)b.showTips("最多只能添加5个自定义标签");else if(!b.hasFillItem){b.hasFillItem=!0;var l=b.selectedItem.rawConfig;b.toAddItem=new a.WelcomeItem(l),b.nextItem?b.toAddItem.render(b.nextItem.getEl().dom,"before"):b.toAddItem.render(e)}}else b.hasFillItem&&(b.hasFillItem=!1,b.toAddItem.destroy(),b.toAddItem=null),b.showTips()}function p(){var a=this,b=a.action;if(0!=a.drag._start){if(a.drag._start=!1,a.dragItem.hide(),a.toAddItem){var c=a.toAddItem.rawConfig;c.show?"tab0"!=a.toAddItem.rawConfig.udflag&&(b.removeTab(a.toAddItem.rawConfig.udflag),c.show=!c.show):(b.addTab(a.toAddItem.rawConfig.udflag),c.show=!c.show),a._bIsChangeTab=!0,a.toAddItem.setMode(),a.toAddItem=null,a.selectedItem.destroy(),a.selectedItem=null}a.selectedItem&&(a.selectedItem.setMode(),a.selectedItem=null)}}function q(b,c){for(;"DIV"!=b.tagName||-1==b.className.indexOf("item");)b=b.parentNode;if(b){var d=a.Component.getItem(b);if(d)return c?d.xtype==c?d:null:d}return null}function r(b){var c=this;c.view;for(var d,e,f,g=a("#"+c.createId("dvWelcomeConfigShow")),h=a("#"+c.createId("dvWelcomeConfigWait")),i=c.action,j=i.getConfigTabs(),k=j.all,l=!1,m=0;m<k.length;m++)if(k[m].tabid!=b.tabid){if(l&&k[m].show==!b.show){e=m,f=k[m];break}}else d=m,l=!0;var n;if(e>=0)if(b.show){for(var o=j.wait,m=0;m<o.length;m++)if(o[m].tabid==f.tabid){n=a.Component.find("#"+h.dom.childNodes[m].id,!0);break}}else for(var o=j.show,m=0;m<o.length;m++)if(o[m].tabid==f.tabid){n=a.Component.find("#"+g.dom.childNodes[m].id,!0);break}return n}function s(c){function d(){f.hasClass("gWel-tips-err")?(f.html('<span class="gWel-tips-txt"></span>'),f.removeClass("gWel-tips-err")):(f.html('<span class="gWel-tips-icon"><b class="gWel-ico"></b></span><span class="gWel-tips-txt">'+c+"</span>"),f.addClass("gWel-tips-err"))}var e=this,f=a("#"+e.createId("dvConfigTips"));if(c){f.html('<span class="gWel-tips-icon"><b class="gWel-ico"></b></span><span class="gWel-tips-txt">'+c+"</span>"),f.show();var g=0,h=null;f.addClass("gWel-tips-err"),h=b.setInterval(function(){g++,d(),(g>3||f.hidden)&&b.clearInterval(h)},200)}else f.hide()}try{var t=$L("module.BaseModule"),u=$L("module.welcome.WelcomeView"),v=$L("module.welcome.WelcomeAction"),w=$L("module.welcome.WelcomeListener")}catch(x){return x}var y=a.Object,z=a.Function;a.Array;var A=a.createClass($N("module.welcome.WelcomeModule"));y.mix(A,t,{MAILRECOM_SWITCH_TIME:3e3,View:u,Action:v,Listener:w,cls:"gWel",ariaLabel:"欢迎页"},{init:c,showWeatherConfig:d,setWeatherPos:e,mailRecomInterval:f,switchOut:g,switchIn:h,warnTips:i,autoSwitchMailRecom:j,_dragSetting:l,_dragInit:m,_dragStart:n,_dragMove:o,_dragDrop:p,findItemByDom:q,findNextItem:r,showTips:s,resize:k})
}($,window),function(){var a="standard",b={"module.welcome.WelcomeView":!0,"module.mbox.BrandView":!0,"module.mbox.Field":!0,"module.mbox.Letter":!0,"module.mbox.ListView":!0,"module.mbox.MboxView":!0,"module.mbox.None":!0,"module.mbox.Pager":!0,"module.mbox.Period":!0,"module.mbox.PreviewView":!0,"module.mbox.SearchView":!0,"module.mbox.Tips":!0,"module.mbox.Title":!0,"module.mbox.Toolbar":!0,"module.compose.ComposeView":!0,"module.read.BaseReadView":!0,"module.read.ReadView":!0,"module.read.MailReaderView":!0,"module.thread.ThreadView":!0,"module.contact.ContactView":!0,"module.contact.ContactTpl":!0,"module.contact.NavConf":!0,"module.contact.Toolbar":!0,"module.options.MailSecurityView":!0,"module.options.BaseListSection":!0,"module.options.BaseOptionView":!0,"module.options.BaseSection":!0,"module.options.FolderTagView":!0,"module.options.LinkView":!0,"module.options.MailFilterView":!0,"module.options.NavConf":!0,"module.options.PersonalView":!0,"module.options.SectionAntiSpam":!0,"module.options.SectionAccount":!0,"module.options.SectionAdvanceSet":!0,"module.options.SectionAutoFw":!0,"module.options.SectionCompose":!0,"module.options.SectionBaseSet":!0,"module.options.SectionAfterSending":!0,"module.options.SectionSectionMailRecall":!0,"module.options.SectionMailCenter":!0,"module.options.SectionMailCenterDetail":!0,"module.options.SectionMailCenterListener":!0,"module.options.SectionReadMail":!0,"module.options.SectionRefuseList":!0,"module.options.SectionRelatedAccount":!0,"module.options.SectionRelatedAccountListener":!0,"module.options.SectionSafeList":!0,"module.options.SectionSenderManage":!0,"module.options.SectionSenderManageListener":!0,"module.options.SectionSenderSubject":!0,"module.options.SignView":!0,"module.options.SkinView":!0};$G.mailPattern[a]=b}($,window),function(){var a="student",b={"module.welcome.WelcomeView":!0,"module.mbox.BrandView":!0,"module.mbox.Field":!0,"module.mbox.Letter":!0,"module.mbox.ListView":!0,"module.mbox.MboxView":!0,"module.mbox.None":!0,"module.mbox.Pager":!0,"module.mbox.Period":!0,"module.mbox.PreviewView":!0,"module.mbox.SearchView":!0,"module.mbox.Tips":!0,"module.mbox.Title":!0,"module.mbox.Toolbar":!0,"module.compose.ComposeView":!0,"module.read.BaseReadView":!0,"module.read.ReadView":!0,"module.read.MailReaderView":!0,"module.thread.ThreadView":!0,"module.contact.ContactView":!0,"module.contact.ContactTpl":!0,"module.contact.NavConf":!0,"module.contact.Toolbar":!0,"module.options.MailSecurityView":!0,"module.options.BaseListSection":!0,"module.options.BaseOptionView":!0,"module.options.BaseSection":!0,"module.options.FolderTagView":!0,"module.options.LinkView":!0,"module.options.MailFilterView":!0,"module.options.NavConf":!0,"module.options.PersonalView":!0,"module.options.SectionAntiSpam":!0,"module.options.SectionAccount":!0,"module.options.SectionAdvanceSet":!0,"module.options.SectionAutoFw":!0,"module.options.SectionCompose":!0,"module.options.SectionBaseSet":!0,"module.options.SectionAfterSending":!0,"module.options.SectionMailCenter":!0,"module.options.SectionMailCenterDetail":!0,"module.options.SectionMailCenterListener":!0,"module.options.SectionReadMail":!0,"module.options.SectionRefuseList":!0,"module.options.SectionRelatedAccount":!0,"module.options.SectionRelatedAccountListener":!0,"module.options.SectionSafeList":!0,"module.options.SectionSenderManage":!0,"module.options.SectionSenderManageListener":!0,"module.options.SectionSenderSubject":!0,"module.options.SignView":!0,"module.options.SkinView":!0};$G.mailPattern[a]=b}($,window);